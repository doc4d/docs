"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[55181],{603905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>u});var r=o(667294);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,r,a=function(e,t){if(null==e)return{};var o,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)o=n[r],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var o=e.components,a=e.mdxType,n=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=p(o),u=a,h=m["".concat(l,".").concat(u)]||m[u]||d[u]||n;return o?r.createElement(h,i(i({ref:t},c),{},{components:o})):r.createElement(h,i({ref:t},c))}));function u(e,t){var o=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var n=o.length,i=new Array(n);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var p=2;p<n;p++)i[p]=o[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,o)}m.displayName="MDXCreateElement"},254078:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>c});o(667294);var r=o(603905);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},a.apply(this,arguments)}function n(e,t){if(null==e)return{};var o,r,a=function(e,t){if(null==e)return{};var o,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)o=n[r],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}const i={id:"clientServer",title:"Gest\xe3o Cliente/Servidor"},s=void 0,l={unversionedId:"Desktop/clientServer",id:"version-20-R5/Desktop/clientServer",title:"Gest\xe3o Cliente/Servidor",description:"As aplica\xe7\xf5es 4D desktop podem ser utilizadas numa configura\xe7\xe3o Cliente/Servidor, quer como aplica\xe7\xf5es cliente/servidor fundidas, quer como projectos remotos.",source:"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R5/Desktop/clientServer.md",sourceDirName:"Desktop",slug:"/Desktop/clientServer",permalink:"/docs/pt/Desktop/clientServer",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20Desktop%2FclientServer.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"clientServer",title:"Gest\xe3o Cliente/Servidor"},sidebar:"docs",previous:{title:"Desktop Applications",permalink:"/docs/pt/category/desktop-applications"},next:{title:"Access Rights",permalink:"/docs/pt/category/access-rights"}},p={},c=[{value:"Abrir uma aplica\xe7\xe3o cliente/servidor fundida",id:"abrir-uma-aplica\xe7\xe3o-clienteservidor-fundida",level:2},{value:"Abrir um projecto remoto",id:"abrir-um-projecto-remoto",level:2},{value:"Atualizar ficheiros de projeto no servidor",id:"atualizar-ficheiros-de-projeto-no-servidor",level:3},{value:"Atualizar ficheiros de projeto em m\xe1quinas remotas",id:"atualizar-ficheiros-de-projeto-em-m\xe1quinas-remotas",level:3},{value:"Utiliza\xe7\xe3o de 4D e 4D Server na mesma m\xe1quina",id:"utiliza\xe7\xe3o-de-4d-e-4d-server-na-mesma-m\xe1quina",level:2},{value:"Sess\xf5es de usu\xe1rio remoto",id:"sess\xf5es-de-usu\xe1rio-remoto",level:2},{value:"Utiliza\xe7\xe3o",id:"utiliza\xe7\xe3o",level:3},{value:"Disponibilidade",id:"disponibilidade",level:3},{value:"Ver tamb\xe9m (post do blog)",id:"ver-tamb\xe9m-post-do-blog",level:3}],d={toc:c};function m(e){var{components:t}=e,i=n(e,["components"]);return(0,r.kt)("wrapper",a({},d,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"As aplica\xe7\xf5es 4D desktop podem ser utilizadas numa configura\xe7\xe3o Cliente/Servidor, quer como aplica\xe7\xf5es cliente/servidor fundidas, quer como projectos remotos."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"merged client/server applications")," are generated by the ",(0,r.kt)("a",a({parentName:"p"},{href:"/docs/pt/Desktop/building#clientserver-page"}),"Build Application manager"),". S\xe3o utilizados para implementa\xe7\xf5es de aplica\xe7\xf5es.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Os ",(0,r.kt)("strong",{parentName:"p"},"projectos remotos")," s\xe3o ficheiros ",(0,r.kt)("a",a({parentName:"p"},{href:"/docs/pt/Project/architecture"}),".4DProject")," abertos pelo 4D Server e acedidos com 4D em modo remoto. O servidor envia uma vers\xe3o .4dz do projecto (",(0,r.kt)("a",a({parentName:"p"},{href:"/docs/pt/Desktop/building#build-compiled-structure"}),"formato comprimido"),") para o 4D remoto, assim os ficheiros de estrutura s\xe3o apenas de leitura. Esta configura\xe7\xe3o \xe9 normalmente utilizada para testar aplica\xe7\xf5es."))),(0,r.kt)("p",null,(0,r.kt)("img",{src:o(518834).Z,width:"581",height:"249"})),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Connecting to a remote projet from the ",(0,r.kt)("strong",{parentName:"p"},"same machine as 4D Server")," allows modifying the project files. This ",(0,r.kt)("a",a({parentName:"p"},{href:"#using-4d-and-4d-server-on-the-same-machine"}),"specific feature")," allows to develop a client/server application in the same context as the deployment context.")),(0,r.kt)("h2",a({},{id:"abrir-uma-aplica\xe7\xe3o-clienteservidor-fundida"}),"Abrir uma aplica\xe7\xe3o cliente/servidor fundida"),(0,r.kt)("p",null,"A merged client/server application is customized and its starting is simplified:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Para iniciar a parte do servidor, o usu\xe1rio simplesmente clica duas vezes no aplicativo do servidor. The database does not need to be selected."),(0,r.kt)("li",{parentName:"ul"},"Para iniciar a parte do cliente, o usu\xe1rio simplesmente clica duas vezes no aplicativo cliente, que se conecta diretamente ao aplicativo do servidor.")),(0,r.kt)("p",null,"These principles are detailed in the ",(0,r.kt)("a",a({parentName:"p"},{href:"/docs/pt/Desktop/building#what-is-a-clientserver-application"}),"Build Application")," page."),(0,r.kt)("h2",a({},{id:"abrir-um-projecto-remoto"}),"Abrir um projecto remoto"),(0,r.kt)("p",null,"A primeira vez que se liga a um projecto 4D Server atrav\xe9s de um 4D remoto, normalmente utilizar\xe1 o di\xe1logo de liga\xe7\xe3o padr\xe3o. Thereafter, you will be able to connect directly using the ",(0,r.kt)("strong",{parentName:"p"},"Open Recent Projects")," menu or a 4DLink shortcut file."),(0,r.kt)("p",null,"Para conectar remotamente a um projeto 4D Server:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Fa\xe7a uma das seguintes op\xe7\xf5es:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"S\xe9lectionnez ",(0,r.kt)("strong",{parentName:"li"},"Se connecter \xe0 4D Server")," dans la bo\xeete de dialogue de l'Assistant de bienvenue"),(0,r.kt)("li",{parentName:"ul"},"Select ",(0,r.kt)("strong",{parentName:"li"},"Connect to 4D Server")," in the Welcome Wizard dialog, OR Select ",(0,r.kt)("strong",{parentName:"li"},"Open/Remote Project...")," from the ",(0,r.kt)("strong",{parentName:"li"},"File")," menu or the ",(0,r.kt)("strong",{parentName:"li"},"Open")," toolbar button.")))),(0,r.kt)("p",null,"Aparece o di\xe1logo de liga\xe7\xe3o do 4D Server. This dialog has three tabs: ",(0,r.kt)("strong",{parentName:"p"},"Recent"),", ",(0,r.kt)("strong",{parentName:"p"},"Available"),", and ",(0,r.kt)("strong",{parentName:"p"},"Custom"),"."),(0,r.kt)("p",null,"If 4D Server is connected to the same subnetwork as the remote 4D, select ",(0,r.kt)("strong",{parentName:"p"},"Available"),". 4D Server includes a built-in broadcasting system that, by default, publishes the name of the 4D Server projects available over the network. A lista \xe9 classificada por ordem de aparecimento e atualizada dinamicamente."),(0,r.kt)("p",null,(0,r.kt)("img",{src:o(785906).Z,width:"522",height:"482"})),(0,r.kt)("p",null,"To connect to a server from the list, double-click on its name or select it and click the ",(0,r.kt)("strong",{parentName:"p"},"OK")," button."),(0,r.kt)("p",null,"If the published project is not displayed in the ",(0,r.kt)("strong",{parentName:"p"},"Available")," list, select ",(0,r.kt)("strong",{parentName:"p"},"Custom"),". The Custom page allows you to connect to a published server on the network using its network address and assigning it a customized name."),(0,r.kt)("p",null,(0,r.kt)("img",{src:o(231171).Z,width:"522",height:"482"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Project name"),": Defines the local name of the 4D Server project. This name will be used in the ",(0,r.kt)("strong",{parentName:"li"},"Recent")," page when referring to the project."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Network address"),": The IP address of the machine where the 4D Server was launched.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"If two servers are executed simultaneously on the same machine, the IP address must be followed by a colon and port number, for example: ",(0,r.kt)("inlineCode",{parentName:"li"},"192.168.92.104:19814"),"."),(0,r.kt)("li",{parentName:"ul"},"Por padr\xe3o, a porta de publica\xe7\xe3o de um 4D Server \xe9 19813. Este n\xfamero pode ser modificado nas defini\xe7\xf5es do Projecto.")))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"The ",(0,r.kt)("strong",{parentName:"p"},"Activate development mode")," option opens the remote connection in a special read/write mode and requires to access the project folder from the remote 4D (compatibility option).")),(0,r.kt)("p",null,"Once this page assigns a server, clicking the ",(0,r.kt)("strong",{parentName:"p"},"OK")," button will allow you to connect to the server."),(0,r.kt)("p",null,"Once a connection to the server has been established, the remote project will be listed on the ",(0,r.kt)("strong",{parentName:"p"},"Recent")," tab."),(0,r.kt)("h3",a({},{id:"atualizar-ficheiros-de-projeto-no-servidor"}),"Atualizar ficheiros de projeto no servidor"),(0,r.kt)("p",null,"4D Server automatically creates and sends the remote machines a ",(0,r.kt)("a",a({parentName:"p"},{href:"/docs/pt/Desktop/building#build-compiled-structure"}),".4dz version")," of the ",(0,r.kt)("em",{parentName:"p"},".4DProject")," project file (not compressed) in interpreted mode."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"An updated .4dz version of the project is automatically produced when necessary, ",(0,r.kt)("em",{parentName:"li"},"i.e.")," when the project has been modified and reloaded by 4D Server. O projecto \xe9 recarregado:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"automatically, when the 4D Server application window comes to the front of the OS or when the 4D application on the same machine saves a modification (see below)."),(0,r.kt)("li",{parentName:"ul"},"quando o comando ",(0,r.kt)("inlineCode",{parentName:"li"},"RELOAD PROJECT")," \xe9 executado. Calling this command is necessary for example when you have pulled a new version of the project from the source control platform.")))),(0,r.kt)("h3",a({},{id:"atualizar-ficheiros-de-projeto-em-m\xe1quinas-remotas"}),"Atualizar ficheiros de projeto em m\xe1quinas remotas"),(0,r.kt)("p",null,"When an updated .4dz version of the project has been produced on 4D Server, connected remote 4D machines must log out and reconnect to 4D Server in order to benefit from the updated version."),(0,r.kt)("h2",a({},{id:"utiliza\xe7\xe3o-de-4d-e-4d-server-na-mesma-m\xe1quina"}),"Utiliza\xe7\xe3o de 4D e 4D Server na mesma m\xe1quina"),(0,r.kt)("p",null,"When 4D connects to a 4D Server on the same machine, the application behaves as 4D in single user mode and the design environment allows you to edit project files. This feature allows you to develop a client/server application in the same context as the deployment context."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"When 4D connects to a 4D Server on the same machine, the ",(0,r.kt)("strong",{parentName:"p"},"development mode")," is automatically activated, whatever the ",(0,r.kt)("a",a({parentName:"p"},{href:"#opening-a-remote-project"}),"opening option")," status.")),(0,r.kt)("p",null,"Each time 4D performs a ",(0,r.kt)("strong",{parentName:"p"},"Save all")," action from the design environment (explicitly from ",(0,r.kt)("strong",{parentName:"p"},"File")," menu or implicitly by switching to application mode for example), 4D Server synchronously reloads project files. 4D waits for 4D Server to finish reloading the project files before it continues."),(0,r.kt)("p",null,"However, you need to pay attention to the following behavior differences compared to ",(0,r.kt)("a",a({parentName:"p"},{href:"/docs/pt/Project/architecture"}),"standard project architecture"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'the userPreferences.{username} folder used by 4D is not the same folder used by 4D Server in the project folder. Instead, it is a dedicated folder, named "userPreferences", stored in the project system folder (i.e., the same location as when opening a .4dz project).'),(0,r.kt)("li",{parentName:"ul"},'the folder used by 4D for derived data is not the folder named "DerivedData" in the project folder. Instead it is a dedicated folder named "DerivedDataRemote" located in the project system folder.'),(0,r.kt)("li",{parentName:"ul"},"o ficheiro catalog.4DCatalog n\xe3o \xe9 editado por 4D, mas pelo 4D Server. As informa\xe7\xf5es do cat\xe1logo s\xe3o sincronizadas atrav\xe9s de pedidos cliente/servidor"),(0,r.kt)("li",{parentName:"ul"},"o ficheiro directory.json n\xe3o \xe9 editado por 4D, mas pelo 4D Server. As informa\xe7\xf5es do diret\xf3rio s\xe3o sincronizadas atrav\xe9s de pedidos cliente/servidor"),(0,r.kt)("li",{parentName:"ul"},"4D utiliza os seus pr\xf3prios componentes internos e plug-ins em vez dos do 4D Server.")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"N\xe3o \xe9 recomendado instalar plug-ins ou componentes no n\xedvel da aplica\xe7\xe3o 4D, ou 4D Server.")),(0,r.kt)("h2",a({},{id:"sess\xf5es-de-usu\xe1rio-remoto"}),"Sess\xf5es de usu\xe1rio remoto"),(0,r.kt)("p",null,"On the server, the ",(0,r.kt)("a",a({parentName:"p"},{href:"/docs/pt/API/SessionClass#session"}),(0,r.kt)("inlineCode",{parentName:"a"},"Session"))," command returns a ",(0,r.kt)("inlineCode",{parentName:"p"},"session")," object describing the current user session. This object is handled through the functions and properties of the ",(0,r.kt)("a",a({parentName:"p"},{href:"/docs/pt/API/SessionClass"}),(0,r.kt)("inlineCode",{parentName:"a"},"Session")," class"),"."),(0,r.kt)("h3",a({},{id:"utiliza\xe7\xe3o"}),"Utiliza\xe7\xe3o"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"session")," object allows you to get information about the remote user session. You can share data between all processes of the user session using the ",(0,r.kt)("a",a({parentName:"p"},{href:"/docs/pt/API/SessionClass#storage"}),(0,r.kt)("inlineCode",{parentName:"a"},"session.storage"))," shared object."),(0,r.kt)("p",null,"For example, you can launch a user authentication and verification procedure when a client connects to the server, involving entering a code sent by e-mail or SMS into the application. You then add the user information to the session storage, enabling the server to identify the user. This way, the 4D server can access user information for all client processes, enabling customized code to be written according to the user's role."),(0,r.kt)("h3",a({},{id:"disponibilidade"}),"Disponibilidade"),(0,r.kt)("p",null,"The remote user ",(0,r.kt)("inlineCode",{parentName:"p"},"session")," object is available from:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"M\xe9todos de projeto que t\xeam o atributo ",(0,r.kt)("a",a({parentName:"li"},{href:"/docs/pt/Project/code-overview#execute-on-server"}),"Execute on Server"),' (s\xe3o executados no processo "geminado" do processo do cliente),'),(0,r.kt)("li",{parentName:"ul"},"Triggers,"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"On Server Abrir Conex\xe3o")," e ",(0,r.kt)("inlineCode",{parentName:"li"},"On Server Encerrar Conex\xe3o")," m\xe9todos do banco de dados.")),(0,r.kt)("admonition",a({},{type:"info"}),(0,r.kt)("p",{parentName:"admonition"},"All stored procedures on the server share the same virtual user session. For more information, see ",(0,r.kt)("a",a({parentName:"p"},{href:"https://doc.4d.com/4Dv20R5/4D/20-R5/4D-Server-and-the-4D-Language.300-6932726.en.html"}),"this page on doc.4d.com"),".")),(0,r.kt)("h3",a({},{id:"ver-tamb\xe9m-post-do-blog"}),"Ver tamb\xe9m (post do blog)"),(0,r.kt)("p",null,(0,r.kt)("a",a({parentName:"p"},{href:"https://blog.4d.com/new-4D-remote-session-object-with-client-server-connection-and-stored-procedure"}),"4D remote session object with Client/Server connection and Stored procedure"),"."))}m.isMDXComponent=!0},231171:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/serverConnect2-9dc60df13672f8189273aec3efcab19d.png"},518834:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/localremote-5c33fe5479db4c271ef3a6dabde98395.png"},785906:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/serverConnect-cb74aeff8307fbc27a084e5c6ec84144.png"}}]);