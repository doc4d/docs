"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[30444],{603905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>k});var n=a(667294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),i=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},m=function(e){var t=i(e.components);return n.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,m=d(e,["components","mdxType","originalType","parentName"]),u=i(a),k=r,c=u["".concat(s,".").concat(k)]||u[k]||p[k]||o;return a?n.createElement(c,l(l({ref:t},m),{},{components:a})):n.createElement(c,l({ref:t},m))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,l=new Array(o);l[0]=u;var d={};for(var s in t)hasOwnProperty.call(t,s)&&(d[s]=t[s]);d.originalType=e,d.mdxType="string"==typeof e?e:r,l[1]=d;for(var i=2;i<o;i++)l[i]=a[i];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},35601:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>d,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>m});a(667294);var n=a(603905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const l={id:"DataStoreClass",title:"DataStore"},d=void 0,s={unversionedId:"API/DataStoreClass",id:"version-20-R5/API/DataStoreClass",title:"DataStore",description:"Um [Datastore] (ORDA/dsMapping.md#datastore) \xe9 o objeto de interface fornecido pelo ORDA para fazer refer\xeancia e acessar um banco de dados. Os objetos Datastore s\xe3o retornados pelos seguintes comandos:",source:"@site/i18n/pt/docusaurus-plugin-content-docs/version-20-R5/API/DataStoreClass.md",sourceDirName:"API",slug:"/API/DataStoreClass",permalink:"/docs/pt/API/DataStoreClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FDataStoreClass.md%20(20-R5)&body=Please%20enter%20your%20comment%3A",tags:[],version:"20-R5",frontMatter:{id:"DataStoreClass",title:"DataStore"},sidebar:"docs",previous:{title:"DataClass",permalink:"/docs/pt/API/DataClassClass"},next:{title:"Email",permalink:"/docs/pt/API/EmailObjectClass"}},i={},m=[{value:"Resumo",id:"resumo",level:3},{value:"ds",id:"ds",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Exemplo 1",id:"exemplo-1",level:4},{value:"Exemplo 2",id:"exemplo-2",level:4},{value:"Open datastore",id:"open-datastore",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-1",level:4},{value:"Exemplo 1",id:"exemplo-1-1",level:4},{value:"Exemplo 2",id:"exemplo-2-1",level:4},{value:"Exemplo 3",id:"exemplo-3",level:4},{value:"Gest\xe3o de erros",id:"gest\xe3o-de-erros",level:4},{value:"<em>.dataclassName</em>",id:"dataclassname",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-2",level:4},{value:"Exemplo",id:"exemplo",level:4},{value:".cancelTransaction()",id:"canceltransaction",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-3",level:4},{value:"Exemplo",id:"exemplo-4",level:4},{value:".clearAllRemoteContexts()",id:"clearallremotecontexts",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-4",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m",level:4},{value:".encryptionStatus()",id:"encryptionstatus",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-5",level:4},{value:"Exemplo",id:"exemplo-5",level:4},{value:".flushAndLock()",id:"flushandlock",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-6",level:4},{value:"Exemplo",id:"exemplo-6",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-1",level:4},{value:".getAllRemoteContexts()",id:"getallremotecontexts",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-7",level:4},{value:"Exemplo",id:"exemplo-7",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-2",level:4},{value:".getGlobalStamp()",id:"getglobalstamp",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-8",level:4},{value:"Exemplo",id:"exemplo-8",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-3",level:4},{value:".getInfo()",id:"getinfo",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-9",level:4},{value:"Exemplo 1",id:"exemplo-1-2",level:4},{value:"Exemplo 2",id:"exemplo-2-2",level:4},{value:".getRemoteContextInfo()",id:"getremotecontextinfo",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-10",level:4},{value:"Objeto devolvido",id:"objeto-devolvido",level:4},{value:"Exemplo",id:"exemplo-9",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-4",level:4},{value:".getRequestLog()",id:"getrequestlog",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-11",level:4},{value:"Exemplo",id:"exemplo-10",level:4},{value:".isAdminProtected()",id:"isadminprotected",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-12",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-5",level:4},{value:".locked()",id:"locked",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-13",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-6",level:4},{value:".makeSelectionsAlterable()",id:"makeselectionsalterable",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-14",level:4},{value:".provideDataKey()",id:"providedatakey",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-15",level:4},{value:"Exemplo",id:"exemplo-11",level:4},{value:".setAdminProtection()",id:"setadminprotection",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-16",level:4},{value:"Exemplo",id:"exemplo-12",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-7",level:4},{value:".setGlobalStamp()",id:"setglobalstamp",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-17",level:4},{value:"Exemplo",id:"exemplo-13",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-8",level:4},{value:".setRemoteContextInfo()",id:"setremotecontextinfo",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-18",level:4},{value:"Exemplo 1",id:"exemplo-1-3",level:4},{value:"Exemplo 2",id:"exemplo-2-3",level:4},{value:"Exemplo 3 - Listbox",id:"exemplo-3---listbox",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-9",level:4},{value:".startRequestLog()",id:"startrequestlog",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-19",level:4},{value:"Do lado do cliente",id:"do-lado-do-cliente",level:4},{value:"Do lado do servidor",id:"do-lado-do-servidor",level:4},{value:"Exemplo 1",id:"exemplo-1-4",level:4},{value:"Exemplo 2",id:"exemplo-2-4",level:4},{value:"Exemplo 3",id:"exemplo-3-1",level:4},{value:".startTransaction()",id:"starttransaction",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-20",level:4},{value:"Exemplo",id:"exemplo-14",level:4},{value:".stopRequestLog()",id:"stoprequestlog",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-21",level:4},{value:"Exemplo",id:"exemplo-15",level:4},{value:".unlock()",id:"unlock",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-22",level:4},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m-10",level:4},{value:".validateTransaction()",id:"validatetransaction",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-23",level:4},{value:"Exemplo",id:"exemplo-16",level:4}],p={toc:m};function u(e){var{components:t}=e,a=o(e,["components"]);return(0,n.kt)("wrapper",r({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Um ","[Datastore]"," (ORDA/dsMapping.md#datastore) \xe9 o objeto de interface fornecido pelo ORDA para fazer refer\xeancia e acessar um banco de dados. Os objetos ",(0,n.kt)("inlineCode",{parentName:"p"},"Datastore")," s\xe3o retornados pelos seguintes comandos:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"#ds"}),"ds"),": um atalho para o datastore principal"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"#open-datastore"}),"Abrir datastore"),": para abrir qualquer datastore remoto")),(0,n.kt)("h3",r({},{id:"resumo"}),"Resumo"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#canceltransaction"}),(0,n.kt)("strong",{parentName:"a"},".cancelTransaction()")),(0,n.kt)("br",null),"cancela a transa\xe7\xe3o")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#clearallremotecontexts"}),(0,n.kt)("strong",{parentName:"a"},".clearAllRemoteContexts()")),(0,n.kt)("br",null),"limpa todos os atributos de todos os contextos ativos no reposit\xf3rio de dados")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#dataclassname"}),(0,n.kt)("strong",{parentName:"a"},(0,n.kt)("em",{parentName:"strong"},".dataclassName"))," : 4D.DataClass"),(0,n.kt)("br",null),"cont\xe9m uma descri\xe7\xe3o da dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#encryptionstatus"}),(0,n.kt)("strong",{parentName:"a"},".encryptionStatus()"),": Object"),(0,n.kt)("br",null),"retorna um objeto que fornece o status de criptografia para o arquivo de dados atual")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#flushAndLock"}),(0,n.kt)("strong",{parentName:"a"},".flushAndLock()")),(0,n.kt)("br",null),"libera o cache do armazenamento de dados local e impede que outros processos executem opera\xe7\xf5es de grava\xe7\xe3o no banco de dados")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getallremotecontexts"}),(0,n.kt)("strong",{parentName:"a"},".getAllRemoteContexts()")," : Collection"),(0,n.kt)("br",null),"retorna uma cole\xe7\xe3o de objetos contendo informa\xe7\xf5es sobre todos os contextos de otimiza\xe7\xe3o ativos no reposit\xf3rio de dados")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getglobalstamp"}),(0,n.kt)("strong",{parentName:"a"},".getGlobalStamp"),"() : Real"),(0,n.kt)("br",null),"retorna o valor atual do carimbo de modifica\xe7\xe3o global do datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getinfo"}),(0,n.kt)("strong",{parentName:"a"},".getInfo()"),": Object"),(0,n.kt)("br",null),"retorna um objeto que fornece informa\xe7\xf5es sobre o datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getremotecontextinfo"}),(0,n.kt)("strong",{parentName:"a"},".getRemoteContextInfo"),"(",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text) : Object "),(0,n.kt)("br",null)," retorna um objeto que cont\xe9m informa\xe7\xf5es sobre o contexto de otimiza\xe7\xe3o ",(0,n.kt)("em",{parentName:"td"},"contextName")," no datastore.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getrequestlog"}),(0,n.kt)("strong",{parentName:"a"},".getRequestLog()")," : Collection"),(0,n.kt)("br",null),"retorna as solicita\xe7\xf5es ORDA registradas na mem\xf3ria no lado do cliente")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#locked"}),(0,n.kt)("strong",{parentName:"a"},".locked()")," : Boolean"),(0,n.kt)("br",null),"retorna True se o armazenamento de dados local estiver bloqueado no momento")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#makeselectionsalterable"}),(0,n.kt)("strong",{parentName:"a"},".makeSelectionsAlterable()")),(0,n.kt)("br",null),"define todas as sele\xe7\xf5es de entidades como alter\xe1veis por padr\xe3o nos datastores do aplicativo atual")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#providedatakey"}),(0,n.kt)("strong",{parentName:"a"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"a"},"curPassPhrase")," : Text ) : Object ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"a"},"curDataKey")," : Object ) : Object "),(0,n.kt)("br",null),"permite fornecer uma chave de criptografia de dados para o arquivo de dados atual do armazenamento de dados e detecta se a chave corresponde aos dados criptografados")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#setadminprotection"}),(0,n.kt)("strong",{parentName:"a"},".setAdminProtection"),"( ",(0,n.kt)("em",{parentName:"a"},"status")," : Boolean )"),(0,n.kt)("br",null),"permite desativar qualquer acesso a dados na ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/pt/Admin/webAdmin#http-port"}),"porta de administra\xe7\xe3o da Web"),", inclusive para o ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/pt/Admin/dataExplorer"}),"Data Explorer")," em sess\xf5es ",(0,n.kt)("inlineCode",{parentName:"td"},"WebAdmin"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#setglobalstamp"}),(0,n.kt)("strong",{parentName:"a"},".setGlobalStamp"),"( ",(0,n.kt)("em",{parentName:"a"},"newStamp")," : Real)"),(0,n.kt)("br",null),"define ",(0,n.kt)("em",{parentName:"td"},"newStamp")," como o novo valor para o carimbo de modifica\xe7\xe3o global atual do datastore")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#setremotecontextinfo"}),(0,n.kt)("strong",{parentName:"a"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"dataClassName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"attributes")," : Text {; ",(0,n.kt)("em",{parentName:"a"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"pageLength")," : Integer}})",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"dataClassName")," : Text; ",(0,n.kt)("em",{parentName:"a"},"attributesColl")," : Collection {; ",(0,n.kt)("em",{parentName:"a"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"pageLength")," : Integer }} )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"dataClassObject")," : 4D.DataClass ; ",(0,n.kt)("em",{parentName:"a"},"attributes")," : Text {; ",(0,n.kt)("em",{parentName:"a"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"pageLength")," : Integer }})",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"a"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"a"},"dataClassObject")," : 4D.DataClass ; ",(0,n.kt)("em",{parentName:"a"},"attributesColl")," : Collection {; ",(0,n.kt)("em",{parentName:"a"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"a"},"pageLength")," : Integer }} )"),(0,n.kt)("br",null),"vincula os atributos da dataclass especificada ao contexto de otimiza\xe7\xe3o ",(0,n.kt)("em",{parentName:"td"},"contextName"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#startrequestlog"}),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"()",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"a"},"file")," : 4D.File )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"a"},"file")," : 4D.File ; ",(0,n.kt)("em",{parentName:"a"},"options")," : Integer )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"a"},"reqNum")," : Integer )"),(0,n.kt)("br",null),"inicia o registro de solicita\xe7\xf5es ORDA no lado do cliente ou no lado do servidor")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#starttransaction"}),(0,n.kt)("strong",{parentName:"a"},".startTransaction()")),(0,n.kt)("br",null),"inicia uma transa\xe7\xe3o no processo atual no banco de dados correspondente ao armazenamento de dados ao qual ela se aplica")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#stoprequestlog"}),(0,n.kt)("strong",{parentName:"a"},".stopRequestLog()"),"  "),(0,n.kt)("br",null),"interrompe qualquer registro de solicita\xe7\xf5es ORDA na m\xe1quina em que \xe9 chamada (cliente ou servidor)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#unlock"}),(0,n.kt)("strong",{parentName:"a"},".unlock()")),(0,n.kt)("br",null),"remove o bloqueio atual das opera\xe7\xf5es de grava\xe7\xe3o no datastore, se ele tiver sido definido no mesmo processo")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#validatetransaction"}),(0,n.kt)("strong",{parentName:"a"},".validateTransaction()"),"  "),(0,n.kt)("br",null),"aceita a transa\xe7\xe3o")))),(0,n.kt)("h2",r({},{id:"ds"}),"ds"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Suporte do par\xe1metro localID")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"ds")," { ( ",(0,n.kt)("em",{parentName:"p"},"localID")," : Text ) } : cs.DataStore "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"localID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ID local do datastore remoto a ser retornado")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"cs. DataStore"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Referencia ao armaz\xe9m de dados")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"O comando ",(0,n.kt)("inlineCode",{parentName:"p"},"ds")," retorna uma refer\xeancia ao datastore que corresponde ao banco de dados 4D atual ou ao banco de dados designado por ",(0,n.kt)("em",{parentName:"p"},"localID"),"."),(0,n.kt)("p",null,'Se omitir o par\xe2metro localID (ou se passa uma string vazia ""), o comando devolve uma refer\xeancia ao armaz\xe9m de dados que coincide com a base de dados local de 4D (ou  a base de datos de 4D Server em caso de abrir uma base de dados remota em 4D Server). O reposit\xf3rio de dados \xe9 aberto automaticamente e est\xe1 dispon\xedvel diretamente por meio do ',(0,n.kt)("inlineCode",{parentName:"p"},"ds"),"."),(0,n.kt)("p",null,"Voc\xea tamb\xe9m pode obter uma refer\xeancia em um datastore remoto aberto passando seu ID local no par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"localID"),". O datastore deve ter sido aberto anteriormente com o comando ",(0,n.kt)("a",r({parentName:"p"},{href:"#open-datastore"}),(0,n.kt)("inlineCode",{parentName:"a"},"Open datastore"))," pelo banco de dados atual (host ou componente). A identifica\xe7\xe3o local se define quando se utilizar este comando."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"O escopo do id local do banco de dados no qual o armazen de dados foi aberto.")),(0,n.kt)("p",null,"Se nenhum datastore ",(0,n.kt)("em",{parentName:"p"},"localID")," for encontrado, o comando retornar\xe1 ",(0,n.kt)("strong",{parentName:"p"},"Null"),"."),(0,n.kt)("p",null,"Os objetos dispon\xedveis no ",(0,n.kt)("inlineCode",{parentName:"p"},"cs.Datastore")," s\xe3o mapeados a partir do banco de dados de destino de acordo com as ","[regras gerais do ORDA]"," (ORDA/dsMapping.md#general-rules)."),(0,n.kt)("h4",r({},{id:"exemplo-1"}),"Exemplo 1"),(0,n.kt)("p",null,"Usar a datastore principal do banco de dados 4D:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' $result:=ds. Employee.query("firstName = :1";"S@")\n')),(0,n.kt)("h4",r({},{id:"exemplo-2"}),"Exemplo 2"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connectTo; $firstFrench; $firstForeign : Object\n\n var $frenchStudents; $foreignStudents : cs.DataStore\n\n $connectTo:=New object("type";"4D Server";"hostname";"192.168.18.11:8044")\n $frenchStudents:=Open datastore($connectTo;"french")\n\n $connectTo.hostname:="192.168.18.11:8050"\n $foreignStudents:=Open datastore($connectTo;"foreign")\n  //...\n  //...\n $firstFrench:=getFirst("french";"Students")\n $firstForeign:=getFirst("foreign";"Students")\n')),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"  //getFirst method\n  //getFirst(localID;dataclass) -> entity\n #DECLARE( $localId : Text; $dataClassName : Text ) -> $entity : 4D.Entity\n\n $0:=ds($localId)[$dataClassName].all().first()\n")),(0,n.kt)("h2",r({},{id:"open-datastore"}),"Open datastore"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20 R4"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nova propriedade ",(0,n.kt)("em",{parentName:"td"},"passwordAlgorithm"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Open datastore"),"( ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," : Object ; ",(0,n.kt)("em",{parentName:"p"},"localID")," : Text ) : cs.DataStore "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"connectionInfo"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Propriedades de conex\xe3o utilizadas para alcan\xe7ar o armaz\xe9m de datos remoto")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"localID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Id para assignar ao armaz\xe9m de dados aberto na aplica\xe7\xe3o local (obrigatorio)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"cs. DataStore"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objeto do armaz\xe9m de dados")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-1"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"O comando ",(0,n.kt)("inlineCode",{parentName:"p"},"Open datastore")," conecta o aplicativo ao banco de dados 4D identificado pelo par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," e retorna um objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"cs.DataStore")," correspondente associado ao alias local ",(0,n.kt)("em",{parentName:"p"},"localID"),"."),(0,n.kt)("p",null,"O banco de dados ",(0,n.kt)("em",{parentName:"p"},"connectionInfo")," 4D deve estar dispon\xedvel como um armazenamento de dados remoto, ou seja:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"seu servidor web deve ser lan\xe7ado com http ou https ativado,"),(0,n.kt)("li",{parentName:"ul"},"O armazenamento de dados deve ser exposto (",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/pt/REST/configuration#starting-the-rest-server"}),(0,n.kt)("strong",{parentName:"a"},"Expor como servidor REST"))," op\xe7\xe3o marcada), bem como ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/pt/REST/configuration#exposing-tables-and-fields"}),"dataclasses e atributos"),".")),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"As solicita\xe7\xf5es ",(0,n.kt)("inlineCode",{parentName:"p"},"Open datastore")," dependem da API 4D REST e podem exigir uma licen\xe7a 4D Client para abrir a conex\xe3o. Consulte a se\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/REST/authUsers#user-login-modes"}),"user login mode")," para saber como configurar a autentica\xe7\xe3o dependendo do modo de login do usu\xe1rio atual selecionado.")),(0,n.kt)("p",null,"Se n\xe3o for encontrado um banco de dados correspondente, ",(0,n.kt)("inlineCode",{parentName:"p"},"Open datastore")," retornar\xe1 ",(0,n.kt)("strong",{parentName:"p"},"Null"),"."),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"localID")," \xe9 um alias local para a sess\xe3o aberta no armazenamento de dados remoto. Se ",(0,n.kt)("em",{parentName:"p"},"localID")," j\xe1 existir no aplicativo, ele ser\xe1 usado. Caso contr\xe1rio, uma nova sess\xe3o ",(0,n.kt)("em",{parentName:"p"},"localID")," \xe9 criada quando o objeto de armazenamento de dados \xe9 usado."),(0,n.kt)("p",null,"Os objetos dispon\xedveis no ",(0,n.kt)("inlineCode",{parentName:"p"},"cs.Datastore")," s\xe3o mapeados a partir do banco de dados de destino de acordo com as ","[regras gerais do ORDA]"," (ORDA/dsMapping.md#general-rules)."),(0,n.kt)("p",null,"Quando abrir a sess\xe3o, as senten\xe7as abaixo s\xe3o equivalentes e devolvem uma refer\xeancia sobre o mesmo objeto datastore:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' $myds:=Open datastore(connectionInfo;"myLocalId")\n $myds2:=ds("myLocalId")\n  //$myds e $myds2 s\xe3o equivalentes\n')),(0,n.kt)("p",null,"Passe em connectionInfo um objeto que desceva o armaz\xe9m de dados remoto ao que quiser se conectar. Todas as propriedades s\xe3o opcionais","*"," excepto ",(0,n.kt)("em",{parentName:"p"},"hostname")," :"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propriedade"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"hostname"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Nome ou endere\xe7o IP da database remota + ":" + n\xfamero de porta (o numero de porta \xe9 obrigat\xf3rio)')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"user"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nome de usuario")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"senha"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Senha de usuario. Por padr\xe3o, a senha \xe9 enviada em formato claro, portanto, \xe9 ",(0,n.kt)("strong",{parentName:"td"},"fortemente recomendado")," usar comunica\xe7\xf5es criptografadas passando ",(0,n.kt)("inlineCode",{parentName:"td"},"true")," na propriedade ",(0,n.kt)("inlineCode",{parentName:"td"},"tls"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"idleTimeout"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Longint"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Tempo de espera da sess\xe3o de inatividade (em minutos) depois do qual a sess\xe3o \xe9 fechada automaticamente por 4D. Se omitido, o valor por defeito \xe9 60 (1h). O valor n\xe3o pode ser < 60 (se for passado um valor menor, o tempo limite ser\xe1 definido como 60). Para obter mais informa\xe7\xf5es, veja ",(0,n.kt)("strong",{parentName:"td"},"Sess\xf5es de encerramento"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"tls"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Utilize uma conex\xe3o segura(","*","). Se omitido, false por defeito. Se for omitido, o normal \xe9 falso Usar uma conex\xe3o segura \xe9 recomendado sempre que poss\xedvel.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"passwordAlgorithm"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Passe "4d-rest-digest" se o servidor validar a senha usando o comando ',"[",(0,n.kt)("inlineCode",{parentName:"td"},"Validate password"),"]"," (",(0,n.kt)("a",r({parentName:"td"},{href:"https://doc.4d.com/4dv20/help/command/en/page638.html"}),"https://doc.4d.com/4dv20/help/command/en/page638.html"),") com o par\xe2metro ",(0,n.kt)("em",{parentName:"td"},"digest")," definido como ",(0,n.kt)("inlineCode",{parentName:"td"},"true"),".")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Deve ser "4D Server"')))),(0,n.kt)("p",null,"(","*",") Se tls for true, se utiliza o protocolo HTTPS se:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"HTTPS for ativado no armaz\xe9m de dados remoto"),(0,n.kt)("li",{parentName:"ul"},"o n\xfamero de porto especificado coincide com o porto HTTPS configurado nos ajustes do banco de dados"),(0,n.kt)("li",{parentName:"ul"},'um certificado v\xe1lido e uma chave privada de criptografia est\xe3o instalados no banco de dados. Sen\xe3o \xe9 mostrado o erro "1610 - A remote request to host xxx has failed"')),(0,n.kt)("h4",r({},{id:"exemplo-1-1"}),"Exemplo 1"),(0,n.kt)("p",null,"Conex\xe3o a uma datastore remota com usu\xe1rio/ senha/ timetou/ tls"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connectTo : Object\n var $remoteDS : cs. DataStore\n $connectTo:=New object("type";"4D Server";"hostname";"192.168.18.11:8044")\n $remoteDS:=Open datastore($connectTo;"students")\n ALERT("This remote datastore contains "+String($remoteDS. Students.all().length)+" students")\n')),(0,n.kt)("h4",r({},{id:"exemplo-2-1"}),"Exemplo 2"),(0,n.kt)("p",null,"Conex\xe3o a uma datastore remota sem usu\xe1rio ou senha:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connectTo : Object\n var $remoteDS : cs. DataStore\n $connectTo:=New object("type";"4D Server";"hostname";\\"192.168.18.11:4443";\\  \n  "user";"marie";"password";$pwd;"idleTimeout";70;"tls";True)\n $remoteDS:=Open datastore($connectTo;"students")\n ALERT("This remote datastore contains "+String($remoteDS. Students.all().length)+" students")\n')),(0,n.kt)("h4",r({},{id:"exemplo-3"}),"Exemplo 3"),(0,n.kt)("p",null,"Trabalhando com v\xe1rias datastores remotas:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connectTo : Object\n var $frenchStudents; $foreignStudents : cs. DataStore\n $connectTo:=New object("hostname";"192.168.18.11:8044")\n $frenchStudents:=Open datastore($connectTo;"french")\n $connectTo.hostname:="192.168.18.11:8050"\n $foreignStudents:=Open datastore($connectTo;"foreign")\n ALERT("They are "+String($frenchStudents. Students.all().length)+" French students")\n ALERT("They are "+String($foreignStudents. Students.all().length)+" foreign students")\n')),(0,n.kt)("h4",r({},{id:"gest\xe3o-de-erros"}),"Gest\xe3o de erros"),(0,n.kt)("p",null,"Em caso de erro, o comando retorna ",(0,n.kt)("strong",{parentName:"p"},"Null"),'. Se n\xe3o for poss\xedvel acessar o armazem de dados remotos (endere\xe7o incorreto, servidor web n\xe3o inciiado, http e https n\xe3o habilitados...), se produz o erro 1610 " Uma peti\xe7\xe3o remota ao host XXX falhou". Voc\xea pode interceptar esse erro com um m\xe9todo instalado por ',(0,n.kt)("inlineCode",{parentName:"p"},"ON ERR CALL"),"."),(0,n.kt)("h2",r({},{id:"dataclassname"}),(0,n.kt)("em",{parentName:"h2"},".dataclassName")),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("em",{parentName:"strong"},".dataclassName"))," : 4D.DataClass"),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-2"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"Cada classe de dados em um datastore est\xe1 dispon\xedvel como uma propriedade do ","[objeto DataStore]"," (ORDA/dsMapping.md#datastore)data. O objeto retornado cont\xe9m uma descri\xe7\xe3o da dataclass."),(0,n.kt)("h4",r({},{id:"exemplo"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"})," var $emp : cs. Employee\n var $sel : cs. EmployeeSelection\n $emp:=ds. Employee //$emp contains the Employee dataclass\n $sel:=$emp.all() //gets an entity selection of all employees\n\n  //you could also write directly:\n $sel:=ds. Employee.all()\n")),(0,n.kt)("h2",r({},{id:"canceltransaction"}),".cancelTransaction()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".cancelTransaction()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xe3o exige nenhum par\xe2metro")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-3"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".cancelTransaction()")," cancela a transa\xe7\xe3o aberta pela fun\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()"))," no n\xedvel correspondente no processo atual para o armazenamento de dados especificado."),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".cancelTransaction()")," cancela todas as altera\xe7\xf5es feitas nos dados durante a transa\xe7\xe3o."),(0,n.kt)("p",null,"Pode aninhar v\xe1rias transa\xe7\xf5es (subtransa\xe7\xf5es). Se a transa\xe7\xe3o principal for cancelada, todas as suas subtransa\xe7\xf5es tamb\xe9m ser\xe3o canceladas, mesmo que tenham sido validadas individualmente usando a fun\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"#validatetransactions"}),(0,n.kt)("inlineCode",{parentName:"a"},".validateTransaction()")),"."),(0,n.kt)("h4",r({},{id:"exemplo-4"}),"Exemplo"),(0,n.kt)("p",null,"Veja o exemplo da fun\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()")),"."),(0,n.kt)("h2",r({},{id:"clearallremotecontexts"}),".clearAllRemoteContexts()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".clearAllRemoteContexts()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xe3o exige nenhum par\xe2metro")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-4"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".clearAllRemoteContexts()")," limpa todos os atributos de todos os contextos ativos no reposit\xf3rio de dados."),(0,n.kt)("p",null,"Esta fun\xe7\xe3o \xe9 utilizada principalmente no contexto da depura\xe7\xe3o. Deve lembrar que quando abrir o depurador ele envia peti\xe7\xf5es ao servidor e pesquisa todos os atributos de dataclasse para exibi-los Isso pode sobrecarregar seus contextos com dados desnecess\xe1rios. Isso pode sobrecarregar seus contextos com dados desnecess\xe1rios."),(0,n.kt)("p",null,"Nesses casos, voc\xea pode usar ",(0,n.kt)("inlineCode",{parentName:"p"},".clearAllRemoteContexts()")," para limpar seus contextos e mant\xea-los limpos."),(0,n.kt)("h4",r({},{id:"veja-tamb\xe9m"}),"Veja tamb\xe9m"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#setremotecontextinfo"}),".setRemoteContextInfo()")),(0,n.kt)("h2",r({},{id:"encryptionstatus"}),".encryptionStatus()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".encryptionStatus()"),": Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Informa\xe7\xe3o sobre o cifrado do armaz\xe9m de dados atual e de cada tabela")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-5"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".encryptionStatus()")," retorna um objeto que fornece o status de criptografia para o arquivo de dados atual (ou seja, o arquivo de dados do armazenamento de dados ",(0,n.kt)("inlineCode",{parentName:"p"},"ds"),"). Tamb\xe9m se proporciona o estado de cada tabela."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Use o comando ",(0,n.kt)("inlineCode",{parentName:"p"},"Data file encryption status")," para determinar o status da criptografia de qualquer outro arquivo de dados.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Valor retornado")),(0,n.kt)("p",null,"O objeto retornado cont\xe9m as propriedades abaixo:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propriedade"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"isEncrypted"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True se o arquivo de dados estiver criptografado")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"keyProvided"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True se proporcionar a chave de encripta\xe7\xe3o que coincide com o arquivo de dados encriptados(","*",").")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"tabelas"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objeto que cont\xe9m tantas propriedades como tabelas encriptadas ou codificadas.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("em",{parentName:"td"},"tableName")),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Tabla encriptada ou cifrada")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nombre da tabela")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"num"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de tabela")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"isEncryptable"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Verdadero se a tabela estiver declarada como encriptada no arquivo de estrutura")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"isEncrypted"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True se os registros da tabela estiverem encriptados no arquivo de dados")))),(0,n.kt)("p",null,"(","*",") a chave de criptografia pode ser fornecida:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"com o comando ",(0,n.kt)("inlineCode",{parentName:"li"},".provideDataKey()"),","),(0,n.kt)("li",{parentName:"ul"},"na ra\xedz de um dispositivo conectado antes de abrir o datastore,"),(0,n.kt)("li",{parentName:"ul"},"com o comando ",(0,n.kt)("inlineCode",{parentName:"li"},"Discover data key"),".")),(0,n.kt)("h4",r({},{id:"exemplo-5"}),"Exemplo"),(0,n.kt)("p",null,"Se quiser saber o n\xfamero de tabelas criptografadas no arquivo de dados atual:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $status : Object\n\n $status:=ds.encryptionStatus()\n\n If($status.isEncrypted) //o banco \xe9 criptografado    \nC_LONGINT($vcount)\n    C_TEXT($tabName)\n    For each($tabName;$status.tables)\n       If($status.tables[$tabName].isEncrypted)\n          $vcount:=$vcount+1\n       End if\n    End for each\n    ALERT(String($vcount)+" encrypted table(s) in this datastore.")\n Else\n    ALERT("This database is not encrypted.")\n End if\n')),(0,n.kt)("h2",r({},{id:"flushandlock"}),".flushAndLock()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".flushAndLock()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xe3o exige nenhum par\xe2metro")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-6"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," libera o cache do armazenamento de dados local e impede que outros processos executem opera\xe7\xf5es de grava\xe7\xe3o no banco de dados. O datastore \xe9 definido para um estado consistente e congelado. \xc9 necess\xe1rio chamar esta fun\xe7\xe3o antes de executar um instant\xe2neo da aplica\xe7\xe3o, por exemplo."),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Esta fun\xe7\xe3o s\xf3 pode ser chamada:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"no reposit\xf3rio de dados local (",(0,n.kt)("a",r({parentName:"li"},{href:"#ds"}),(0,n.kt)("inlineCode",{parentName:"a"},"ds")),")."),(0,n.kt)("li",{parentName:"ul"},"no ambiente cliente/servidor, na m\xe1quina do servidor."))),(0,n.kt)("p",null,"Depois que essa fun\xe7\xe3o \xe9 executada, as opera\xe7\xf5es de grava\xe7\xe3o, como ",(0,n.kt)("inlineCode",{parentName:"p"},".save()")," ou outras chamadas ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()"),", s\xe3o congeladas em todos os outros processos at\xe9 que o armazenamento de dados seja desbloqueado."),(0,n.kt)("p",null,"Quando m\xfaltiplas chamadas para ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," foram feitas no mesmo processo, o mesmo n\xfamero de ",(0,n.kt)("a",r({parentName:"p"},{href:"#unlock"}),(0,n.kt)("inlineCode",{parentName:"a"},".unlock()"))," chamadas devem ser executadas para realmente desbloquear o datastore."),(0,n.kt)("p",null,"O datastore \xe9 desbloqueado quando:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"a fun\xe7\xe3o ",(0,n.kt)("a",r({parentName:"li"},{href:"#unlock"}),(0,n.kt)("inlineCode",{parentName:"a"},".unlock()"))," \xe9 chamada no mesmo processo, ou"),(0,n.kt)("li",{parentName:"ul"},"o processo que chamou a fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"li"},".flushAndLock()")," \xe9 morto.")),(0,n.kt)("p",null,"Se o reposit\xf3rio de dados j\xe1 estiver bloqueado por outro processo, a chamada ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," ser\xe1 congelada e executada quando o reposit\xf3rio de dados for desbloqueado."),(0,n.kt)("p",null,"Um erro \xe9 acionado se a fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," n\xe3o puder ser executada (por exemplo, \xe9 executada num 4D remoto), ."),(0,n.kt)("admonition",r({},{type:"caution"}),(0,n.kt)("p",{parentName:"admonition"},"Outros recursos e servi\xe7os 4D, incluindo ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/Backup/backup"}),"backup"),", ",(0,n.kt)("a",r({parentName:"p"},{href:"https://doc.4d.com/4Dv20/4D/20/Using-Volume-Shadow-Copy-Service-on-Windows.300-6330532.en.html"}),"vss")," e ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/MSC/overview"}),"MSC")," tamb\xe9m pode bloquear o datastore. Antes de chamar ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()"),", certifique-se de que nenhuma outra a\xe7\xe3o de bloqueio est\xe1 sendo usada, a fim de evitar qualquer intera\xe7\xe3o inesperada.")),(0,n.kt)("h4",r({},{id:"exemplo-6"}),"Exemplo"),(0,n.kt)("p",null,"Se quiser criar uma c\xf3pia da pasta de dados juntamente com o seu arquivo de di\xe1rio actual:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'$destination:=Folder(fk documents folder).folder("Archive") \n$destination.create()\n\nds.flushAndLock() //Bloqueia opera\xe7\xf5es write de outros processos\n\n$dataFolder:=Folder(fk data folder) \n$dataFolder.copyTo($destination) //Copia a pasta de dados\n\n$oldJournalPath:=New log file //Fecha o di\xe1rio e cria um novo\n$oldJournal:=File($oldJournalPath; fk platform path) \n$oldJournal.moveTo($destination) //Salva o di\xe1rio antigo com dados\n\nds.unlock() //Nossa c\xf3pia terminou, podemos desbloquear a datastore\n')),(0,n.kt)("h4",r({},{id:"veja-tamb\xe9m-1"}),"Veja tamb\xe9m"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#locked"}),".locked()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#unlock"}),".unlock()")),(0,n.kt)("h2",r({},{id:"getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getAllRemoteContexts()")," : Collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cole\xe7\xe3o de objetos de contexto de otimiza\xe7\xe3o")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Modo avan\xe7ado:")," Essa fun\xe7\xe3o \xe9 destinada a desenvolvedores que precisam personalizar os recursos padr\xe3o do ORDA para configura\xe7\xf5es espec\xedficas. Na maioria dos casos, n\xe3o necessitar\xe1 de o utilizar.")),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-7"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".getAllRemoteContexts()")," retorna uma cole\xe7\xe3o de objetos contendo informa\xe7\xf5es sobre todos os contextos de otimiza\xe7\xe3o ativos no reposit\xf3rio de dados."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Para obter mais informa\xe7\xf5es sobre como os contextos podem ser criados, consulte ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/ORDA/client-server-optimization#optimization-context"}),"otimiza\xe7\xe3o do cliente/servidor"),".")),(0,n.kt)("p",null,"Cada objeto na cole\xe7\xe3o retornada tem as propriedades listadas na se\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"#properties-of-the-returned-object"}),(0,n.kt)("inlineCode",{parentName:"a"},".getRemoteContextInfo()")),"."),(0,n.kt)("h4",r({},{id:"exemplo-7"}),"Exemplo"),(0,n.kt)("p",null,"O seguinte c\xf3digo configura dois contextos e os recupera usando ",(0,n.kt)("inlineCode",{parentName:"p"},".getAllRemoteContexts()"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D. DataStoreImplementation\nvar $persons : cs. PersonsSelection\nvar $addresses : cs. AddressSelection\nvar $p : cs. PersonsEntity\nvar $a : cs. AddressEntity\nvar $contextA; $contextB : Object\nvar $info : Collection\nvar $text : Text\n\n// abre  datastore remota\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n// Estabele context A\n$contextA:=New object("context"; "contextA")\n$persons:=$ds. Persons.all($contextA)\n$text:="" For each ($p; $persons)\n    $text:=$p.firstname+" lives in "+$p.address.city+" / " End for each\n\n// Estabelece contexto B\n$contextB:=New object("context"; "contextB")\n$addresses:=$ds. Address.all($contextB)\n$text:="" For each ($a; $addresses)\n    $text:=$a.zipCode End for each\n\n// Obt\xe9m todos os contextos remotos (neste caso, contextA e contextB)\n$info:=$ds.getAllRemoteContexts()\n//$info = [{name:"contextB"; dataclass:"Address"; main:"zipCode"},\n{name:"contextA";dataclass:"Persons";main:"firstname,address.city"}]\n')),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Este exemplo serve como uma demonstra\xe7\xe3o, n\xe3o se destina a uma implementa\xe7\xe3o real.")),(0,n.kt)("h4",r({},{id:"veja-tamb\xe9m-2"}),"Veja tamb\xe9m"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#setremotecontextinfo"}),".setRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#clearallremotecontexts"}),".clearAllRemoteContexts()")),(0,n.kt)("h2",r({},{id:"getglobalstamp"}),".getGlobalStamp()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20 R3"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getGlobalStamp"),"() : Real"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Valor atual do marcador de modifica\xe7\xe3o global")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-8"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".getGlobalStamp()")," retorna o valor atual do carimbo de modifica\xe7\xe3o global do datastore."),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Esta fun\xe7\xe3o s\xf3 pode ser chamada:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"no reposit\xf3rio de dados local (",(0,n.kt)("a",r({parentName:"li"},{href:"#ds"}),(0,n.kt)("inlineCode",{parentName:"a"},"ds")),")."),(0,n.kt)("li",{parentName:"ul"},"no ambiente cliente/servidor, na m\xe1quina do servidor."))),(0,n.kt)("p",null,"Para obter mais informa\xe7\xf5es sobre o carimbo global e o rastreamento de altera\xe7\xf5es de dados, consulte a p\xe1gina ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/ORDA/global-stamp"}),(0,n.kt)("strong",{parentName:"a"},"Using the Global Stamp")),"."),(0,n.kt)("h4",r({},{id:"exemplo-8"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"var $currentStamp : Real\nvar $hasModifications : Boolean\n\n$currentStamp:=ds.getGlobalStamp()\nmethodWhichCouldModifyEmployees //chamar algum c\xf3digo \n$hasModifications:=($currentStamp # ds.getGlobalStamp())\n")),(0,n.kt)("h4",r({},{id:"veja-tamb\xe9m-3"}),"Veja tamb\xe9m"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#setglobalstamp"}),".setGlobalStamp()")),(0,n.kt)("h2",r({},{id:"getinfo"}),".getInfo()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getInfo()"),": Object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Propiedades de datastore")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-9"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".getInfo()")," retorna um objeto que fornece informa\xe7\xf5es sobre o datastore. Esta fun\xe7\xe3o \xe9 \xfatil para configurar o c\xf3digo gen\xe9rico."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Objeto devolvido")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propriedade"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"string"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("li",null,'"4D": reposit\xf3rio de dados principal, dispon\xedvel por meio do ds '),(0,n.kt)("li",null,'"4D Server": reposit\xf3rio de dados remoto, aberto com Open datastore'))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"networked"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("li",null,"True: o armazenamento de dados \xe9 acessado por meio de uma conex\xe3o de rede."),(0,n.kt)("li",null,"False: o armazenamento de dados n\xe3o \xe9 acessado por meio de uma conex\xe3o de rede (banco de dados local)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"localID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ID do armaz\xe9m de dados na m\xe1quina. Corresponde \xe0 cadeia de caracteres localId fornecida com o comando ",(0,n.kt)("inlineCode",{parentName:"td"},"Open datastore"),'. String vazia ("") para o datastore principal.')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"connection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objeto descrevendo a conex\xe3o remota da datastore (n\xe3o retornado para datastore principal) Propriedades disponiveis: Propriedades disponiveis: Propriedades dispon\xedveis:",(0,n.kt)("table",null,(0,n.kt)("tr",null,(0,n.kt)("th",null,"Propriedade"),(0,n.kt)("th",null,"Tipo"),(0,n.kt)("th",null,"Descri\xe7\xe3o")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"hostname"),(0,n.kt)("td",null,"texto"),(0,n.kt)("td",null,'Endere\xe7o IP ou nome do datastore remoto + ":" + n\xfamero da porta')),(0,n.kt)("tr",null,(0,n.kt)("td",null,"tls"),(0,n.kt)("td",null,"booleano"),(0,n.kt)("td",null,"True se a conex\xe3o segura \xe9 usada com o datastore remoto")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"idleTimeout"),(0,n.kt)("td",null,"n\xfamero"),(0,n.kt)("td",null,"Tempo limite de inatividade da sess\xe3o (em minutos)")),(0,n.kt)("tr",null,(0,n.kt)("td",null,"user"),(0,n.kt)("td",null,"texto"),(0,n.kt)("td",null,"Usu\xe1rio autenticado no datastore remoto"))))))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Se a fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"li"},".getInfo()")," for executada em um servidor 4D ou um \xfanico usu\xe1rio, ",(0,n.kt)("inlineCode",{parentName:"li"},"networked")," \xe9 Falso."),(0,n.kt)("li",{parentName:"ul"},"Se a fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"li"},".getInfo()")," for executada em um 4D remoto, ",(0,n.kt)("inlineCode",{parentName:"li"},"networked")," ser\xe1 True")),(0,n.kt)("h4",r({},{id:"exemplo-1-2"}),"Exemplo 1"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $info : Object\n\n $info:=ds.getInfo() //Executado em 4D Server ou 4D\n  //{"type":"4D","networked":false,"localID":""}\n\n $info:=ds.getInfo() // Executado em 4D remoto\n  //{"type":"4D","networked":true,"localID":""}\n')),(0,n.kt)("h4",r({},{id:"exemplo-2-2"}),"Exemplo 2"),(0,n.kt)("p",null,"Em um armaz\xe9m de dados remoto:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'  var $remoteDS : cs.DataStore\n  var $info; $connectTo : Object\n\n $connectTo:=New object("hostname";"111.222.33.44:8044";"user";"marie";"password";"aaaa")\n $remoteDS:=Open datastore($connectTo;"students")\n $info:=$remoteDS.getInfo()\n\n  //{"type":"4D Server",\n  //"localID":"students",\n  //"networked":true,\n  //"connection":{hostname:"111.222.33.44:8044","tls":false,"idleTimeout":2880,"user":"marie"}}\n')),(0,n.kt)("h2",r({},{id:"getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getRemoteContextInfo"),"(",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text) : Object "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"contextName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nome do contexto")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o do contexto de optimiza\xe7\xe3o")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Modo avan\xe7ado:")," Essa fun\xe7\xe3o \xe9 destinada a desenvolvedores que precisam personalizar os recursos padr\xe3o do ORDA para configura\xe7\xf5es espec\xedficas. Na maioria dos casos, n\xe3o necessitar\xe1 de o utilizar.")),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-10"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".getRemoteContextInfo()"),"  retorna um objeto que cont\xe9m informa\xe7\xf5es sobre o contexto de otimiza\xe7\xe3o ",(0,n.kt)("em",{parentName:"p"},"contextName")," no datastore.."),(0,n.kt)("p",null,"Para saber mais informa\xe7\xf5es sobre como os contextos de otimiza\xe7\xe3o podem ser criados, veja ",(0,n.kt)("a",r({parentName:"p"},{href:"../ORDA/otimizacao-cliente-servidor.md#contexto-de-otimiza%C3%A7%C3%A3o"}),"otimiza\xe7\xe3o cliente/servidor"),"."),(0,n.kt)("h4",r({},{id:"objeto-devolvido"}),"Objeto devolvido"),(0,n.kt)("p",null,"O objeto retornado tem as propriedades abaixo:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propriedade"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"name"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nome do contexto")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"main"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Atributo(s) associado(s) ao contexto (os nomes dos atributos s\xe3o separados por uma v\xedrgula)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dataclass"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nome do dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"currentItem (opcional)"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Os atributos do ",(0,n.kt)("a",r({parentName:"td"},{href:"/docs/pt/ORDA/datastores#entity-selection-based-list-box"}),"modo de p\xe1gina")," se o contexto estiver vinculado a uma caixa de listagem. Retornado como ",(0,n.kt)("inlineCode",{parentName:"td"},"Null")," ou elemento de texto vazio se o nome do contexto n\xe3o for usado para uma caixa de listagem ou se n\xe3o houver contexto para o currentItem")))),(0,n.kt)("p",null,"Como os contextos se comportam como filtros para atributos, se ",(0,n.kt)("em",{parentName:"p"},"main")," for retornado vazio, isso significa que nenhum filtro foi aplicado e que o servidor retorna todos os atributos da classe de dados."),(0,n.kt)("h4",r({},{id:"exemplo-9"}),"Exemplo"),(0,n.kt)("p",null,"Consulte o exemplo da se\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"#example-1-3"}),".setRemoteContextInfo()"),"."),(0,n.kt)("h4",r({},{id:"veja-tamb\xe9m-4"}),"Veja tamb\xe9m"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#setremotecontextinfo"}),".setRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#clearallremotecontexts"}),".clearAllRemoteContexts()")),(0,n.kt)("h2",r({},{id:"getrequestlog"}),".getRequestLog()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getRequestLog()")," : Collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cole\xe7\xe3o de objetos onde cada objeto descreve uma peti\xe7\xe3o")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-11"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".getRequestLog()")," retorna as solicita\xe7\xf5es ORDA registradas na mem\xf3ria no lado do cliente. O registro de solicita\xe7\xf5es ORDA deve ter sido previamente ativado com a fun\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"#startrequestlog"}),(0,n.kt)("inlineCode",{parentName:"a"},".startRequestLog()")),"."),(0,n.kt)("p",null,"Esta fun\xe7\xe3o deve ser chamada em um 4D remoto, do contr\xe1rio devolve uma cole\xe7\xe3o vazia. Foi criado para depura\xe7\xe3o em configura\xe7\xf5es de cliente/servidor."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Valor retornado")),(0,n.kt)("p",null,"Cole\xe7\xe3o de objetos de peti\xe7\xe3o empilhados. A peti\xe7\xe3o mais recente tem indice 0."),(0,n.kt)("p",null,"Para obter uma descri\xe7\xe3o do formato do log de solicita\xe7\xf5es do ORDA, consulte a se\xe7\xe3o ","[",(0,n.kt)("strong",{parentName:"p"},"ORDA client requests"),"]"," (",(0,n.kt)("a",r({parentName:"p"},{href:"https://doc.4d.com/4Dv18/4D/18/Description-of-log-files.300-4575486.en.html#4385373"}),"https://doc.4d.com/4Dv18/4D/18/Description-of-log-files.300-4575486.en.html#4385373"),")."),(0,n.kt)("h4",r({},{id:"exemplo-10"}),"Exemplo"),(0,n.kt)("p",null,"Consulte o exemplo 2 de ",(0,n.kt)("a",r({parentName:"p"},{href:"#startrequestlog"}),(0,n.kt)("inlineCode",{parentName:"a"},".startRequestLog()")),"."),(0,n.kt)("h2",r({},{id:"isadminprotected"}),".isAdminProtected()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".isAdminProtected()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True se o acesso ao Explorador de Dados estiver desativado, False se estiver ativado (por padr\xe3o)")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-12"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".isAdminProtected()")," retorna ",(0,n.kt)("inlineCode",{parentName:"p"},"True")," se o acesso ao ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/Admin/dataExplorer"}),"Data Explorer")," tiver sido desativado para a sess\xe3o de trabalho."),(0,n.kt)("p",null,"Por padr\xe3o, o acesso ao Data Explorer \xe9 concedido para sess\xf5es ",(0,n.kt)("inlineCode",{parentName:"p"},"webAdmin"),", mas pode ser desativado para impedir qualquer acesso aos dados por parte dos administradores (consulte a fun\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"#setadminprotection"}),(0,n.kt)("inlineCode",{parentName:"a"},".setAdminProtection()")),")."),(0,n.kt)("h4",r({},{id:"veja-tamb\xe9m-5"}),"Veja tamb\xe9m"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#setadminprotection"}),(0,n.kt)("inlineCode",{parentName:"a"},".setAdminProtection()"))),(0,n.kt)("h2",r({},{id:"locked"}),".locked()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".locked()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Verdadeiro se trancado")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-13"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".locked()")," retorna True se o armazenamento de dados local estiver bloqueado no momento."),(0,n.kt)("p",null,"Voc\xea pode bloquear o armazenamento de dados usando a fun\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"#flushandlock"}),".flushAndLock()")," antes de executar um instant\xe2neo do arquivo de dados, por exemplo."),(0,n.kt)("admonition",r({},{type:"caution"}),(0,n.kt)("p",{parentName:"admonition"},"A fun\xe7\xe3o tamb\xe9m retornar\xe1 ",(0,n.kt)("inlineCode",{parentName:"p"},"True")," se o datastore tiver sido bloqueado por outro recurso de administra\xe7\xe3o, como backup ou vss (consulte ",(0,n.kt)("a",r({parentName:"p"},{href:"#flushandlock"}),".flushAndLock()"),").")),(0,n.kt)("h4",r({},{id:"veja-tamb\xe9m-6"}),"Veja tamb\xe9m"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#flushandlock"}),".flushAndLock()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#unlock"}),".unlock()")),(0,n.kt)("h2",r({},{id:"makeselectionsalterable"}),".makeSelectionsAlterable()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".makeSelectionsAlterable()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xe3o exige nenhum par\xe2metro")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-14"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".makeSelectionsAlterable()")," define todas as sele\xe7\xf5es de entidades como alter\xe1veis por padr\xe3o nos datastores do aplicativo atual (incluindo ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/ORDA/datastores"}),"datastores remotos"),"). Ele deve ser usado uma vez, por exemplo, no m\xe9todo de banco de dados ",(0,n.kt)("inlineCode",{parentName:"p"},"On Startup"),"."),(0,n.kt)("p",null,'Quando essa fun\xe7\xe3o n\xe3o \xe9 chamada, as novas sele\xe7\xf5es de entidades podem ser compartilh\xe1veis, dependendo da natureza de seu "pai" ou ',"[como elas s\xe3o criadas]"," (ORDA/entities.md#shareable-or-non-shareable-entity-selections)."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Essa fun\xe7\xe3o n\xe3o modifica as sele\xe7\xf5es de entidades criadas por ",(0,n.kt)("a",r({parentName:"p"},{href:"#copy"}),(0,n.kt)("inlineCode",{parentName:"a"},".copy()"))," ou ",(0,n.kt)("inlineCode",{parentName:"p"},"OB Copy")," quando a op\xe7\xe3o expl\xedcita ",(0,n.kt)("inlineCode",{parentName:"p"},"ck shared")," \xe9 utilizada.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Compatibilidade"),": Essa fun\xe7\xe3o s\xf3 deve ser usada em projetos convertidos de vers\xf5es 4D anteriores ao 4D v18 R5 e que contenham chamadas ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/API/EntitySelectionClass#add"}),".add()"),". Nesse contexto, o uso de ",(0,n.kt)("inlineCode",{parentName:"p"},".makeSelectionsAlterable()")," pode economizar tempo ao restaurar instantaneamente o comportamento 4D anterior em projetos existentes.\nPor outro lado, o uso desse m\xe9todo em novos projetos criados no 4D v18 R5 e superior ",(0,n.kt)("strong",{parentName:"p"},"n\xe3o \xe9 recomendado"),", pois impede que as sele\xe7\xf5es de entidades sejam compartilhadas, o que proporciona maior desempenho e escalabilidade.")),(0,n.kt)("h2",r({},{id:"providedatakey"}),".provideDataKey()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"p"},"curPassPhrase")," : Text ) : Object ",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".provideDataKey"),"( ",(0,n.kt)("em",{parentName:"p"},"curDataKey")," : Object ) : Object "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"curPassPhrase"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Frase de cifrado atual")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"curDataKey"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Chave de criptografia de dados atual")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Resultado da coincid\xeancia da chave de criptografia")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-15"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".provideDataKey()")," permite fornecer uma chave de criptografia de dados para o arquivo de dados atual do armazenamento de dados e detecta se a chave corresponde aos dados criptografados. Esta fun\xe7\xe3o pode ser utilizada ao abrir um banco de dados criptografado, ou ao executar qualquer opera\xe7\xe3o de criptografia que precise da chave de criptografia, como por exemplo voltar a criptografar o arquivo de dados."),(0,n.kt)("blockquote",null,(0,n.kt)("ul",{parentName:"blockquote"},(0,n.kt)("li",{parentName:"ul"},"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"li"},".provideDataKey()")," deve ser chamada em um banco de dados criptografado. Se for chamado em um banco de dados n\xe3o criptografado, o erro 2003 (a chave de criptografia n\xe3o corresponde aos dados). retornado Use o comando ",(0,n.kt)("inlineCode",{parentName:"li"},"Data file encryption status")," para determinar se o banco de dados est\xe1 criptografado."),(0,n.kt)("li",{parentName:"ul"},"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"li"},".provideDataKey()")," n\xe3o pode ser chamada de um 4D remoto ou de um datastore remoto criptografado."))),(0,n.kt)("p",null,"Se voc\xea usar o par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"curPassPhrase"),", passe a cadeia de caracteres usada para gerar a chave de criptografia de dados. Quando usar este par\xe2metro, uma chave de criptografia \xe9 gerada."),(0,n.kt)("p",null,"Se voc\xea usar o par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"curDataKey"),", passe um objeto (com a propriedade ",(0,n.kt)("em",{parentName:"p"},"encodedKey"),") que contenha a chave de criptografia de dados. Essa chave pode ter sido gerada com o comando ",(0,n.kt)("inlineCode",{parentName:"p"},"New data key"),"."),(0,n.kt)("p",null,"Se for fornecida uma chave de criptografia de dados v\xe1lida, ela ser\xe1 adicionada \xe0 ",(0,n.kt)("em",{parentName:"p"},"keyChain")," na mem\xf3ria e o modo de criptografia ser\xe1 ativado:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"todas as modifica\xe7\xf5es de dados nas tabelas encriptadas s\xe3o cifradas no disco (.4DD, .journal. 4Dindx)"),(0,n.kt)("li",{parentName:"ul"},"todos os dados carregados desde tabelas criptografadas s\xe3o descifradas na mem\xf3ria")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Resultado")),(0,n.kt)("p",null,"O resultado da ordem se descreve no objeto devolvido:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propriedade"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"success"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True se a chave da criptografia proporcionada coincide com os dados encriptados, False em caso contr\xe1rio")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"As propriedades abaixo s\xe3o retornadas somente se o sucesso for ",(0,n.kt)("em",{parentName:"td"},"FALSE"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"status"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"C\xf3digo de erro (4 se a chave de encripta\xe7\xe3o fornecida for errada)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"statusText"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Mensagem de erro")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"errors"),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Pilha de erros. O primeiro erro tem o \xedndice mais alto")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"["," ].componentSignature"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nome do componente interno")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"["," ].errCode"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Number"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de erro")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"["," ].message"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Mensagem de erro")))),(0,n.kt)("p",null,"Se nenhuma ",(0,n.kt)("em",{parentName:"p"},"curPassphrase")," ou ",(0,n.kt)("em",{parentName:"p"},"curDataKey")," for fornecida, ",(0,n.kt)("inlineCode",{parentName:"p"},".provideDataKey()")," retornar\xe1 ",(0,n.kt)("strong",{parentName:"p"},"null")," (nenhum erro ser\xe1 gerado)."),(0,n.kt)("h4",r({},{id:"exemplo-11"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $keyStatus : Object\n var $passphrase : Text\n\n $passphrase:=Request("Enter the passphrase")\n If(OK=1)\n    $keyStatus:=ds.provideDataKey($passphrase)\n    If($keyStatus.success)\n       ALERT("You have provided a valid encryption key")\n    Else\n       ALERT("You have provided an invalid encryption key, you will not be able to work with encrypted data")\n    End if\n End if\n')),(0,n.kt)("h2",r({},{id:"setadminprotection"}),".setAdminProtection()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setAdminProtection"),"( ",(0,n.kt)("em",{parentName:"p"},"status")," : Boolean )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"status"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True para desativar o acesso do Data Explorer aos dados na porta ",(0,n.kt)("inlineCode",{parentName:"td"},"webAdmin"),", False (padr\xe3o) para conceder acesso")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-16"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".setAdminProtection()")," permite desativar qualquer acesso a dados na ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/Admin/webAdmin#http-port"}),"porta de administra\xe7\xe3o da Web"),", inclusive para o ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/Admin/dataExplorer"}),"Data Explorer")," em sess\xf5es ",(0,n.kt)("inlineCode",{parentName:"p"},"WebAdmin"),"."),(0,n.kt)("p",null,"Por padr\xe3o, quando a fun\xe7\xe3o n\xe3o \xe9 chamada, o acesso aos dados \xe9 sempre concedido na porta de administra\xe7\xe3o web para uma sess\xe3o com privil\xe9gio ",(0,n.kt)("inlineCode",{parentName:"p"},"WebAdmin")," utilizando o Explorador de Dados. Em algumas configura\xe7\xf5es, por exemplo, quando o servidor de aplica\xe7\xf5es estiver alojado em uma m\xe1quina de terceiros, \xe9 possivel que n\xe3o quiser que o administrador possaa ver seus dados, mesmo que possa editar a configura\xe7\xe3o do servidor, incluindo a configura\xe7\xe3o da ",(0,n.kt)("a",{href:"Admin/webAdmin.md#access-key"},"access key"),"."),(0,n.kt)("p",null,"Neste caso, voc\xea pode chamar esta fun\xe7\xe3o para desabilitar o acesso aos dados do Explorador de Dados na porta de administra\xe7\xe3o web da m\xe1quina, mesmo que a sess\xe3o do usu\xe1rio tenha o privil\xe9gio ",(0,n.kt)("inlineCode",{parentName:"p"},"WebAdmin"),". Quando esta fun\xe7\xe3o for executada, o arquivo de dados \xe9 protegido imediatamente e o estado \xe9 armazenado no disco: o arquivo de dados \xe9 protegido mesmo se a aplica\xe7\xe3o for restaurada."),(0,n.kt)("h4",r({},{id:"exemplo-12"}),"Exemplo"),(0,n.kt)("p",null,"Voc\xea cria um m\xe9todo de projeto ",(0,n.kt)("em",{parentName:"p"},"protectDataFile")," para chamar antes das implementa\xe7\xf5es, por exemplo:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"ds.setAdminProtection(True) //Desativa o acesso aos dados do Explorador de Dados\n")),(0,n.kt)("h4",r({},{id:"veja-tamb\xe9m-7"}),"Veja tamb\xe9m"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#isadminprotected"}),(0,n.kt)("inlineCode",{parentName:"a"},".isAdminProtected()"))),(0,n.kt)("h2",r({},{id:"setglobalstamp"}),".setGlobalStamp()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20 R3"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setGlobalStamp"),"( ",(0,n.kt)("em",{parentName:"p"},"newStamp")," : Real)"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"newStamp"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Real"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Novo valor do marcador de modifica\xe7\xe3o global")))),(0,n.kt)("admonition",r({},{title:"Modo avan\xe7ado",type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Essa fun\xe7\xe3o \xe9 destinada a desenvolvedores que precisam modificar o valor atual do marcador global. Ele deve ser usado com cuidado.")),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-17"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".setGlobalStamp()")," define ",(0,n.kt)("em",{parentName:"p"},"newStamp")," como o novo valor para o carimbo de modifica\xe7\xe3o global atual do datastore."),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Esta fun\xe7\xe3o s\xf3 pode ser chamada:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"no datastore local (",(0,n.kt)("a",r({parentName:"li"},{href:"#ds"}),(0,n.kt)("inlineCode",{parentName:"a"},"ds")),")."),(0,n.kt)("li",{parentName:"ul"},"no ambiente cliente/servidor, na m\xe1quina do servidor."))),(0,n.kt)("p",null,"Para obter mais informa\xe7\xf5es sobre o carimbo global e o rastreamento de altera\xe7\xf5es de dados, consulte a p\xe1gina ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/ORDA/global-stamp"}),(0,n.kt)("strong",{parentName:"a"},"Using the Global Stamp")),"."),(0,n.kt)("h4",r({},{id:"exemplo-13"}),"Exemplo"),(0,n.kt)("p",null,"O c\xf3digo a seguir define o carimbo global de modifica\xe7\xe3o:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"var $newValue: Real\n$newValue:=ReadValueFrom //obt\xe9m um novo valor para atribuir\nds.setGlobalStamp($newValue)\n")),(0,n.kt)("h4",r({},{id:"veja-tamb\xe9m-8"}),"Veja tamb\xe9m"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#getglobalstamp"}),".getGlobalStamp()")),(0,n.kt)("h2",r({},{id:"setremotecontextinfo"}),".setRemoteContextInfo()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"dataClassName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"attributes")," : Text {; ",(0,n.kt)("em",{parentName:"p"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"pageLength")," : Integer}})",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"dataClassName")," : Text; ",(0,n.kt)("em",{parentName:"p"},"attributesColl")," : Collection {; ",(0,n.kt)("em",{parentName:"p"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"pageLength")," : Integer }} )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"dataClassObject")," : 4D.DataClass ; ",(0,n.kt)("em",{parentName:"p"},"attributes")," : Text {; ",(0,n.kt)("em",{parentName:"p"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"pageLength")," : Integer }})",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setRemoteContextInfo"),"( ",(0,n.kt)("em",{parentName:"p"},"contextName")," : Text ; ",(0,n.kt)("em",{parentName:"p"},"dataClassObject")," : 4D.DataClass ; ",(0,n.kt)("em",{parentName:"p"},"attributesColl")," : Collection {; ",(0,n.kt)("em",{parentName:"p"},"contextType")," : Text { ; ",(0,n.kt)("em",{parentName:"p"},"pageLength")," : Integer }} )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"contextName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nome do contexto")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dataClassName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nome da dataclass")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dataClassObject"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. DataClass"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"dataclass object (e.g datastore. Employee)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"attributes"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Lista de atributos separada por v\xedrgulas")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Atributos do tipo BLOB n\xe3o s\xe3o gerenciados na datastore."),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Cole\xe7\xe3o de nomes de atributos (text)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"contextType"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Se fornecido, o valor deve ser "main" ou "currentItem"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"pageLength"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Dura\xe7\xe3o da p\xe1gina da selec\xe7\xe3o da entidade ligada ao contexto (por padr\xe3o \xe9 80)")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Modo avan\xe7ado:")," Essa fun\xe7\xe3o \xe9 destinada a desenvolvedores que precisam personalizar os recursos padr\xe3o do ORDA para configura\xe7\xf5es espec\xedficas. Na maioria dos casos, n\xe3o necessitar\xe1 de o utilizar.")),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-18"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".setRemoteContextInfo()")," vincula os atributos da dataclass especificada ao contexto de otimiza\xe7\xe3o ",(0,n.kt)("em",{parentName:"p"},"contextName"),". Se j\xe1 existir um contexto de optimiza\xe7\xe3o para os atributos especificados, este comando substitui-o."),(0,n.kt)("p",null,"Quando se passa um contexto para as fun\xe7\xf5es da classe ORDA, a optimiza\xe7\xe3o do pedido REST \xe9 desencadeada imediatamente:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"a primeira entidade n\xe3o \xe9 carregada totalmente, como no modo autom\xe1tico"),(0,n.kt)("li",{parentName:"ul"},"p\xe1ginas de 80 entidades (ou entidades ",(0,n.kt)("inlineCode",{parentName:"li"},"pageLength"),") s\xe3o imediatamente solicitadas ao servidor com apenas os atributos no contexto")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Para obter mais informa\xe7\xf5es sobre como os contextos de otimiza\xe7\xe3o s\xe3o criados, consulte o ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/pt/ORDA/client-server-optimization#optimization-context"}),"par\xe1grafo de otimiza\xe7\xe3o do cliente/servidor"))),(0,n.kt)("p",null,"Em ",(0,n.kt)("em",{parentName:"p"},"contextName"),", passe o nome do contexto de otimiza\xe7\xe3o para vincular os atributos da classe de dados."),(0,n.kt)("p",null,"Para designar a dataclass que vai receber o contexto, voc\xea pode passar um ",(0,n.kt)("em",{parentName:"p"},"dataClassName")," ou um ",(0,n.kt)("em",{parentName:"p"},"dataClassObject"),"."),(0,n.kt)("p",null,"Para designar os atributos a serem vinculados ao contexto, passe uma lista de atributos separados por v\xedrgula em ",(0,n.kt)("em",{parentName:"p"},"attributes")," (Texto) ou uma cole\xe7\xe3o de nomes de atributos em ",(0,n.kt)("em",{parentName:"p"},"attributesColl")," (cole\xe7\xe3o de texto)."),(0,n.kt)("p",null,"Se ",(0,n.kt)("em",{parentName:"p"},"attributes")," for um Text vazio ou ",(0,n.kt)("em",{parentName:"p"},"attributesColl")," for uma cole\xe7\xe3o vazia, todos os atributos escalares da classe de dados ser\xe3o colocados no contexto de otimiza\xe7\xe3o. Se passar um atributo que n\xe3o existir na dataclass, a fun\xe7\xe3o a ignora e um erro \xe9 enviado."),(0,n.kt)("p",null,"Voc\xea pode passar um ",(0,n.kt)("em",{parentName:"p"},"contextType")," para especificar se o contexto \xe9 um contexto padr\xe3o ou o contexto do item de sele\xe7\xe3o de entidade atual exibido em uma caixa de listagem:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'Se estabelecido como "main" (padr\xe3o), o ',(0,n.kt)("em",{parentName:"li"},"contextName")," designa um contexto padr\xe3o."),(0,n.kt)("li",{parentName:"ul"},'Se definido para "currentItem", os atributos passados s\xe3o colocados no contexto do item actual.  Veja ',(0,n.kt)("a",r({parentName:"li"},{href:"/docs/pt/ORDA/datastores#entity-selection-based-list-box"}),"Caixa de lista baseada em entidade de sele\xe7\xe3o"),".")),(0,n.kt)("p",null,"Em ",(0,n.kt)("em",{parentName:"p"},"pageLength"),", especificar o n\xfamero de entidades dataclass a solicitar ao servidor."),(0,n.kt)("p",null,"Voc\xea pode passar um ",(0,n.kt)("em",{parentName:"p"},"pageLength")," para um atributo de rela\xe7\xe3o que \xe9 uma sele\xe7\xe3o de entidade (um para muitos). A sintaxe \xe9 ",(0,n.kt)("inlineCode",{parentName:"p"},"relationAttributeName:pageLength")," (por exemplo, employees:20)."),(0,n.kt)("h4",r({},{id:"exemplo-1-3"}),"Exemplo 1"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D. DataStoreImplementation\nvar $persons : cs. PersonsSelection\nvar $p : cs. PersonsEntity\nvar $contextA : Object\nvar $info : Object\nvar $text : Text\n\n// Open remote datastore\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n// Set context info\n$contextA:=New object("context"; "contextA")\n$ds.setRemoteContextInfo("contextA"; $ds. Persons; "firstname, lastname")\n\n// Send requests to the server using a loop\n$persons:=$ds. Persons.all($contextA)\n$text:="" For each ($p; $persons)\n    $text:=$p.firstname + " " + $p.lastname End for each\n\n// Check contents of the context\n$info:=$ds.getRemoteContextInfo("contextA")\n// $info = {name:"contextA";dataclass:"Persons";main:"firstname, lastname"}\n')),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Este exemplo serve como uma demonstra\xe7\xe3o, n\xe3o se destina a uma implementa\xe7\xe3o real.")),(0,n.kt)("h4",r({},{id:"exemplo-2-3"}),"Exemplo 2"),(0,n.kt)("p",null,"O trecho de c\xf3digo a seguir solicita p\xe1ginas de 30 entidades da classe de dados ",(0,n.kt)("inlineCode",{parentName:"p"},"Address")," do servidor. As entidades devolvidas cont\xeam apenas o atributo ",(0,n.kt)("inlineCode",{parentName:"p"},"zipCode"),"."),(0,n.kt)("p",null,"Para cada entidade ",(0,n.kt)("inlineCode",{parentName:"p"},"Address"),", 20 entidades Persons s\xe3o retornadas, e elas cont\xeam apenas os atributos ",(0,n.kt)("inlineCode",{parentName:"p"},"lastname")," e ",(0,n.kt)("inlineCode",{parentName:"p"},"firstname"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $ds : 4D. DataStoreImplementation\n\n$ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n$ds.setRemoteContextInfo("contextA"; $ds. Address; "zipCode, persons:20,\\\npersons.lastname, persons.firstname"; "main"; 30)\n')),(0,n.kt)("h4",r({},{id:"exemplo-3---listbox"}),"Exemplo 3 - Listbox"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'// When the form loads Case of\n    : (Form event code=On Load)\n\n        Form.ds:=Open datastore(New object("hostname"; "www.myserver.com"); "myDS")\n\n       // Set the attributes of the page context\n        Form.ds.setRemoteContextInfo("LB"; Form.ds. Persons; "age, gender,\\\n        children"; "currentItem")\n\n        Form.settings:=New object("context"; "LB")\n        Form.persons:=Form.ds. Persons.all(Form.settings)\n        // Form.persons is displayed in a list box End case\n\n// When you get the attributes in the context of the current item: Form.currentItemLearntAttributes:=Form.selectedPerson.getRemoteContextAttributes()\n// Form.currentItemLearntAttributes = "age, gender, children"\n')),(0,n.kt)("h4",r({},{id:"veja-tamb\xe9m-9"}),"Veja tamb\xe9m"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#getremotecontextinfo"}),".getRemoteContextInfo()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#getallremotecontexts"}),".getAllRemoteContexts()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#clearallremotecontexts"}),".clearAllRemoteContexts()")),(0,n.kt)("h2",r({},{id:"startrequestlog"}),".startRequestLog()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Server side support, new ",(0,n.kt)("inlineCode",{parentName:"td"},"options")," parameter")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"()",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"p"},"file")," : 4D.File )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"p"},"file")," : 4D.File ; ",(0,n.kt)("em",{parentName:"p"},"options")," : Integer )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".startRequestLog"),"( ",(0,n.kt)("em",{parentName:"p"},"reqNum")," : Integer )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"file"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D. File"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objeto File")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"options"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Op\xe7\xe3o de registo de resposta (apenas servidor)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"reqNum"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Integer"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xfamero de pedidos a manter na mem\xf3ria (apenas cliente)")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-19"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".startRequestLog()")," inicia o registro de solicita\xe7\xf5es ORDA no lado do cliente ou no lado do servidor. Foi criado para depura\xe7\xe3o em configura\xe7\xf5es de cliente/servidor."),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Para uma descri\xe7\xe3o do formato de log do pedido ORDA, por favor, consulte a se\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"../Depuring/debugLogFiles.md#orda-requests"}),(0,n.kt)("strong",{parentName:"a"},"solicita\xe7\xf5es ORDA")),".")),(0,n.kt)("h4",r({},{id:"do-lado-do-cliente"}),"Do lado do cliente"),(0,n.kt)("p",null,"Para criar um registo de pedidos ORDA do lado do cliente, chame esta fun\xe7\xe3o numa m\xe1quina remota. O registro pode ser enviado para um arquivo ou para a mem\xf3ria, dependendo do par\xe2metro:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Se voc\xea tiver passado um objeto ",(0,n.kt)("em",{parentName:"li"},"file")," criado com o comando ",(0,n.kt)("inlineCode",{parentName:"li"},"File"),", os dados de registro ser\xe3o gravados nesse arquivo como uma cole\xe7\xe3o de objetos (formato JSON). Cada objeto representa uma peti\xe7\xe3o.",(0,n.kt)("br",null),"Se o arquivo n\xe3o existir, ser\xe1 criado. No caso contr\xe1rio, ou seja, se o arquivo j\xe1 existir, os novos dados de registro ser\xe3o adicionados a ele.\nSe chamar a .startRequestLog( ) com um arquivo enquanto se iniciou previamente um registro na mem\xf3ria, o registro em mem\xf3ria para e \xe9 esvaziado.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Deve adicionar manualmente um caractere \\N ao final do arquivo para realizar uma valida\xe7\xe3o JSON")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Se voc\xea passou um n\xfamero inteiro ",(0,n.kt)("em",{parentName:"p"},"reqNum"),", o registro na mem\xf3ria \xe9 esvaziado (se houver) e um novo registro \xe9 inicializado. Vai manter reqNum peti\xe7\xf5es em mem\xf3ria at\xe9 que se alcance o n\xfamero, em cujo caso se esvaziam as entradas mais antigas (pilha FIFO).Se chamar a .startRequestLog() com um ",(0,n.kt)("br",null),"reqNum enquanto tiver iniciado previamente um registro em um arquivo, se para o registro do arquivo.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Se n\xe3o tiver passado nenhum par\xe2metro, o registro se inicia na mem\xf3ria. Se ",(0,n.kt)("inlineCode",{parentName:"p"},".startRequestLog()")," tiver sido chamado anteriormente com um ",(0,n.kt)("em",{parentName:"p"},"reqNum")," (antes de ",(0,n.kt)("inlineCode",{parentName:"p"},".stopRequestLog()"),"), os dados de registro ser\xe3o empilhados na mem\xf3ria at\xe9 a pr\xf3xima vez que o registro for esvaziado ou ",(0,n.kt)("inlineCode",{parentName:"p"},".stopRequestLog()")," for chamado."))),(0,n.kt)("h4",r({},{id:"do-lado-do-servidor"}),"Do lado do servidor"),(0,n.kt)("p",null,"Para criar um registro de pedidos ORDA no lado do servidor, chame essa fun\xe7\xe3o no m\xe1quina servidor. Os dados de registro s\xe3o gravados em um arquivo no formato ",(0,n.kt)("inlineCode",{parentName:"p"},".jsonl"),". Cada objeto representa um pedido. Se o ficheiro ainda n\xe3o existir, \xe9 criado. No caso contr\xe1rio, ou seja, se o arquivo j\xe1 existir, os novos dados de registro ser\xe3o adicionados a ele."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Se voc\xea passou o par\xe2metro ",(0,n.kt)("em",{parentName:"li"},"file"),", os dados de registro ser\xe3o gravados nesse arquivo, no local solicitado. - Se voc\xea omitir o par\xe2metro ",(0,n.kt)("em",{parentName:"li"},"file")," ou se ele for nulo, os dados de registro ser\xe3o gravados em um arquivo chamado ",(0,n.kt)("em",{parentName:"li"},"ordaRequests.jsonl"),' e armazenados na pasta "/LOGS".'),(0,n.kt)("li",{parentName:"ul"},"O par\xe2metro ",(0,n.kt)("em",{parentName:"li"},"op\xe7\xf5es")," pode ser usado para especificar se a resposta do servidor tem de ser registrada e se deve incluir o corpo. Por padr\xe3o, quando o par\xe2metro \xe9 omisso, a resposta completa \xe9 registrada. As seguintes constantes podem ser utilizadas neste par\xe2metro:")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"srl log all"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Registar a resposta na \xedntegra (valor predefinido)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"srl log no response"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Desativar o registo da resposta")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"srl log response without body"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Registar a resposta sem o corpo")))),(0,n.kt)("h4",r({},{id:"exemplo-1-4"}),"Exemplo 1"),(0,n.kt)("p",null,"Se quiser registras as peti\xe7\xf5es dos clientes ORDA em um arquivo e usar o n\xfamero de sequencia do registro:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $file : 4D.File\n var $e : cs.PersonsEntity\n\n $file:=File("/LOGS/ORDARequests.txt") //pasta logs\n\n SET DATABASE PARAMETER(Client Log Recording;1) //ativa o n\xfamero de sequencia global do log\n ds.startRequestLog($file)\n $e:=ds.Persons.get(30001) //enviar uma peti\xe7\xe3o\n ds.stopRequestLog()\n SET DATABASE PARAMETER(Client Log Recording;0)\n')),(0,n.kt)("h4",r({},{id:"exemplo-2-4"}),"Exemplo 2"),(0,n.kt)("p",null,"Se quiser registrar as peti\xe7\xf5es dos clientes ORDA na mem\xf3ria:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $es : cs. PersonsSelection\n var $log : Collection\n\n ds.startRequestLog(3) //keep 3 requests in memory\n\n $es:=ds. Persons.query("name=:1";"Marie")\n $es:=ds. Persons.query("name IN :1";New collection("Marie"))\n $es:=ds.Persons.query("name=:1";"So@")\n\n $log:=ds.getRequestLog()\n ALERT("The longest request lasted: "+String($log.max("duration"))+" ms")\n')),(0,n.kt)("h4",r({},{id:"exemplo-3-1"}),"Exemplo 3"),(0,n.kt)("p",null,"Voc\xea deseja registrar as peticiones do servidor ORDA em um arquivo espec\xedfico e ativar o n\xfamero de sequ\xeancia do registro e a dura\xe7\xe3o:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'SET DATABASE PARAMETER(4D Server Log Recording;1)\n\n$file:=Folder(fk logs folder).file("myOrdaLog.jsonl")\nds.startRequestLog($file)\n...\nds.stopRequestLog()\nSET DATABASE PARAMETER(4D Server Log Recording;0)\n\n\n')),(0,n.kt)("h2",r({},{id:"starttransaction"}),".startTransaction()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".startTransaction()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xe3o exige nenhum par\xe2metro")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-20"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".startTransaction()")," inicia uma transa\xe7\xe3o no processo atual no banco de dados correspondente ao armazenamento de dados ao qual ela se aplica. Quaisquer altera\xe7\xf5es feitas \xe0s entidades do datastore no processo da transac\xe7\xe3o s\xe3o armazenadas temporariamente at\xe9 que a transac\xe7\xe3o seja validada ou cancelada."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Se chamar a este m\xe9todo no armaz\xe9m de dados principal (ou seja, o armaz\xe9m de dados devolvido pelo comando ds), a transa\xe7\xe3o se aplica a todas as opera\xe7\xf5es realizadas no armaz\xe9m de dados principal e no banco de dados subjacente, incluindo portanto ORDA e as linguagens cl\xe1ssicas.")),(0,n.kt)("p",null,"Pode aninhar v\xe1rias transa\xe7\xf5es (subtransa\xe7\xf5es). Cada transa\xe7\xe3o ou subtransa\xe7\xe3o deve ser eventualmente cancelada ou validada. Note que se a transa\xe7\xe3o principal for cancelada, todas as suas subtransa\xe7\xf5es tamb\xe9m s\xe3o canceladas, mesmo se forem validadas individualmente usando a fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".validateTransaction()"),"."),(0,n.kt)("h4",r({},{id:"exemplo-14"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),' var $connect; $status : Object\n var $person : cs.PersonsEntity\n var $ds : cs.DataStore\n var $choice : Text\n var $error : Boolean\n\n Case of\n    :($choice="local")\n       $ds:=ds\n    :($choice="remote")\n       $connect:=New object("hostname";"111.222.3.4:8044")\n       $ds:=Open datastore($connect;"myRemoteDS")\n End case\n\n $ds.startTransaction()\n $person:=$ds.Persons.query("lastname=:1";"Peters").first()\n\n If($person#Null)\n    $person.lastname:="Smith"\n    $status:=$person.save()\n End if\n ...\n ...\n If($error)\n    $ds.cancelTransaction()\n Else\n    $ds.validateTransaction()\n End if\n')),(0,n.kt)("h2",r({},{id:"stoprequestlog"}),".stopRequestLog()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Suporte do lado do servidor")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"17 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".stopRequestLog()"),"  "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xe3o exige nenhum par\xe2metro")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-21"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".stopRequestLog()")," interrompe qualquer registro de solicita\xe7\xf5es ORDA na m\xe1quina em que \xe9 chamada (cliente ou servidor)."),(0,n.kt)("p",null,"Fecha efetivamente o documento aberto no disco. No lado do cliente, se o registo tiver sido iniciado na mem\xf3ria, \xe9 interrompido."),(0,n.kt)("p",null,"Esta fun\xe7\xe3o n\xe3o faz nada se o registo dos pedidos ORDA n\xe3o tiver sido iniciado na m\xe1quina."),(0,n.kt)("h4",r({},{id:"exemplo-15"}),"Exemplo"),(0,n.kt)("p",null,"Consulte os exemplos de ",(0,n.kt)("a",r({parentName:"p"},{href:"#startrequestlog"}),(0,n.kt)("inlineCode",{parentName:"a"},".startRequestLog()")),"."),(0,n.kt)("h2",r({},{id:"unlock"}),".unlock()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".unlock()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xe3o exige nenhum par\xe2metro")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-22"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," remove o bloqueio atual das opera\xe7\xf5es de grava\xe7\xe3o no datastore, se ele tiver sido definido no mesmo processo. As opera\xe7\xf5es de grava\xe7\xe3o podem ser bloqueadas no reposit\xf3rio de dados local usando a fun\xe7\xe3o ",(0,n.kt)("a",r({parentName:"p"},{href:"#flushandlock"}),(0,n.kt)("inlineCode",{parentName:"a"},".flushAndLock()")),"."),(0,n.kt)("p",null,"Se a fechadura actual era a \xfanica fechadura no datastore, as opera\xe7\xf5es de escrita s\xe3o imediatamente activadas. Se a fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()")," tiver sido chamada v\xe1rias vezes no processo, o mesmo n\xfamero de ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," dever\xe1 ser chamado para desbloquear de fato o armazenamento de dados."),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," deve ser chamada a partir do processo que chamou o correspondente ",(0,n.kt)("inlineCode",{parentName:"p"},".flushAndLock()"),", caso contr\xe1rio a fun\xe7\xe3o nada faz e a fechadura n\xe3o \xe9 removida."),(0,n.kt)("p",null,"Se a fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".unlock()")," for chamada em um datastore desbloqueado, ela n\xe3o far\xe1 nada."),(0,n.kt)("h4",r({},{id:"veja-tamb\xe9m-10"}),"Veja tamb\xe9m"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#flushandlock"}),".flushAndLock()"),(0,n.kt)("br",null),(0,n.kt)("a",r({parentName:"p"},{href:"#locked"}),".locked()")),(0,n.kt)("h2",r({},{id:"validatetransaction"}),".validateTransaction()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3ria"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".validateTransaction()"),"  "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"N\xe3o exige nenhum par\xe2metro")))),(0,n.kt)("h4",r({},{id:"descri\xe7\xe3o-23"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".validateTransaction()")," aceita a transa\xe7\xe3o que foi iniciada com ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()"))," no n\xedvel correspondente no armazenamento de dados especificado."),(0,n.kt)("p",null,"A fun\xe7\xe3o salva as mudan\xe7as nos dados do datastore que se produziram durante a transa\xe7\xe3o."),(0,n.kt)("p",null,"Pode aninhar v\xe1rias transa\xe7\xf5es (subtransa\xe7\xf5es). Se a transa\xe7\xe3o principal for cancelada, todas suas subtransa\xe7\xf5es tamb\xe9m s\xe3o canceladas, mesmo se validadas individualmente usando esta fun\xe7\xe3o."),(0,n.kt)("h4",r({},{id:"exemplo-16"}),"Exemplo"),(0,n.kt)("p",null,"Consulte o exemplo de ",(0,n.kt)("a",r({parentName:"p"},{href:"#starttransaction"}),(0,n.kt)("inlineCode",{parentName:"a"},".startTransaction()")),"."))}u.isMDXComponent=!0}}]);