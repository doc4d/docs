"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2756],{881917:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>d,default:()=>N,frontMatter:()=>i,metadata:()=>p,toc:()=>u});a(667294);var n=a(603905),r=a(793070),o=a(550551);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const i={id:"SessionClass",title:"Session"},d=void 0,p={unversionedId:"API/SessionClass",id:"API/SessionClass",title:"Session",description:"Os objetos de sess\xe3o s\xe3o retornados pelo Session comando. Esses objetos fornecem ao desenvolvedor uma interface que permite gerenciar a sess\xe3o atual do usu\xe1rio e executar a\xe7\xf5es como armazenar dados contextuais, compartilhar informa\xe7\xf5es entre processos de sess\xe3o, iniciar processos preemptivos relacionados \xe0 sess\xe3o ou (somente na Web) gerenciar privil\xe9gios.",source:"@site/i18n/pt/docusaurus-plugin-content-docs/current/API/SessionClass.md",sourceDirName:"API",slug:"/API/SessionClass",permalink:"/docs/pt/next/API/SessionClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FSessionClass.md%20(current)&body=Please%20enter%20your%20comment%3A",tags:[],version:"current",frontMatter:{id:"SessionClass",title:"Session"},sidebar:"docs",previous:{title:"POP3Transporter",permalink:"/docs/pt/next/API/POP3TransporterClass"},next:{title:"Signal",permalink:"/docs/pt/next/API/SignalClass"}},m={},u=[{value:"Tipos de sess\xe3o",id:"tipos-de-sess\xe3o",level:3},{value:"Resumo",id:"resumo",level:3},{value:"Session",id:"session",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:4},{value:"Sess\xf5es web",id:"sess\xf5es-web",level:4},{value:"Sess\xf5es cliente remoto",id:"sess\xf5es-cliente-remoto",level:4},{value:"a sess\xe3o de procedimentos armazenados",id:"a-sess\xe3o-de-procedimentos-armazenados",level:4},{value:"Exemplo",id:"exemplo",level:4},{value:".clearPrivileges()",id:"clearprivileges",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-1",level:4},{value:"Exemplo",id:"exemplo-1",level:4},{value:".expirationDate",id:"expirationdate",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-2",level:4},{value:"Exemplo",id:"exemplo-2",level:4},{value:".hasPrivilege()",id:"hasprivilege",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-3",level:4},{value:"Exemplo",id:"exemplo-3",level:4},{value:".id",id:"id",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-4",level:4},{value:".idleTimeout",id:"idletimeout",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-5",level:4},{value:"Exemplo",id:"exemplo-4",level:4},{value:".info",id:"info",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-6",level:4},{value:".isGuest()",id:"isguest",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-7",level:4},{value:"Exemplo",id:"exemplo-5",level:4},{value:".setPrivileges()",id:"setprivileges",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-8",level:4},{value:"Exemplo",id:"exemplo-6",level:4},{value:".storage",id:"storage",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-9",level:4},{value:".userName",id:"username",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o-10",level:4}],k={toc:u};function N(e){var{components:t}=e,a=l(e,["components"]);return(0,n.kt)("wrapper",s({},k,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Os objetos de sess\xe3o s\xe3o retornados pelo ",(0,n.kt)("a",s({parentName:"p"},{href:"#session"}),(0,n.kt)("inlineCode",{parentName:"a"},"Session"))," comando. Esses objetos fornecem ao desenvolvedor uma interface que permite gerenciar a sess\xe3o atual do usu\xe1rio e executar a\xe7\xf5es como armazenar dados contextuais, compartilhar informa\xe7\xf5es entre processos de sess\xe3o, iniciar processos preemptivos relacionados \xe0 sess\xe3o ou (somente na Web) gerenciar ",(0,n.kt)("a",s({parentName:"p"},{href:"/docs/pt/next/ORDA/privileges"}),"privil\xe9gios"),"."),(0,n.kt)("h3",s({},{id:"tipos-de-sess\xe3o"}),"Tipos de sess\xe3o"),(0,n.kt)("p",null,"Tr\xeas tipos de sess\xf5es s\xe3o suportados por essa classe:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",s({parentName:"li"},{href:"/docs/pt/next/WebServer/sessions"}),(0,n.kt)("strong",{parentName:"a"},"Sess\xf5es de usu\xe1rios da Web")),": As sess\xf5es de usu\xe1rio da Web est\xe3o dispon\xedveis quando ",(0,n.kt)("a",s({parentName:"li"},{href:"/docs/pt/next/WebServer/sessions#enabling-sessions"}),"as sess\xf5es escalon\xe1veis est\xe3o ativadas no seu projeto"),". Eles s\xe3o usados para conex\xf5es Web e REST e podem receber privil\xe9gios."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",s({parentName:"li"},{href:"/docs/pt/next/Desktop/clientServer#remote-user-sessions"}),(0,n.kt)("strong",{parentName:"a"},"Sess\xf5es de usu\xe1rio de cliente remoto")),": Em aplicativos cliente/servidor, os usu\xe1rios remotos t\xeam suas pr\xf3prias sess\xf5es gerenciadas no servidor."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",s({parentName:"li"},{href:"https://doc.4d.com/4Dv20R5/4D/20-R5/4D-Server-and-the-4D-Language.300-6932726.en.html"}),(0,n.kt)("strong",{parentName:"a"},"Sess\xe3o de procedimentos armazenados")),": Todos os procedimentos armazenados executados no servidor compartilham a mesma sess\xe3o de usu\xe1rio virtual.")),(0,n.kt)("admonition",s({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"A disponibilidade de propriedades e fun\xe7\xf5es no objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," depende do tipo de sess\xe3o.")),(0,n.kt)("h3",s({},{id:"resumo"}),"Resumo"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),(0,n.kt)("a",s({parentName:"td"},{href:"#clearprivileges"}),(0,n.kt)("strong",{parentName:"a"},".clearPrivileges()")," : Boolean"),"\xa0","\xa0","\xa0","\xa0","remove todos os privil\xe9gios associados \xe0 sess\xe3o e retorna ",(0,n.kt)("strong",{parentName:"td"},"True")," se a execu\xe7\xe3o foi bem-sucedida")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),(0,n.kt)("a",s({parentName:"td"},{href:"#expirationdate"}),(0,n.kt)("strong",{parentName:"a"},".expirationDate")," : Text"),"\xa0","\xa0","\xa0","\xa0","a data e hora de expira\xe7\xe3o do cookie da sess\xe3o")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),(0,n.kt)("a",s({parentName:"td"},{href:"#hasprivilege"}),(0,n.kt)("strong",{parentName:"a"},".hasPrivilege"),"( ",(0,n.kt)("em",{parentName:"a"},"privilege")," : Text ) : Boolean"),"\xa0","\xa0","\xa0","\xa0","retorna Verdadeiro se o privil\xe9gio estiver associado \xe0 sess\xe3o, e Falso de outra forma")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),(0,n.kt)("a",s({parentName:"td"},{href:"#id"}),(0,n.kt)("strong",{parentName:"a"},".id")," : Text"),"\xa0","\xa0","\xa0","\xa0","o identificador exclusivo (UUID) da sess\xe3o no servidor")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),(0,n.kt)("a",s({parentName:"td"},{href:"#idletimeout"}),(0,n.kt)("strong",{parentName:"a"},".idleTimeout")," : Integer"),"\xa0","\xa0","\xa0","\xa0","o tempo limite da sess\xe3o de inatividade (em minutos), ap\xf3s o qual a sess\xe3o \xe9 automaticamente encerrada por 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),(0,n.kt)("a",s({parentName:"td"},{href:"#info"}),(0,n.kt)("strong",{parentName:"a"},".info")," : Object"),"\xa0","\xa0","\xa0","\xa0","descreve o cliente remoto ou a sess\xe3o do procedimento armazenado no servidor")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),(0,n.kt)("a",s({parentName:"td"},{href:"#isguest"}),(0,n.kt)("strong",{parentName:"a"},".isGuest()")," : Boolean"),"\xa0","\xa0","\xa0","\xa0","retorna Verdadeiro se a sess\xe3o for uma sess\xe3o de Convidado (ou seja, n\xe3o tem privil\xe9gios)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),(0,n.kt)("a",s({parentName:"td"},{href:"#setprivileges"}),(0,n.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"a"},"privilege")," : Text ) : Boolean",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"a"},"privileges")," : Collection )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"a"},"settings")," : Object ) : Boolean"),"\xa0","\xa0","\xa0","\xa0","associa o(s) privil\xe9gio(s) e/ou papel(s) definidos no par\xe2metro para a sess\xe3o e retorna ",(0,n.kt)("strong",{parentName:"td"},"True")," se a execu\xe7\xe3o foi bem sucedida")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),(0,n.kt)("a",s({parentName:"td"},{href:"#storage"}),(0,n.kt)("strong",{parentName:"a"},".storage")," : Object"),"\xa0","\xa0","\xa0","\xa0","um objeto compartilhado que pode ser usado para armazenar informa\xe7\xf5es dispon\xedveis para todos os processos da sess\xe3o")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),(0,n.kt)("a",s({parentName:"td"},{href:"#username"}),(0,n.kt)("strong",{parentName:"a"},".userName")," : Text"),"\xa0","\xa0","\xa0","\xa0","o nome de usu\xe1rio associado \xe0 sess\xe3o")))),(0,n.kt)("h2",s({},{id:"session"}),"Session"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"20 R5"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Support of remote client and stored procedure sessions")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Session")," : 4D. Session"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",s({parentName:"tr"},{align:"center"})),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"4D. Session"),(0,n.kt)("td",s({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Objecto Session")))),(0,n.kt)("h4",s({},{id:"descri\xe7\xe3o"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"O comando ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," Retorna o objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," correspondente \xe0 sess\xe3o do usu\xe1rio atual."),(0,n.kt)("p",null,"Dependendo do processo a partir do qual o comando \xe9 chamado, a sess\xe3o atual do usu\xe1rio pode ser:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"uma sess\xe3o da Web (quando ",(0,n.kt)("a",s({parentName:"li"},{href:"/docs/pt/next/WebServer/sessions#enabling-sessions"}),"as sess\xf5es escalon\xe1veis est\xe3o ativadas"),"),"),(0,n.kt)("li",{parentName:"ul"},"uma sess\xe3o de cliente remoto,"),(0,n.kt)("li",{parentName:"ul"},"a sess\xe3o de procedimentos armazenados.")),(0,n.kt)("p",null,"Para obter mais informa\xe7\xf5es, consulte o par\xe1grafo ",(0,n.kt)("a",s({parentName:"p"},{href:"#session-types"}),"Tipos de sess\xe3o"),"."),(0,n.kt)("p",null,"Se o comando for chamado de um contexto n\xe3o compat\xedvel (aplicativo de usu\xe1rio \xfanico, sess\xf5es dimension\xe1veis desativadas...), ele retornar\xe1 ",(0,n.kt)("em",{parentName:"p"},"Null"),"."),(0,n.kt)("h4",s({},{id:"sess\xf5es-web"}),"Sess\xf5es web"),(0,n.kt)("p",null,"O objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," das sess\xf5es da Web est\xe1 dispon\xedvel em qualquer processo da Web:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"On Web Authentication"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"On Web Connection"),", e m\xe9todos database",(0,n.kt)("inlineCode",{parentName:"li"},"On REST Authentication"),","),(0,n.kt)("li",{parentName:"ul"},"c\xf3digo processado a trav\xe9s das etiquetas 4D nas p\xe1ginas semidin\xe2micas (4DTEXT, 4DHTML, 4DEVAL, 4DSCRIPT/, 4DCODE)"),(0,n.kt)("li",{parentName:"ul"},'os m\xe9todos projeto com o atributo "Available through 4D tags and URLs (4DACTION...)" e chamados atrav\xe9s de 4DACTION/ urls,'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",s({parentName:"li"},{href:"https://developer.4d.com/go-mobile/docs/4d/on-mobile-app-authentication"}),(0,n.kt)("inlineCode",{parentName:"a"},"Em Mobile App Authentication"))," e ",(0,n.kt)("a",s({parentName:"li"},{href:"https://developer.4d.com/go-mobile/docs/4d/on-mobile-app-action"}),(0,n.kt)("inlineCode",{parentName:"a"},"Em Mobile App Action"))," m\xe9todos de base de dados para pedidos m\xf3veis,"),(0,n.kt)("li",{parentName:"ul"},"Fun\xe7\xf5es ORDA ",(0,n.kt)("a",s({parentName:"li"},{href:"/docs/pt/next/REST/classFunctions"}),"chamadas com solicita\xe7\xf5es REST"),".")),(0,n.kt)("p",null,"Para obter mais informa\xe7\xf5es sobre sess\xf5es de usu\xe1rios da Web, consulte a se\xe7\xe3o ",(0,n.kt)("a",s({parentName:"p"},{href:"/docs/pt/next/WebServer/sessions"}),"Sess\xf5es do servidor da Web"),"."),(0,n.kt)("h4",s({},{id:"sess\xf5es-cliente-remoto"}),"Sess\xf5es cliente remoto"),(0,n.kt)("p",null,"O objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," das sess\xf5es de clientes remotos est\xe1 dispon\xedvel em:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"M\xe9todos de projeto que t\xeam o atributo ",(0,n.kt)("a",s({parentName:"li"},{href:"/docs/pt/next/Project/code-overview#execute-on-server"}),"Execute on Server"),' (s\xe3o executados no processo "geminado" do processo do cliente),'),(0,n.kt)("li",{parentName:"ul"},"Triggers,"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"On Server Abrir Conex\xe3o")," e ",(0,n.kt)("inlineCode",{parentName:"li"},"On Server Encerrar Conex\xe3o")," m\xe9todos do banco de dados.")),(0,n.kt)("p",null,"Para obter mais informa\xe7\xf5es sobre sess\xf5es de usu\xe1rios remotos, consulte o ",(0,n.kt)("a",s({parentName:"p"},{href:"/docs/pt/next/Desktop/clientServer#remote-user-sessions"}),(0,n.kt)("strong",{parentName:"a"},"par\xe1grafo sobre sess\xf5es de usu\xe1rios remotos do cliente")),"."),(0,n.kt)("h4",s({},{id:"a-sess\xe3o-de-procedimentos-armazenados"}),"a sess\xe3o de procedimentos armazenados"),(0,n.kt)("p",null,"Todos os processos de procedimento armazenado compartilham a mesma sess\xe3o de usu\xe1rio virtual. O objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," dos procedimentos armazenados est\xe1 dispon\xedvel em:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"m\xe9todos chamados com o comando ",(0,n.kt)("a",s({parentName:"li"},{href:"https://doc.4d.com/4dv20/help/command/pt-BR/page373.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"Executar no servidor")),","),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Na inicializa\xe7\xe3o do servidor"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"no desligamento do servidor"),", na inicializa\xe7\xe3o do ",(0,n.kt)("inlineCode",{parentName:"li"},"backup"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"no desligamento do backup")," e nos m\xe9todos de banco de dados de ",(0,n.kt)("inlineCode",{parentName:"li"},"eventos do sistema"))),(0,n.kt)("p",null,"For information on stored procedures virtual user session, please refer to the ",(0,n.kt)("a",s({parentName:"p"},{href:"https://doc.4d.com/4Dv20R5/4D/20-R5/4D-Server-and-the-4D-Language.300-6932726.en.html"}),"4D Server and the 4D Language")," page."),(0,n.kt)("h4",s({},{id:"exemplo"}),"Exemplo"),(0,n.kt)("p",null,"Se definiu o m\xe9todo ",(0,n.kt)("inlineCode",{parentName:"p"},"action_Session"),' com o atributo "Available through 4D tags and URLs". Pode chamar ao m\xe9todo introduzindo a URL abaixo no navegador:'),(0,n.kt)("pre",null,(0,n.kt)("code",s({parentName:"pre"},{}),"IP:port/4DACTION/action_Session\n")),(0,n.kt)("pre",null,(0,n.kt)("code",s({parentName:"pre"},{className:"language-4d"}),'  //m\xe9todo action_Session\n Case of\n    :(Session#Null)\n       If(Session.hasPrivilege("WebAdmin")) //chamada da fun\xe7\xe3o hasPrivilege\n          WEB SEND TEXT("4DACTION --\x3e Session is WebAdmin")\n       Else\n          WEB SEND TEXT("4DACTION --\x3e Session is not WebAdmin")\n       End if\n    Else\n       WEB SEND TEXT("4DACTION --\x3e Sesion is null")\n End case\n')),(0,n.kt)("h2",s({},{id:"clearprivileges"}),".clearPrivileges()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".clearPrivileges()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",s({parentName:"tr"},{align:"center"})),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",s({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"True se a execu\xe7\xe3o for bem-sucedida")))),(0,n.kt)("h4",s({},{id:"descri\xe7\xe3o-1"}),"Descri\xe7\xe3o"),(0,n.kt)("admonition",s({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Como os privil\xe9gios s\xe3o compat\xedveis apenas com sess\xf5es de usu\xe1rio da Web, essa fun\xe7\xe3o n\xe3o faz nada e sempre retorna ",(0,n.kt)("strong",{parentName:"p"},"False")," em outros tipos de sess\xe3o.")),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".clearPrivileges()")," remove todos os privil\xe9gios associados \xe0 sess\xe3o e retorna ",(0,n.kt)("strong",{parentName:"p"},"True")," se a execu\xe7\xe3o foi bem-sucedida. Como resultado, a sess\xe3o torna-se automaticamente uma sess\xe3o de convidado."),(0,n.kt)("h4",s({},{id:"exemplo-1"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",s({parentName:"pre"},{className:"language-4d"}),"//Invalidar uma sess\xe3o\nvar $isGuest : Boolean\nvar $isOK : Boolean\n\n$isOK:=Session.clearPrivileges()\n$isGuest:=Session.isGuest() //$isGuest \xe9 True\n")),(0,n.kt)("h2",s({},{id:"expirationdate"}),".expirationDate"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".expirationDate")," : Text"),(0,n.kt)("h4",s({},{id:"descri\xe7\xe3o-2"}),"Descri\xe7\xe3o"),(0,n.kt)("admonition",s({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Essa propriedade s\xf3 est\xe1 dispon\xedvel com sess\xf5es de usu\xe1rio da Web.")),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".expirationDate")," cont\xe9m a data e hora de expira\xe7\xe3o do cookie da sess\xe3o. ."),(0,n.kt)("p",null,"Essa propriedade \xe9 ",(0,n.kt)("strong",{parentName:"p"},"apenas leitura"),". \xc9 recalculada automaticamente se modificar o valor da propriedade ",(0,n.kt)("a",s({parentName:"p"},{href:"#idletimeout"}),(0,n.kt)("inlineCode",{parentName:"a"},".idleTimeout")),"."),(0,n.kt)("h4",s({},{id:"exemplo-2"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",s({parentName:"pre"},{className:"language-4d"}),'var $expiration : Text\n$expiration:=Session.expirationDate //por exemplo "2021-11-05T17:10:42Z"\n')),(0,n.kt)("h2",s({},{id:"hasprivilege"}),".hasPrivilege()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".hasPrivilege"),"( ",(0,n.kt)("em",{parentName:"p"},"privilege")," : Text ) : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",s({parentName:"tr"},{align:"center"})),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"privilege"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",s({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Nome do privilegio a verificar")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",s({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"True se a sess\xe3o tiver ",(0,n.kt)("em",{parentName:"td"},"privilege"),", False caso contr\xe1rio")))),(0,n.kt)("h4",s({},{id:"descri\xe7\xe3o-3"}),"Descri\xe7\xe3o"),(0,n.kt)("admonition",s({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Como os privil\xe9gios s\xe3o compat\xedveis apenas com sess\xf5es de usu\xe1rio da Web, essa fun\xe7\xe3o n\xe3o faz nada e sempre retorna ",(0,n.kt)("strong",{parentName:"p"},"False")," em outros tipos de sess\xe3o.")),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".hasPrivilege()")," retorna Verdadeiro se o privil\xe9gio estiver associado \xe0 sess\xe3o, e Falso de outra forma."),(0,n.kt)("h4",s({},{id:"exemplo-3"}),"Exemplo"),(0,n.kt)("p",null,'Se quiser comprovar se o privil\xe9gio "WebAdmin" est\xe1 associado \xe0 sess\xe3o:'),(0,n.kt)("pre",null,(0,n.kt)("code",s({parentName:"pre"},{className:"language-4d"}),'If (Session.hasPrivilege("WebAdmin"))\n //Access is granted, do nothing Else\n //Display an authentication page End if\n')),(0,n.kt)("h2",s({},{id:"id"}),".id"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"20 R5"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".id")," : Text"),(0,n.kt)("h4",s({},{id:"descri\xe7\xe3o-4"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".id")," cont\xe9m o identificador exclusivo (UUID) da sess\xe3o no servidor. Esta string \xfanica \xe9 automaticamente atribu\xedda pelo servidor para cada sess\xe3o e permite que voc\xea identifique seus processos. "),(0,n.kt)("h2",s({},{id:"idletimeout"}),".idleTimeout"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".idleTimeout")," : Integer"),(0,n.kt)("h4",s({},{id:"descri\xe7\xe3o-5"}),"Descri\xe7\xe3o"),(0,n.kt)("admonition",s({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Essa propriedade s\xf3 est\xe1 dispon\xedvel com sess\xf5es de usu\xe1rio da Web.")),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".idleTimeout")," cont\xe9m o tempo limite da sess\xe3o de inatividade (em minutos), ap\xf3s o qual a sess\xe3o \xe9 automaticamente encerrada por 4D."),(0,n.kt)("p",null,"Se n\xe3o se definir esta propriedade, o valor padr\xe3o \xe9 60 (1h)."),(0,n.kt)("p",null,"Quando se definir esta propriedade, a propriedade ",(0,n.kt)("a",s({parentName:"p"},{href:"#expirationdate"}),(0,n.kt)("inlineCode",{parentName:"a"},".expirationDate"))," \xe9 atualizada em consequ\xeancia."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"O valor n\xe3o pode ser inferior a 60: se definir um valor inferior, o tempo de espera se eleva at\xe9 60.")),(0,n.kt)("p",null,"Essa propriedade \xe9",(0,n.kt)("strong",{parentName:"p"},"apenas escrita"),"."),(0,n.kt)("h4",s({},{id:"exemplo-4"}),"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",s({parentName:"pre"},{className:"language-4d"}),"If (Session.isGuest())\n  // A Guest session will close after 60 minutes of inactivity\n Session.idleTimeout:=60 Else\n  // Other sessions will close after 120 minutes of inactivity\n Session.idleTimeout:=120 End if\n\n")),(0,n.kt)("h2",s({},{id:"info"}),".info"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"20 R5"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".info")," : Object"),(0,n.kt)("h4",s({},{id:"descri\xe7\xe3o-6"}),"Descri\xe7\xe3o"),(0,n.kt)("admonition",s({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Essa propriedade s\xf3 est\xe1 dispon\xedvel com sess\xf5es de procedimento armazenado e cliente remoto.")),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".info")," descreve o cliente remoto ou a sess\xe3o do procedimento armazenado no servidor."),(0,n.kt)("p",null,"O objeto ",(0,n.kt)("inlineCode",{parentName:"p"},".info")," \xe9 o mesmo objeto retornado pelo comando ",(0,n.kt)("a",s({parentName:"p"},{href:"https://doc.4d.com/4dv20/help/command/pt/page1495.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"Obter atividade do processo"))," para sess\xf5es de cliente remoto e de procedimento armazenado."),(0,n.kt)("p",null,"O objeto ",(0,n.kt)("inlineCode",{parentName:"p"},".info")," cont\xe9m as seguintes propriedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Propriedade"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),'Tipo de sess\xe3o: "remote" ou "storedProcedure"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"userName"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Nome de usu\xe1rio 4D (o mesmo valor de ",(0,n.kt)("a",s({parentName:"td"},{href:"#username"}),(0,n.kt)("inlineCode",{parentName:"a"},".userName")),")")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"machineName"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Sess\xf5es remotas: nome da m\xe1quina remota. Sess\xe3o de procedimentos armazenados: nome da m\xe1quina do servidor")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"systemUserName"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Sess\xf5es remotas: nome da sess\xe3o do sistema aberta na m\xe1quina remota.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"IPAddress"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Endere\xe7o IP da m\xe1quina remota")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"hostType"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),'Tipo de host: "windows" ou "mac"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"creationDateTime"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Date ISO 8601"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Data e hora de cria\xe7\xe3o da sess\xe3o")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"state"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),'Estado da sess\xe3o: "ativa", "adiada", "em espera"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"ID"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"UUID da sess\xe3o (mesmo valor que ",(0,n.kt)("a",s({parentName:"td"},{href:"#id"}),(0,n.kt)("inlineCode",{parentName:"a"},".id")),")")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"persistentID"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"ID persistente da sess\xe3o")))),(0,n.kt)("admonition",s({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Como ",(0,n.kt)("inlineCode",{parentName:"p"},".info")," \xe9 uma propriedade calculada, \xe9 recomendado cham\xe1-la uma vez e depois armazen\xe1-la em uma vari\xe1vel local se voc\xea deseja fazer algum processamento em suas propriedades.")),(0,n.kt)("h2",s({},{id:"isguest"}),".isGuest()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".isGuest()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",s({parentName:"tr"},{align:"center"})),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",s({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"True se a sess\xe3o for uma sess\xe3o Guest, False caso contr\xe1rio")))),(0,n.kt)("h4",s({},{id:"descri\xe7\xe3o-7"}),"Descri\xe7\xe3o"),(0,n.kt)("admonition",s({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Essa fun\xe7\xe3o sempre retorna ",(0,n.kt)("strong",{parentName:"p"},"True")," com sess\xf5es de procedimento armazenado e cliente remoto.")),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".isGuest()")," retorna Verdadeiro se a sess\xe3o for uma sess\xe3o de Convidado (ou seja, n\xe3o tem privil\xe9gios)."),(0,n.kt)("h4",s({},{id:"exemplo-5"}),"Exemplo"),(0,n.kt)("p",null,"No m\xe9todo base ",(0,n.kt)("inlineCode",{parentName:"p"},"On Web Connection"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",s({parentName:"pre"},{className:"language-4d"}),"If (Session.isGuest())\n //Do something for Guest user End if\n")),(0,n.kt)("h2",s({},{id:"setprivileges"}),".setPrivileges()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"19 R8"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),'Suporte da propriedade "roles" das Settings')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"p"},"privilege")," : Text ) : Boolean",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"p"},"privileges")," : Collection )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object ) : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Par\xe2metro"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",s({parentName:"tr"},{align:"center"})),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"privilege"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",s({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Nome do privil\xe9gio")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"privileges"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",s({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Collection de nomes de privil\xe9gios")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"settings"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",s({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),'Objetos com as propriedades "privil\xe9gios" (string ou collection)')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Resultados"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Par\xe2metros"),(0,n.kt)("td",s({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"True se a execu\xe7\xe3o for bem-sucedida")))),(0,n.kt)("h4",s({},{id:"descri\xe7\xe3o-8"}),"Descri\xe7\xe3o"),(0,n.kt)("admonition",s({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Como os privil\xe9gios s\xe3o compat\xedveis apenas com sess\xf5es de usu\xe1rio da Web, essa fun\xe7\xe3o n\xe3o faz nada e sempre retorna ",(0,n.kt)("strong",{parentName:"p"},"False")," em outros tipos de sess\xe3o.")),(0,n.kt)("p",null,"A fun\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"p"},".setPrivileges()")," associa o(s) privil\xe9gio(s) e/ou papel(s) definidos no par\xe2metro para a sess\xe3o e retorna ",(0,n.kt)("strong",{parentName:"p"},"True")," se a execu\xe7\xe3o foi bem sucedida."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"No par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"privilege"),", passe uma string contendo um nome de privil\xe9gio (ou v\xe1rios nomes de privil\xe9gio separados por v\xedgulas).")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"No par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"privileges"),", passe uma cole\xe7\xe3o de strings contendo nomes de privil\xe9gios.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"No par\xe2metro ",(0,n.kt)("em",{parentName:"p"},"settings"),", passe um objeto contendo as propriedades abaixo:"))),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Propriedade"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Descri\xe7\xe3o"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"privileges"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Text ou Collection"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),(0,n.kt)("li",null,"Strings contendo um nome de privil\xe9gio ou"),(0,n.kt)("li",null,"Collection de strings contendo nomes de privil\xe9gios"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"roles"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Text ou Collection"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),(0,n.kt)("li",null,"Strings contendo um papel ou"),(0,n.kt)("li",null,"Cole\xe7\xe3o de strings contendo pap\xe9is"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"userName"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Nome de usu\xe1rio associado \xe0 sess\xe3o (opcional)")))),(0,n.kt)("admonition",s({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Os privil\xe9gios e pap\xe9is s\xe3o definidos no arquivo ",(0,n.kt)("a",s({parentName:"p"},{href:"/docs/pt/next/ORDA/privileges#rolesjson-file"}),(0,n.kt)("inlineCode",{parentName:"a"},"roles.json"))," do projeto. Para mais informa\xe7\xf5es, consulte por favor a sec\xe7\xe3o ",(0,n.kt)("a",s({parentName:"p"},{href:"/docs/pt/next/ORDA/privileges"}),(0,n.kt)("strong",{parentName:"a"},"Privileges")),".")),(0,n.kt)("p",null,"Se a propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},"privilegios")," ou ",(0,n.kt)("inlineCode",{parentName:"p"},"roles")," conter um nome que n\xe3o \xe9 declarado no arquivo ",(0,n.kt)("a",s({parentName:"p"},{href:"/docs/pt/next/ORDA/privileges#rolesjson-file"}),(0,n.kt)("inlineCode",{parentName:"a"},"roles.json")),", ele \xe9 ignorado."),(0,n.kt)("p",null,"Como padr\xe3o quando n\xe3o houver um privil\xe9gio associado \xe0 sess\xe3o, a sess\xe3o \xe9 ",(0,n.kt)("a",s({parentName:"p"},{href:"#isguest"}),"Guest session"),"."),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("a",s({parentName:"p"},{href:"#username"}),(0,n.kt)("inlineCode",{parentName:"a"},"userName"))," est\xe1 dispon\xedvel no n\xedvel do objeto da sess\xe3o (apenas leitura)."),(0,n.kt)("h4",s({},{id:"exemplo-6"}),"Exemplo"),(0,n.kt)("p",null,'Em um m\xe9todo de autentica\xe7\xe3o personalizado, deve estabecer o privil\xe9gio "WebAdmin" ao usu\xe1rio:'),(0,n.kt)("pre",null,(0,n.kt)("code",s({parentName:"pre"},{className:"language-4d"}),'var $userOK : Boolean\n\n... //Authenticate the user If ($userOK) //The user has been approved\n  var $info : Object\n  $info:=New object()\n  $info.privileges:=New collection("WebAdmin")\n  Session.setPrivileges($info)\nEnd if\n\n')),(0,n.kt)("h2",s({},{id:"storage"}),".storage"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"20 R5"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Support of remote client and stored procedure sessions")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".storage")," : Object"),(0,n.kt)("h4",s({},{id:"descri\xe7\xe3o-9"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".storage")," cont\xe9m um objeto compartilhado que pode ser usado para armazenar informa\xe7\xf5es dispon\xedveis para todos os processos da sess\xe3o."),(0,n.kt)("p",null,"Quando um objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," for criado, a propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".storage")," \xe9 vazia. J\xe1 que \xe9 um objeto partilhado, essa propriedade estar\xe1 dispon\xedvel no objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Storage")," do servidor."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Da mesma forma que o objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Storage")," do servidor, a propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".storage"),' sempre ser\xe1 "single": adicionar um objeto partilhado ou uma collection partilhada a ',(0,n.kt)("inlineCode",{parentName:"p"},".storage")," n\xe3o cria um grupo partilhado.")),(0,n.kt)("p",null,"Esas propriedade \xe9 ",(0,n.kt)("strong",{parentName:"p"},"read only")," mas retorna um objeto  read-write."),(0,n.kt)(r.Z,{mdxType:"Tabs"},(0,n.kt)(o.Z,{value:"Web session example",mdxType:"TabItem"},(0,n.kt)("p",null,"Voc\xea deseja armazenar o IP do cliente na propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".storage"),". Voc\xea pode escrever no m\xe9todo de banco de dados ",(0,n.kt)("inlineCode",{parentName:"p"},"On Web Authentication"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",s({parentName:"pre"},{className:"language-4d"}),'If (Session.storage.clientIP=Null) //primeiro acesso\n    Use (Session.storage)\n        Session.storage.clientIP:=New shared object("value"; $clientIP)\n    End use\nEnd if\n'))),(0,n.kt)(o.Z,{value:"Remote session example",mdxType:"TabItem"},(0,n.kt)("p",null,"Voc\xea deseja compartilhar dados entre processos na mesma sess\xe3o:"),(0,n.kt)("pre",null,(0,n.kt)("code",s({parentName:"pre"},{className:"language-4d"}),'Use (Session.storage)\n Session.storage.settings:=New shared object("property"; $value; "property2"; $value2)\nEnd use\n')))),(0,n.kt)("h2",s({},{id:"username"}),".userName"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Release"),(0,n.kt)("th",s({parentName:"tr"},{align:null}),"Mudan\xe7as"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"20 R5"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Support of remote client and stored procedure sessions")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",s({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",s({parentName:"tr"},{align:null}),"Adicionado"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".userName")," : Text"),(0,n.kt)("h4",s({},{id:"descri\xe7\xe3o-10"}),"Descri\xe7\xe3o"),(0,n.kt)("p",null,"A propriedade ",(0,n.kt)("inlineCode",{parentName:"p"},".userName")," cont\xe9m o nome de usu\xe1rio associado \xe0 sess\xe3o. Pode us\xe1-la para identificar o usu\xe1rio dentro de seu c\xf3digo."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Com sess\xf5es da Web, essa propriedade \xe9 uma cadeia de caracteres vazia por padr\xe3o. Pode ser estabelecida usando a propriedade ",(0,n.kt)("inlineCode",{parentName:"li"},"privileges")," da fun\xe7\xe3o ",(0,n.kt)("a",s({parentName:"li"},{href:"#setprivileges"}),(0,n.kt)("inlineCode",{parentName:"a"},"setPrivileges()")),"."),(0,n.kt)("li",{parentName:"ul"},"Com sess\xf5es de procedimentos remotos e armazenados, essa propriedade retorna o mesmo nome de usu\xe1rio que a propriedade ",(0,n.kt)("a",s({parentName:"li"},{href:"https://doc.4d.com/4dv20/help/command/en/page182.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"Usu\xe1rio atual"))," comando.")),(0,n.kt)("p",null,"Essa propriedade \xe9",(0,n.kt)("strong",{parentName:"p"},"apenas leitura"),"."))}N.isMDXComponent=!0}}]);