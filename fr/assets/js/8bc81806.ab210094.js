"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[15485],{603905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var l=n(667294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,l,o=function(e,t){if(null==e)return{};var n,l,o={},a=Object.keys(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=l.createContext({}),s=function(e){var t=l.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=s(e.components);return l.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},d=l.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=s(n),m=o,f=d["".concat(c,".").concat(m)]||d[m]||u[m]||a;return n?l.createElement(f,r(r({ref:t},p),{},{components:n})):l.createElement(f,r({ref:t},p))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,r=new Array(a);r[0]=d;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:o,r[1]=i;for(var s=2;s<a;s++)r[s]=n[s];return l.createElement.apply(null,r)}return l.createElement.apply(null,n)}d.displayName="MDXCreateElement"},493926:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>c,toc:()=>p});n(667294);var l=n(603905);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,l,o=function(e,t){if(null==e)return{};var n,l,o={},a=Object.keys(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const r={id:"collection",title:"Collection"},i=void 0,c={unversionedId:"Concepts/collection",id:"Concepts/collection",title:"Collection",description:"Les collections sont des listes ordonn\xe9es de valeurs de types similaires ou diff\xe9rents (texte, nombre, date, objet, bool\xe9en, collection ou null).",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/Concepts/dt_collection.md",sourceDirName:"Concepts",slug:"/Concepts/collection",permalink:"/docs/fr/next/Concepts/collection",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20Concepts%2Fdt_collection.md%20(current)&body=Please%20enter%20your%20comment%3A",tags:[],version:"current",frontMatter:{id:"collection",title:"Collection"},sidebar:"docs",previous:{title:"Boolean",permalink:"/docs/fr/next/Concepts/boolean"},next:{title:"Date",permalink:"/docs/fr/next/Concepts/date"}},s={},p=[{value:"Instanciation",id:"instanciation",level:2},{value:"<code>New collection</code> command",id:"new-collection-command",level:3},{value:"<code>[]</code> operator",id:"-operator",level:3},{value:"Collection standard ou collection partag\xe9e",id:"collection-standard-ou-collection-partag\xe9e",level:3},{value:"Fonctions de collection",id:"fonctions-de-collection",level:2},{value:"param\xe8tre propertyPath",id:"param\xe8tre-propertypath",level:3},{value:"Collection operators",id:"collection-operators",level:2},{value:"Undefined",id:"undefined",level:2}],u={toc:p};function d(e){var{components:t}=e,n=a(e,["components"]);return(0,l.kt)("wrapper",o({},u,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"Les collections sont des listes ordonn\xe9es de valeurs de types similaires ou diff\xe9rents (texte, nombre, date, objet, bool\xe9en, collection ou null)."),(0,l.kt)("p",null,"Collection type variables are managed using ",(0,l.kt)("a",o({parentName:"p"},{href:"/docs/fr/next/Concepts/object#properties"}),"object notation"),"."),(0,l.kt)("p",null,"Pour acc\xe9der \xe0 un \xe9l\xe9ment d'une collection, vous devez passer le num\xe9ro de l'\xe9l\xe9ment entre crochets :"),(0,l.kt)("pre",null,(0,l.kt)("code",o({parentName:"pre"},{className:"language-4d"}),"collectionRef[expression]\n")),(0,l.kt)("p",null,"You can pass any valid 4D expression which returns a positive integer in ",(0,l.kt)("em",{parentName:"p"},"expression"),". Exemples :"),(0,l.kt)("pre",null,(0,l.kt)("code",o({parentName:"pre"},{className:"language-4d"})," myCollection[5]  //acc\xe8s au 6e \xe9l\xe9ment de la collection\n myCollection[$var]\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Warning:")," Collection elements are numbered from 0."),(0,l.kt)("p",null,"Vous pouvez assigner une valeur \xe0 un \xe9l\xe9ment de collection ou lire une valeur d'\xe9l\xe9ment de collection :"),(0,l.kt)("pre",null,(0,l.kt)("code",o({parentName:"pre"},{className:"language-4d"}),' myCol[10]:="Mon nouvel \xe9l\xe9ment"\n $myVar:=myCol[0]\n')),(0,l.kt)("p",null,"Si vous assignez un num\xe9ro d'\xe9l\xe9ment plus grand que celui du dernier \xe9l\xe9ment existant dans la collection, la collection est automatiquement redimensionn\xe9e et les nouveaux \xe9l\xe9ments interm\xe9diaires prennent la valeur null :"),(0,l.kt)("pre",null,(0,l.kt)("code",o({parentName:"pre"},{className:"language-4d"}),' var myCol : Collection\n myCol:=New collection("A";"B")\n myCol[5]:="Z"\n  //myCol[2]=null\n  //myCol[3]=null\n  //myCol[4]=null\n')),(0,l.kt)("h2",o({},{id:"instanciation"}),"Instanciation"),(0,l.kt)("p",null,"Les collections doivent avoir \xe9t\xe9 instanci\xe9es, sinon toute tentative de lecture ou de modification de leurs \xe9l\xe9ments g\xe9n\xe8re une erreur de syntaxe."),(0,l.kt)("p",null,"L'instanciation d'une collection peut se faire de l'une des mani\xe8res suivantes :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"using the ",(0,l.kt)("a",o({parentName:"li"},{href:"/docs/fr/next/API/CollectionClass#new-collection"}),(0,l.kt)("inlineCode",{parentName:"a"},"New collection"))," command,"),(0,l.kt)("li",{parentName:"ul"},"using the ",(0,l.kt)("inlineCode",{parentName:"li"},"[]")," operator.")),(0,l.kt)("admonition",o({},{type:"info"}),(0,l.kt)("p",{parentName:"admonition"},"Several 4D commands and functions return collections, for example ",(0,l.kt)("a",o({parentName:"p"},{href:"https://doc.4d.com/4dv19R/help/command/en/page1713.html"}),(0,l.kt)("inlineCode",{parentName:"a"},"Get Monitored Activity"))," or ",(0,l.kt)("a",o({parentName:"p"},{href:"/docs/fr/next/API/CollectionClass#copy"}),(0,l.kt)("inlineCode",{parentName:"a"},"collection.copy")),". Dans ce cas, il n'est pas n\xe9cessaire d'instancier explicitement la collection, le langage 4D le fait pour vous.")),(0,l.kt)("h3",o({},{id:"new-collection-command"}),(0,l.kt)("inlineCode",{parentName:"h3"},"New collection")," command"),(0,l.kt)("p",null,"The ",(0,l.kt)("a",o({parentName:"p"},{href:"/docs/fr/next/API/CollectionClass#new-collection"}),(0,l.kt)("inlineCode",{parentName:"a"},"New collection"))," command creates a new empty or prefilled collection and returns its reference."),(0,l.kt)("p",null,"Exemples :"),(0,l.kt)("pre",null,(0,l.kt)("code",o({parentName:"pre"},{className:"language-4d"}),' var $colVar : Collection //declaration of a collection type 4D variable\n $colVar:=New collection //instantiation of the collection and assignment to the 4D variable\n \n var $colFilled : Collection\n $colFilled:=New collection("a";"b";1;42;{}) //instantiation and assignment of a prefilled collection\n')),(0,l.kt)("h3",o({},{id:"-operator"}),(0,l.kt)("inlineCode",{parentName:"h3"},"[]")," operator"),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"[]")," operator allows you to create a ",(0,l.kt)("strong",{parentName:"p"},"collection literal"),". Une collection litt\xe9rale est une liste de z\xe9ro ou plusieurs expressions, dont chacune repr\xe9sente un \xe9l\xe9ment de collection, entre crochets (",(0,l.kt)("inlineCode",{parentName:"p"},"[]"),"). Lorsque vous cr\xe9ez une collection en utilisant une collection litt\xe9rale, elle est instanci\xe9e avec les valeurs sp\xe9cifi\xe9es comme \xe9l\xe9ments, et sa longueur est d\xe9finie au nombre d'arguments sp\xe9cifi\xe9s."),(0,l.kt)("p",null,"Since any element is considered an expression, you can create sub-collections using ",(0,l.kt)("inlineCode",{parentName:"p"},"[]")," in elements.  You can also create and reference ",(0,l.kt)("strong",{parentName:"p"},"object literals"),"."),(0,l.kt)("p",null,"Si un \xe9l\xe9ment n'est pas d\xe9fini, il appara\xeetra comme Null dans la collection."),(0,l.kt)("p",null,"Exemples :"),(0,l.kt)("pre",null,(0,l.kt)("code",o({parentName:"pre"},{className:"language-4d"}),'var $col1; $col2; $users : Collection\n$col1:=[] //empty collection\n$col2:=[1;2;3;4;5;6] //collection of numbers\n//collection of objects\n$users:=[{name: "Alice"; \\\n    height: 183; \\\n    eyecolor: "hazel"; \\\n    id: $col2[5]\\\n    }; \\\n    {name: "Bob"; \\\n    height: 172; \\\n    eyecolor: "blue"\\\n    }]\n')),(0,l.kt)("admonition",o({},{type:"note"}),(0,l.kt)("p",{parentName:"admonition"},"If you create a collection literal containing a single element, make sure you do not use a name corresponding to an existing table name, otherwise the table syntax ",(0,l.kt)("inlineCode",{parentName:"p"},"[tableName]")," will take priority.")),(0,l.kt)("h3",o({},{id:"collection-standard-ou-collection-partag\xe9e"}),"Collection standard ou collection partag\xe9e"),(0,l.kt)("p",null,"Vous pouvez cr\xe9er deux types de collections :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"regular (non-shared) collections, using the ",(0,l.kt)("a",o({parentName:"li"},{href:"/docs/fr/next/API/CollectionClass#new-collection"}),(0,l.kt)("inlineCode",{parentName:"a"},"New collection"))," command or collection literal syntax (",(0,l.kt)("inlineCode",{parentName:"li"},"[]"),"). Ces collections peuvent \xeatre modifi\xe9es sans contr\xf4le d'acc\xe8s sp\xe9cifique mais ne peuvent pas \xeatre partag\xe9es entre les process."),(0,l.kt)("li",{parentName:"ul"},"shared collections, using the ",(0,l.kt)("a",o({parentName:"li"},{href:"/docs/fr/next/API/CollectionClass#new-shared-collection"}),(0,l.kt)("inlineCode",{parentName:"a"},"New shared collection"))," command. Le contenu de ces collections peut \xeatre partag\xe9 entre les process, y compris des process (thread) pr\xe9emptifs. Access to these collections is controlled by ",(0,l.kt)("a",o({parentName:"li"},{href:"/docs/fr/next/Concepts/shared#useend-use"}),(0,l.kt)("inlineCode",{parentName:"a"},"Use...End use"))," structures.")),(0,l.kt)("p",null,"For more information, refer to the ",(0,l.kt)("a",o({parentName:"p"},{href:"/docs/fr/next/Concepts/shared"}),"Shared objects and collections")," section."),(0,l.kt)("h2",o({},{id:"fonctions-de-collection"}),"Fonctions de collection"),(0,l.kt)("p",null,"4D collection references benefit from special class functions (sometimes named ",(0,l.kt)("em",{parentName:"p"},"member functions"),"). Collection functions are listed in the ",(0,l.kt)("a",o({parentName:"p"},{href:"/docs/fr/next/API/CollectionClass"}),"Class API Reference")," section."),(0,l.kt)("p",null,"Par exemple :"),(0,l.kt)("pre",null,(0,l.kt)("code",o({parentName:"pre"},{className:"language-4d"}),"$newCol:=$col.copy() //copie de $col vers $newCol\n $col.push(10;100) //ajout de 10 et 100 \xe0 la collection\n")),(0,l.kt)("p",null,"Certaines fonctions retournent la collection d'origine apr\xe8s modification, de mani\xe8re \xe0 ce que vous puissiez encha\xeener les appels dans une m\xeame s\xe9quence :"),(0,l.kt)("pre",null,(0,l.kt)("code",o({parentName:"pre"},{className:"language-4d"})," $col:=New collection(5;20)\n $col2:=$col.push(10;100).sort() //$col2=[5,10,20,100]\n")),(0,l.kt)("h3",o({},{id:"param\xe8tre-propertypath"}),"param\xe8tre propertyPath"),(0,l.kt)("p",null,"Several functions accept a ",(0,l.kt)("em",{parentName:"p"},"propertyPath")," as parameter. Ce param\xe8tre peut contenir :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'soit un nom de propri\xe9t\xe9 d\'objet, par exemple "nomComplet"'),(0,l.kt)("li",{parentName:"ul"},"soit un chemin de propri\xe9t\xe9 d'objet, c'est-\xe0-dire une s\xe9quence hi\xe9rarchique de sous-propri\xe9t\xe9s reli\xe9es par des points, par exemple \"employ\xe9.enfant.pr\xe9nom\".")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Warning:")," When using functions and ",(0,l.kt)("em",{parentName:"p"},"propertyPath"),' parameters, you cannot use ".", "',"[ ]",'", or spaces in property names since it will prevent 4D from correctly parsing the path:'),(0,l.kt)("pre",null,(0,l.kt)("code",o({parentName:"pre"},{className:"language-4d"}),' $vmin:=$col.min("My.special.property") //undefined\n $vmin:=$col.min(["My.special.property"]) //erreur\n')),(0,l.kt)("h2",o({},{id:"collection-operators"}),"Collection operators"),(0,l.kt)("p",null,"You can use comparison operators with ",(0,l.kt)("strong",{parentName:"p"},"collection references"),", which means that you can evaluate if two or more references point to the same instance of a collection."),(0,l.kt)("pre",null,(0,l.kt)("code",o({parentName:"pre"},{className:"language-4d"}),'var $c1:=["a";42] //reference to an instance\nvar $c2:=["a";42] //reference to a different instance\nvar $c3:=$c1 //reference to the same instance\n')),(0,l.kt)("p",null,"Based upon the code above, the comparison table is:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",o({parentName:"tr"},{align:null}),"Op\xe9ration"),(0,l.kt)("th",o({parentName:"tr"},{align:null}),"Syntaxe"),(0,l.kt)("th",o({parentName:"tr"},{align:null}),"Retourne"),(0,l.kt)("th",o({parentName:"tr"},{align:null}),"Expression"),(0,l.kt)("th",o({parentName:"tr"},{align:null}),"Valeur"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",o({parentName:"tr"},{align:null}),"Egalit\xe9"),(0,l.kt)("td",o({parentName:"tr"},{align:null}),"collectionRef = collectionRef"),(0,l.kt)("td",o({parentName:"tr"},{align:null}),"Boolean"),(0,l.kt)("td",o({parentName:"tr"},{align:null}),"$c1 = $c3"),(0,l.kt)("td",o({parentName:"tr"},{align:null}),"True")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",o({parentName:"tr"},{align:null})),(0,l.kt)("td",o({parentName:"tr"},{align:null})),(0,l.kt)("td",o({parentName:"tr"},{align:null})),(0,l.kt)("td",o({parentName:"tr"},{align:null}),"$c1 = $c2"),(0,l.kt)("td",o({parentName:"tr"},{align:null}),"False")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",o({parentName:"tr"},{align:null}),"In\xe9galit\xe9"),(0,l.kt)("td",o({parentName:"tr"},{align:null}),"collectionRef # collectionRef"),(0,l.kt)("td",o({parentName:"tr"},{align:null}),"Boolean"),(0,l.kt)("td",o({parentName:"tr"},{align:null}),"$c1 # $c3"),(0,l.kt)("td",o({parentName:"tr"},{align:null}),"False")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",o({parentName:"tr"},{align:null})),(0,l.kt)("td",o({parentName:"tr"},{align:null})),(0,l.kt)("td",o({parentName:"tr"},{align:null})),(0,l.kt)("td",o({parentName:"tr"},{align:null}),"$c1 # $c2"),(0,l.kt)("td",o({parentName:"tr"},{align:null}),"True")))),(0,l.kt)("h2",o({},{id:"undefined"}),"Undefined"),(0,l.kt)("p",null,"Reading the ",(0,l.kt)("strong",{parentName:"p"},"length")," property of an undefined collection produces 0:"),(0,l.kt)("pre",null,(0,l.kt)("code",o({parentName:"pre"},{className:"language-4d"}),"     var $c : Collection //variable cr\xe9\xe9e mais aucune collection n'est d\xe9finie\n     $size:=$c.length //$size = 0\n")))}d.isMDXComponent=!0}}]);