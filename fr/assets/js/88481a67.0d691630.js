"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[73360],{39721:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>a,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var t=s(474848),r=s(28453);const i={id:"json-resolve-pointers",title:"JSON Resolve pointers",slug:"/commands/json-resolve-pointers",displayed_sidebar:"docs"},l=void 0,o={id:"commands-legacy/json-resolve-pointers",title:"JSON Resolve pointers",description:"JSON Resolve pointers ( objet {; options} ) -> R\xe9sultat",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/commands-legacy/json-resolve-pointers.md",sourceDirName:"commands-legacy",slug:"/commands/json-resolve-pointers",permalink:"/docs/fr/next/commands/json-resolve-pointers",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fjson-resolve-pointers.md%20(current)&body=Please%20enter%20your%20comment%3A",tags:[],version:"current",frontMatter:{id:"json-resolve-pointers",title:"JSON Resolve pointers",slug:"/commands/json-resolve-pointers",displayed_sidebar:"docs"},sidebar:"docs",previous:{title:"JSON PARSE ARRAY",permalink:"/docs/fr/next/commands/json-parse-array"},next:{title:"JSON Stringify",permalink:"/docs/fr/next/commands/json-stringify"}},d={},c=[{value:"Description",id:"description",level:4},{value:"D\xe9finition des pointeurs JSON",id:"d\xe9finition-des-pointeurs-json",level:4},{value:"R\xe9cursivit\xe9 et r\xe9solution des chemins",id:"r\xe9cursivit\xe9-et-r\xe9solution-des-chemins",level:5},{value:"Exemple 1",id:"exemple-1",level:4},{value:"Exemple 2",id:"exemple-2",level:4},{value:"Exemple 3",id:"exemple-3",level:4},{value:"Voir aussi",id:"voir-aussi",level:4}];function u(e){const n={a:"a",code:"code",em:"em",h4:"h4",h5:"h5",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"JSON Resolve pointers"})," ( ",(0,t.jsx)(n.em,{children:"objet"})," {; ",(0,t.jsx)(n.em,{children:"options"}),"} ) -> R\xe9sultat"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param\xe8tre"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"objet"}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Objet contenant des pointeurs JSON \xe0 r\xe9soudre"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u2194"}),(0,t.jsx)(n.td,{children:"Objet avec pointeurs JSON r\xe9solus (uniquement si R\xe9sultat est un objet)"}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"options"}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{children:"\u2192"}),(0,t.jsx)(n.td,{children:"Options pour la r\xe9solution des pointeurs"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"R\xe9sultat"}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{children:"\u2190"}),(0,t.jsx)(n.td,{children:"Objet contenant le r\xe9sultat du traitement"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["La commande ",(0,t.jsx)(n.strong,{children:"JSON Resolve pointers"})," r\xe9sout tous les pointeurs JSON pr\xe9sents dans ",(0,t.jsx)(n.em,{children:"objet"}),", en tenant compte des ",(0,t.jsx)(n.em,{children:"options"})," d\xe9finies (s'il y en a)."]}),"\n",(0,t.jsx)(n.p,{children:"Les pointeurs JSON sont particuli\xe8rement utiles pour :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"int\xe9grer une partie d'un document JSON externe ou r\xe9utiliser une partie d'un document JSON \xe0 divers endroits dans le m\xeame document JSON, afin de \"factoriser\" l'information,"}),"\n",(0,t.jsx)(n.li,{children:"exprimer une structure cyclique en JSON,"}),"\n",(0,t.jsx)(n.li,{children:"d\xe9finir un objet mod\xe8le contenant des propri\xe9t\xe9s par d\xe9faut stock\xe9es en JSON."}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Passez dans le param\xe8tre ",(0,t.jsx)(n.em,{children:"objet"})," un objet contenant des pointeurs JSON \xe0 r\xe9soudre (pour une description de la syntaxe des pointeurs JSON, veuillez vous reporter au paragraphe ",(0,t.jsx)(n.em,{children:"Defining JSON Pointers"})," ci-dessous)."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note :"})," L'",(0,t.jsx)(n.em,{children:"objet"})," source sera mis \xe0 jour avec le r\xe9sultat de la r\xe9solution des pointeurs apr\xe8s l'ex\xe9cution de la commande (sauf si le r\xe9sultat n'est pas un objet, voir ci-dessous). Si vous souhaitez conserver une version originale de ",(0,t.jsx)(n.em,{children:"objet"}),", il sera n\xe9cessaire d'appeler la commande ",(0,t.jsx)(n.a,{href:"/docs/fr/next/commands/ob-copy",children:"OB Copy"})," au pr\xe9alable."]}),"\n",(0,t.jsxs)(n.p,{children:["Optionnellement, vous pouvez passer dans ",(0,t.jsx)(n.em,{children:"options"})," un objet contenant des propri\xe9t\xe9s sp\xe9cifiques \xe0 utiliser lors de la r\xe9solution des pointeurs. Les propri\xe9t\xe9s suivantes sont prises en charge :"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Propri\xe9t\xe9"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Type de valeur"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Description"})})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"rootFolder"}),(0,t.jsx)(n.td,{children:"Cha\xeene"}),(0,t.jsxs)(n.td,{children:["Chemin absolu (en syntaxe 4D standard) du dossier \xe0 utiliser pour r\xe9soudre les pointeurs relatifs dans ",(0,t.jsx)(n.em,{children:"objet"}),". Par d\xe9faut, le dossier Resources de la base est utilis\xe9."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"merge"}),(0,t.jsx)(n.td,{children:"Bool\xe9en"}),(0,t.jsxs)(n.td,{children:["Fusionner les objets avec les objets pointeur (true) au lieu de les remplacer (false). Par d\xe9faut, l'option est \xe0 faux ",(0,t.jsx)(n.img,{src:s(438391).A+"",width:"769",height:"322"})]})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"Apr\xe8s l'ex\xe9cution de la commande :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["si le r\xe9sultat de la r\xe9solution des pointeurs est un objet, ",(0,t.jsx)(n.em,{children:"objet"})," est mis \xe0 jour et contient l'objet r\xe9sultant."]}),"\n",(0,t.jsxs)(n.li,{children:["si le r\xe9sultat de la r\xe9solution des pointeurs est une valeur scalaire (i.e. un texte, un num\xe9rique...), ",(0,t.jsx)(n.em,{children:"objet"}),' n\'est pas modifi\xe9 et la valeur r\xe9sultante est retourn\xe9e dans la propri\xe9t\xe9 "value" du r\xe9sultat de la fonction.']}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Dans tous les cas, la commande retourne un objet contenant les propri\xe9t\xe9s suivantes :"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Propri\xe9t\xe9"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Type de valeur"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Description"})})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"value"}),(0,t.jsx)(n.td,{children:"tous"}),(0,t.jsxs)(n.td,{children:["R\xe9sultat du traitement de la commande sur ",(0,t.jsx)(n.em,{children:"objet"})," ; si le r\xe9sultat est un objet, est \xe9gal \xe0 l'",(0,t.jsx)(n.em,{children:"objet"})," en sortie."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"success"}),(0,t.jsx)(n.td,{children:"Bool\xe9en"}),(0,t.jsx)(n.td,{children:"true si tous les pointeurs ont \xe9t\xe9 r\xe9solus avec succ\xe8s"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"errors"}),(0,t.jsx)(n.td,{children:"Collection"}),(0,t.jsx)(n.td,{children:"Collection d'erreurs (le cas \xe9ch\xe9ant)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"errors[].code"}),(0,t.jsx)(n.td,{children:"Nombre"}),(0,t.jsx)(n.td,{children:"Code d'erreur"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"errors[].message"}),(0,t.jsx)(n.td,{children:"Cha\xeene"}),(0,t.jsx)(n.td,{children:"Message d'erreur"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"errors[].pointerURI"}),(0,t.jsx)(n.td,{children:"Cha\xeene"}),(0,t.jsx)(n.td,{children:"Valeur de pointeur"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"errors[].referredPath"}),(0,t.jsx)(n.td,{children:"Cha\xeene"}),(0,t.jsx)(n.td,{children:"Chemin complet de document"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"d\xe9finition-des-pointeurs-json",children:"D\xe9finition des pointeurs JSON"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-undefined",children:'{\n\xa0\xa0 "$ref":<chemin>#<pointeur_json>\n}\n'})}),"\n",(0,t.jsx)(n.h5,{id:"r\xe9cursivit\xe9-et-r\xe9solution-des-chemins",children:"R\xe9cursivit\xe9 et r\xe9solution des chemins"}),"\n",(0,t.jsx)(n.p,{children:'Les pointeurs JSON sont r\xe9solus r\xe9cursivement, ce qui signifie que si un pointeur r\xe9solu contient lui-m\xeame des pointeurs, ils sont r\xe9solus et ainsi de suite jusqu\'\xe0 ce que tous les pointeurs soient r\xe9solus. Dans ce contexte, tous les chemins de fichiers situ\xe9s dans les URIs des pointeurs JSON peuvent \xeatre relatifs ou absolus. Ils doivent utiliser le "/" en tant que d\xe9limiteur de chemin et sont r\xe9solus selon les principes suivants :'}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Un chemin relatif ne doit pas d\xe9buter par '/'. Il est r\xe9solu relativement au document JSON contenant la cha\xeene du chemin."}),"\n",(0,t.jsxs)(n.li,{children:["Un chemin absolu d\xe9bute par '/'. Seuls les ",(0,t.jsx)(n.a,{href:"https://developer.4d.com/docs/fr/Concepts/paths/#chemins-des-filesystem",children:"chemins des filesystem"}),' sont accept\xe9s comme chemins absolus. Par exemple, "/RESOURCES/templates/myfile.json" pointe vers le fichier "myfile.json" situ\xe9 dans le dossier Resources de la base courante.']}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Notes :"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"La r\xe9solution de nom tient compte des majuscules/minuscules."}),"\n",(0,t.jsx)(n.li,{children:'4D ne r\xe9sout pas les chemins vers des fichiers JSON situ\xe9s sur le r\xe9seau (d\xe9butant par "http/https").'}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"exemple-1",children:"Exemple 1"}),"\n",(0,t.jsx)(n.p,{children:"Cet exemple basique illustre comment un pointeur JSON peut \xeatre d\xe9fini et remplac\xe9 dans un objet :"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-4d",children:'\xa0\xa0// cr\xe9ation d\'un objet avec valeurs\n\xa0var $o : Object\n\xa0$o:=New object("value";42)\n\xa0\n\xa0\xa0// cr\xe9ation de l\'objet pointeur JSON\n\xa0var $ref : Object\n\xa0$ref:=New object("$ref";"#/value")\n\xa0\n\xa0\xa0// ajout de l\'objet pointeur JSON en tant que propri\xe9t\xe9\n\xa0$o.myJSONPointer:=$ref\n\xa0\n\xa0\xa0// r\xe9solution de l\'ensemble et v\xe9rification que le pointeur a \xe9t\xe9 r\xe9solu\n\xa0var $result : Object\n\xa0$options:=New object("rootFolder";Get 4D folder(Current resources folder);"merge";True)\n\xa0$result:=JSON Resolve pointers($o;$options)\n\xa0If($result.success)\n\xa0\xa0\xa0\xa0ALERT(JSON Stringify($result.value))\n\xa0\xa0//{"value":42,"myJSONPointer":42}\n\xa0Else\n\xa0\xa0\xa0\xa0ALERT(JSON Stringify($result.errors))\n\xa0End if\n'})}),"\n",(0,t.jsx)(n.h4,{id:"exemple-2",children:"Exemple 2"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-undefined",children:'{\n\xa0\xa0\xa0 "lastname": "Doe",\n\xa0\xa0\xa0 "firstname": "John",\n\xa0\xa0\xa0 "billingAddress": { \n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "street": "95 S. Market Street",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "city": "San Jose",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "state": "California" \n\xa0\xa0\xa0 },\n\xa0\xa0\xa0 "shippingAddress": { "$ref": "#/billingAddress" }\n}\n'})}),"\n",(0,t.jsx)(n.h4,{id:"exemple-3",children:"Exemple 3"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-undefined",children:'{\n\xa0\xa0\xa0 "rights": { \n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "$ref": "defaultSettings.json#/defaultRights",\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "delete": true,\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "id": 456\n\xa0\xa0\xa0 }\n}\n'})}),"\n",(0,t.jsx)(n.h4,{id:"voir-aussi",children:"Voir aussi"})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},438391:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/pict3516702.en-cb064ec14e9d4dfe520c789afa171666.png"},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var t=s(296540);const r={},i=t.createContext(r);function l(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);