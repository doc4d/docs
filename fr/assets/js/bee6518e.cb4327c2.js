"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[84330],{562433:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>p,default:()=>N,frontMatter:()=>o,metadata:()=>u,toc:()=>m});n(667294);var a=n(603905),r=n(793070),l=n(550551);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const o={id:"SessionClass",title:"Session"},p=void 0,u={unversionedId:"API/SessionClass",id:"API/SessionClass",title:"Session",description:"Session objects are returned by the Session command. These objects provide the developer with an interface allowing to manage the current user session and execute actions such as store contextual data, share information between session processes, launch session-related preemptive processes, or (web only) manage privileges.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/API/SessionClass.md",sourceDirName:"API",slug:"/API/SessionClass",permalink:"/docs/fr/next/API/SessionClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FSessionClass.md%20(current)&body=Please%20enter%20your%20comment%3A",tags:[],version:"current",frontMatter:{id:"SessionClass",title:"Session"},sidebar:"docs",previous:{title:"POP3Transporter",permalink:"/docs/fr/next/API/POP3TransporterClass"},next:{title:"Signal",permalink:"/docs/fr/next/API/SignalClass"}},d={},m=[{value:"Types de sessions",id:"types-de-sessions",level:3},{value:"Sommaire",id:"sommaire",level:3},{value:"Session",id:"session",level:2},{value:"Description",id:"description",level:4},{value:"Sessions Web",id:"sessions-web",level:4},{value:"Sessions clients distants",id:"sessions-clients-distants",level:4},{value:"Session des proc\xe9dures stock\xe9es",id:"session-des-proc\xe9dures-stock\xe9es",level:4},{value:"Exemple",id:"exemple",level:4},{value:".clearPrivileges()",id:"clearprivileges",level:2},{value:"Description",id:"description-1",level:4},{value:"Exemple",id:"exemple-1",level:4},{value:".expirationDate",id:"expirationdate",level:2},{value:"Description",id:"description-2",level:4},{value:"Exemple",id:"exemple-2",level:4},{value:".hasPrivilege()",id:"hasprivilege",level:2},{value:"Description",id:"description-3",level:4},{value:"Exemple",id:"exemple-3",level:4},{value:".id",id:"id",level:2},{value:"Description",id:"description-4",level:4},{value:".idleTimeout",id:"idletimeout",level:2},{value:"Description",id:"description-5",level:4},{value:"Exemple",id:"exemple-4",level:4},{value:".info",id:"info",level:2},{value:"Description",id:"description-6",level:4},{value:".isGuest()",id:"isguest",level:2},{value:"Description",id:"description-7",level:4},{value:"Exemple",id:"exemple-5",level:4},{value:".setPrivileges()",id:"setprivileges",level:2},{value:"Description",id:"description-8",level:4},{value:"Exemple",id:"exemple-6",level:4},{value:".storage",id:"storage",level:2},{value:"Description",id:"description-9",level:4},{value:".userName",id:"username",level:2},{value:"Description",id:"description-10",level:4}],k={toc:m};function N(e){var{components:t}=e,n=s(e,["components"]);return(0,a.kt)("wrapper",i({},k,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Session objects are returned by the ",(0,a.kt)("a",i({parentName:"p"},{href:"#session"}),(0,a.kt)("inlineCode",{parentName:"a"},"Session"))," command. These objects provide the developer with an interface allowing to manage the current user session and execute actions such as store contextual data, share information between session processes, launch session-related preemptive processes, or (web only) manage ",(0,a.kt)("a",i({parentName:"p"},{href:"/docs/fr/next/ORDA/privileges"}),"privileges"),"."),(0,a.kt)("h3",i({},{id:"types-de-sessions"}),"Types de sessions"),(0,a.kt)("p",null,"Trois types de sessions sont pris en charge par cette classe :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",i({parentName:"li"},{href:"/docs/fr/next/WebServer/sessions"}),(0,a.kt)("strong",{parentName:"a"},"Web user sessions")),": Web user sessions are available when ",(0,a.kt)("a",i({parentName:"li"},{href:"/docs/fr/next/WebServer/sessions#enabling-sessions"}),"scalable sessions are enabled in your project"),". Elles sont utilis\xe9es pour les connexions Web et REST, et peuvent se voir attribuer des privil\xe8ges."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",i({parentName:"li"},{href:"/docs/fr/next/Desktop/clientServer#remote-user-sessions"}),(0,a.kt)("strong",{parentName:"a"},"Remote client user sessions")),": In client/server applications, remote users have their own sessions managed on the server."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",i({parentName:"li"},{href:"https://doc.4d.com/4Dv20R5/4D/20-R5/4D-Server-and-the-4D-Language.300-6932726.en.html"}),(0,a.kt)("strong",{parentName:"a"},"Stored procedures session")),": All stored procedures executed on the server share the same virtual user session.")),(0,a.kt)("admonition",i({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"La disponibilit\xe9 des propri\xe9t\xe9s et des fonctions dans l'objet ",(0,a.kt)("inlineCode",{parentName:"p"},"Session")," d\xe9pend du type de session.")),(0,a.kt)("h3",i({},{id:"sommaire"}),"Sommaire"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null})))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("a",i({parentName:"td"},{href:"#clearprivileges"}),(0,a.kt)("strong",{parentName:"a"},".clearPrivileges()")," : Boolean"),(0,a.kt)("br",null),"removes all the privileges associated to the session and returns ",(0,a.kt)("strong",{parentName:"td"},"True")," if the execution was successful")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("a",i({parentName:"td"},{href:"#expirationdate"}),(0,a.kt)("strong",{parentName:"a"},".expirationDate")," : Text"),(0,a.kt)("br",null),"the expiration date and time of the session cookie")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("a",i({parentName:"td"},{href:"#hasprivilege"}),(0,a.kt)("strong",{parentName:"a"},".hasPrivilege"),"( ",(0,a.kt)("em",{parentName:"a"},"privilege")," : Text ) : Boolean"),(0,a.kt)("br",null),"returns True if the ",(0,a.kt)("em",{parentName:"td"},"privilege")," is associated to the session, and False otherwise")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("a",i({parentName:"td"},{href:"#id"}),(0,a.kt)("strong",{parentName:"a"},".id")," : Text"),(0,a.kt)("br",null),"the unique identifier (UUID) of the session on the server")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("a",i({parentName:"td"},{href:"#idletimeout"}),(0,a.kt)("strong",{parentName:"a"},".idleTimeout")," : Integer"),(0,a.kt)("br",null),"the inactivity session timeout (in minutes), after which the session is automatically closed by 4D")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("a",i({parentName:"td"},{href:"#info"}),(0,a.kt)("strong",{parentName:"a"},".info")," : Object"),(0,a.kt)("br",null),"describes the remote client or stored procedure session on the server")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("a",i({parentName:"td"},{href:"#isguest"}),(0,a.kt)("strong",{parentName:"a"},".isGuest()")," : Boolean"),(0,a.kt)("br",null),"returns True if the session is a Guest session (i.e. it has no privileges)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("a",i({parentName:"td"},{href:"#setprivileges"}),(0,a.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,a.kt)("em",{parentName:"a"},"privilege")," : Text ) : Boolean",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,a.kt)("em",{parentName:"a"},"privileges")," : Collection )",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,a.kt)("em",{parentName:"a"},"settings")," : Object ) : Boolean"),(0,a.kt)("br",null),"associates the privilege(s) and/or role(s) defined in the parameter to the session and returns ",(0,a.kt)("strong",{parentName:"td"},"True")," if the execution was successful")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("a",i({parentName:"td"},{href:"#storage"}),(0,a.kt)("strong",{parentName:"a"},".storage")," : Object"),(0,a.kt)("br",null),"a shared object that can be used to store information available to all processes of the session")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("a",i({parentName:"td"},{href:"#username"}),(0,a.kt)("strong",{parentName:"a"},".userName")," : Text"),(0,a.kt)("br",null),"the user name associated to the session")))),(0,a.kt)("h2",i({},{id:"session"}),"Session"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"20 R5"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Prise en charge des sessions utilisateurs distants et proc\xe9dures stock\xe9es")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"18 R6"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Session")," : 4D.Session"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",i({parentName:"tr"},{align:"center"})),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"4D.Session"),(0,a.kt)("td",i({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Objet session")))),(0,a.kt)("h4",i({},{id:"description"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"Session")," command returns the ",(0,a.kt)("inlineCode",{parentName:"p"},"Session")," object corresponding to the current user session."),(0,a.kt)("p",null,"Selon le process \xe0 partir duquel la commande est appel\xe9e, la session utilisateur courante peut \xeatre :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"une session web (lorsque les ",(0,a.kt)("a",i({parentName:"li"},{href:"/docs/fr/next/WebServer/sessions#enabling-sessions"}),"sessions \xe9volutives sont activ\xe9es"),"),"),(0,a.kt)("li",{parentName:"ul"},"une session de client distant,"),(0,a.kt)("li",{parentName:"ul"},"la session des proc\xe9dures stock\xe9es.")),(0,a.kt)("p",null,"Pour plus d'informations, voir le paragraphe ",(0,a.kt)("a",i({parentName:"p"},{href:"#types-de-sessions"}),"Types de sessions"),"."),(0,a.kt)("p",null,"Si la commande est appel\xe9e \xe0 partir d'un contexte non pris en charge (application mono-utilisateur, sessions \xe9volutives d\xe9sactiv\xe9es...), elle retourne ",(0,a.kt)("em",{parentName:"p"},"Null"),"."),(0,a.kt)("h4",i({},{id:"sessions-web"}),"Sessions Web"),(0,a.kt)("p",null,"L'objet ",(0,a.kt)("inlineCode",{parentName:"p"},"Session")," des sessions web est disponible depuis n'importe quel process web :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"M\xe9thodes base ",(0,a.kt)("inlineCode",{parentName:"li"},"On Web Authentication"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"On Web Connection"),", et ",(0,a.kt)("inlineCode",{parentName:"li"},"On REST Authentication"),","),(0,a.kt)("li",{parentName:"ul"},"code trait\xe9 par les balises 4D dans les pages semi-dynamiques (4DTEXT, 4DHTML, 4DEVAL, 4DSCRIPT/, 4DCODE)"),(0,a.kt)("li",{parentName:"ul"},'m\xe9thodes projet avec l\'attribut "Disponible via balises HTML et URLs 4D (4DACTION...)" et appel\xe9es via les urls 4DACTION/'),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",i({parentName:"li"},{href:"https://developer.4d.com/go-mobile/docs/4d/on-mobile-app-authentication"}),(0,a.kt)("inlineCode",{parentName:"a"},"On Mobile App Authentication"))," and ",(0,a.kt)("a",i({parentName:"li"},{href:"https://developer.4d.com/go-mobile/docs/4d/on-mobile-app-action"}),(0,a.kt)("inlineCode",{parentName:"a"},"On Mobile App Action"))," database methods for mobile requests,"),(0,a.kt)("li",{parentName:"ul"},"Fonctions ORDA ",(0,a.kt)("a",i({parentName:"li"},{href:"/docs/fr/next/REST/classFunctions"}),"appel\xe9es via des requ\xeates REST"),".")),(0,a.kt)("p",null,"Pour plus d'informations sur les sessions utilisateur web, veuillez consulter la section ",(0,a.kt)("a",i({parentName:"p"},{href:"/docs/fr/next/WebServer/sessions"}),"Sessions web"),"."),(0,a.kt)("h4",i({},{id:"sessions-clients-distants"}),"Sessions clients distants"),(0,a.kt)("p",null,"L'objet ",(0,a.kt)("inlineCode",{parentName:"p"},"Session")," des sessions client distants est disponible depuis :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Les m\xe9thodes projet qui ont l'attribut ",(0,a.kt)("a",i({parentName:"li"},{href:"/docs/fr/next/Project/code-overview#execute-on-server"}),"Ex\xe9cuter sur serveur")," (elles sont ex\xe9cut\xe9es dans le process jumeau du process client),"),(0,a.kt)("li",{parentName:"ul"},"Les Triggers,"),(0,a.kt)("li",{parentName:"ul"},"Les m\xe9thodes base ",(0,a.kt)("inlineCode",{parentName:"li"},"On Server Open Connection")," et ",(0,a.kt)("inlineCode",{parentName:"li"},"On Server Shutdown Connection"),".")),(0,a.kt)("p",null,"For more information on remote user sessions, please refer to the ",(0,a.kt)("a",i({parentName:"p"},{href:"/docs/fr/next/Desktop/clientServer#remote-user-sessions"}),(0,a.kt)("strong",{parentName:"a"},"Remote client user sessions"))," paragraph."),(0,a.kt)("h4",i({},{id:"session-des-proc\xe9dures-stock\xe9es"}),"Session des proc\xe9dures stock\xe9es"),(0,a.kt)("p",null,"Tous les process des proc\xe9dures stock\xe9es partagent la m\xeame session d'utilisateur virtuel. L'objet ",(0,a.kt)("inlineCode",{parentName:"p"},"Session")," des proc\xe9dures stock\xe9es est disponible depuis :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"methods called with the ",(0,a.kt)("a",i({parentName:"li"},{href:"https://doc.4d.com/4dv20/help/command/en/page373.html"}),(0,a.kt)("inlineCode",{parentName:"a"},"Execute on server"))," command,"),(0,a.kt)("li",{parentName:"ul"},"Les m\xe9thodes base ",(0,a.kt)("inlineCode",{parentName:"li"},"On Server Startup"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"On Server Shutdown"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"On Backup Startup"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"On Backup Shutdown"),", et ",(0,a.kt)("inlineCode",{parentName:"li"},"On System event"),".")),(0,a.kt)("p",null,"Pour des informations sur la session d'utilisateur virtuel des proc\xe9dures stock\xe9es, veuillez vous r\xe9f\xe9rer \xe0 la page ",(0,a.kt)("a",i({parentName:"p"},{href:"https://doc.4d.com/4Dv20R5/4D/20-R5/4D-Server-and-the-4D-Language.300-6932726.en.html"}),"4D Server et langage 4D"),"."),(0,a.kt)("h4",i({},{id:"exemple"}),"Exemple"),(0,a.kt)("p",null,"Vous avez d\xe9fini la m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"action_Session")," ayant l'attribut \"Disponible via Balises HTML et URLs 4D\". Vous appelez la m\xe9thode en saisissant l'URL suivant dans votre navigateur :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{}),"IP:port/4DACTION/action_Session\n")),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'  //action_Session method\n Case of\n    :(Session#Null)\n       If(Session.hasPrivilege("WebAdmin")) //calling the hasPrivilege function\n          WEB SEND TEXT("4DACTION --\x3e Session is WebAdmin")\n       Else\n          WEB SEND TEXT("4DACTION --\x3e Session is not WebAdmin")\n       End if\n    Else\n       WEB SEND TEXT("4DACTION --\x3e Session is null")\n End case\n')),(0,a.kt)("h2",i({},{id:"clearprivileges"}),".clearPrivileges()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"18 R6"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".clearPrivileges()")," : Boolean"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",i({parentName:"tr"},{align:"center"})),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Boolean"),(0,a.kt)("td",i({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"True si l'ex\xe9cution est r\xe9ussie")))),(0,a.kt)("h4",i({},{id:"description-1"}),"Description"),(0,a.kt)("admonition",i({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"This function does nothing and always returns ",(0,a.kt)("strong",{parentName:"p"},"False")," with remote client and stored procedure sessions.")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".clearPrivileges()")," function removes all the privileges associated to the session and returns ",(0,a.kt)("strong",{parentName:"p"},"True")," if the execution was successful. En r\xe9sultat, la session devient automatiquement une session Guest."),(0,a.kt)("h4",i({},{id:"exemple-1"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"}),"//Invalidate a web user session\nvar $isGuest : Boolean\nvar $isOK : Boolean\n\n$isOK:=Session.clearPrivileges()\n$isGuest:=Session.isGuest() //$isGuest is True\n")),(0,a.kt)("h2",i({},{id:"expirationdate"}),".expirationDate"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"18 R6"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".expirationDate")," : Text"),(0,a.kt)("h4",i({},{id:"description-2"}),"Description"),(0,a.kt)("admonition",i({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"Cette propri\xe9t\xe9 est uniquement disponible avec les sessions web.")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".expirationDate")," property contains the expiration date and time of the session cookie. La valeur est exprim\xe9e sous forme de texte au format ISO 8601 : ",(0,a.kt)("inlineCode",{parentName:"p"},"YYYY-MM-DDTHH:MM:SS.mmmZ"),"."),(0,a.kt)("p",null,"Cette propri\xe9t\xe9 est en ",(0,a.kt)("strong",{parentName:"p"},"lecture seule"),". It is automatically recomputed if the ",(0,a.kt)("a",i({parentName:"p"},{href:"#idletimeout"}),(0,a.kt)("inlineCode",{parentName:"a"},".idleTimeout"))," property value is modified."),(0,a.kt)("h4",i({},{id:"exemple-2"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'var $expiration : Text\n$expiration:=Session.expirationDate //ex : "2021-11-05T17:10:42Z"\n')),(0,a.kt)("h2",i({},{id:"hasprivilege"}),".hasPrivilege()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"18 R6"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".hasPrivilege"),"( ",(0,a.kt)("em",{parentName:"p"},"privilege")," : Text ) : Boolean"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",i({parentName:"tr"},{align:"center"})),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"privilege"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",i({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Nom du privil\xe8ge \xe0 v\xe9rifier")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Boolean"),(0,a.kt)("td",i({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Vrai si la session dispose du ",(0,a.kt)("em",{parentName:"td"},"privilege"),", sinon Faux")))),(0,a.kt)("h4",i({},{id:"description-3"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".hasPrivilege()")," function returns True if the ",(0,a.kt)("em",{parentName:"p"},"privilege")," is associated to the session, and False otherwise."),(0,a.kt)("p",null,"With remote client and stored procedure sessions, this function always returns True, whatever the ",(0,a.kt)("em",{parentName:"p"},"privilege"),"."),(0,a.kt)("h4",i({},{id:"exemple-3"}),"Exemple"),(0,a.kt)("p",null,'You want to check if the "WebAdmin" privilege is associated to the web user session:'),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'If (Session.hasPrivilege("WebAdmin"))\n    //Access is granted, do nothing\nElse\n    //Display an authentication page\n\nEnd if\n')),(0,a.kt)("h2",i({},{id:"id"}),".id"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"20 R5"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".id")," : Text"),(0,a.kt)("h4",i({},{id:"description-4"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".id")," property contains the unique identifier (UUID) of the session on the server. Cette cha\xeene unique est automatiquement attribu\xe9e par le serveur \xe0 chaque session et vous permet d'identifier ses process."),(0,a.kt)("h2",i({},{id:"idletimeout"}),".idleTimeout"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"18 R6"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".idleTimeout")," : Integer"),(0,a.kt)("h4",i({},{id:"description-5"}),"Description"),(0,a.kt)("admonition",i({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"Cette propri\xe9t\xe9 est uniquement disponible avec les sessions web.")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".idleTimeout")," property contains the inactivity session timeout (in minutes), after which the session is automatically closed by 4D."),(0,a.kt)("p",null,"Si cette propri\xe9t\xe9 n'est pas d\xe9finie, sa valeur par d\xe9faut est 60 (1h)."),(0,a.kt)("p",null,"When this property is set, the ",(0,a.kt)("a",i({parentName:"p"},{href:"#expirationdate"}),(0,a.kt)("inlineCode",{parentName:"a"},".expirationDate"))," property is updated accordingly."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"La valeur ne peut pas \xeatre < 60 ; si une valeur inf\xe9rieure est d\xe9finie, le timeout est \xe9lev\xe9 \xe0 60.")),(0,a.kt)("p",null,"Cette propri\xe9t\xe9 est en ",(0,a.kt)("strong",{parentName:"p"},"lecture-\xe9criture"),"."),(0,a.kt)("h4",i({},{id:"exemple-4"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"}),"If (Session.isGuest())\n        // A Guest session will close after 60 minutes of inactivity\n    Session.idleTimeout:=60\nElse\n        // Other sessions will close after 120 minutes of inactivity\n    Session.idleTimeout:=120\nEnd if\n\n")),(0,a.kt)("h2",i({},{id:"info"}),".info"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"20 R5"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".info")," : Object"),(0,a.kt)("h4",i({},{id:"description-6"}),"Description"),(0,a.kt)("admonition",i({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"Cette propri\xe9t\xe9 est uniquement disponible avec les sessions des proc\xe9dures stock\xe9es et des client distants.")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".info")," property describes the remote client or stored procedure session on the server."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".info")," object is the same object as the one returned by the ",(0,a.kt)("a",i({parentName:"p"},{href:"https://doc.4d.com/4dv20/help/command/en/page1495.html"}),(0,a.kt)("inlineCode",{parentName:"a"},"Get process activity"))," command for remote client and stored procedure sessions."),(0,a.kt)("p",null,"L'objet ",(0,a.kt)("inlineCode",{parentName:"p"},".info")," contient les propri\xe9t\xe9s suivantes:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"type"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),'Type de session : "remote" ou "storedProcedure"')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"userName"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"4D user name (same value as ",(0,a.kt)("a",i({parentName:"td"},{href:"#username"}),(0,a.kt)("inlineCode",{parentName:"a"},".userName")),")")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"machineName"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Sessions distantes : nom de la machine distante. Session des proc\xe9dures stock\xe9es : nom de la machine serveur")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"systemUserName"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Sessions distantes : nom de la session syst\xe8me ouverte sur la machine distante.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"IPAddress"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Adresse IP de la machine distante")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"hostType"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),'Type d\'h\xf4te : "windows" ou "mac"')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"creationDateTime"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Date ISO 8601"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Date et heure de cr\xe9ation de la session")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"state"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),'\xc9tat de la session : "active", "postponed", "sleeping"')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"ID"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Session UUID (same value as ",(0,a.kt)("a",i({parentName:"td"},{href:"#id"}),(0,a.kt)("inlineCode",{parentName:"a"},".id")),")")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"persistentID"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"ID persistant de la session")))),(0,a.kt)("admonition",i({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("inlineCode",{parentName:"p"},".info")," \xe9tant une propri\xe9t\xe9 calcul\xe9e, il est recommand\xe9 de l'appeler une fois et de la stocker dans une variable locale si vous souhaitez effectuer un traitement sur ses propri\xe9t\xe9s.")),(0,a.kt)("h2",i({},{id:"isguest"}),".isGuest()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"18 R6"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".isGuest()")," : Boolean"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",i({parentName:"tr"},{align:"center"})),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Boolean"),(0,a.kt)("td",i({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Vrai s'il s'agit d'une session Guest, sinon Faux")))),(0,a.kt)("h4",i({},{id:"description-7"}),"Description"),(0,a.kt)("admonition",i({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"This function always returns ",(0,a.kt)("strong",{parentName:"p"},"False")," with remote client and stored procedure sessions.")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".isGuest()")," function returns True if the session is a Guest session (i.e. it has no privileges)."),(0,a.kt)("h4",i({},{id:"exemple-5"}),"Exemple"),(0,a.kt)("p",null,"Dans la m\xe9thode base ",(0,a.kt)("inlineCode",{parentName:"p"},"On Web Connection")," :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"}),"If (Session.isGuest())\n    //Do something for Guest user\nEnd if\n")),(0,a.kt)("h2",i({},{id:"setprivileges"}),".setPrivileges()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"19 R8"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),'Prise en charge de la propri\xe9t\xe9 "roles" dans settings')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"18 R6"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,a.kt)("em",{parentName:"p"},"privilege")," : Text ) : Boolean",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,a.kt)("em",{parentName:"p"},"privileges")," : Collection )",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,a.kt)("em",{parentName:"p"},"settings")," : Object ) : Boolean"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",i({parentName:"tr"},{align:"center"})),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"privilege"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",i({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Nom de privil\xe8ge")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"privileges"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Collection"),(0,a.kt)("td",i({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Collection de noms de privil\xe8ges")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"settings"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Object"),(0,a.kt)("td",i({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),'Objet contenant une propri\xe9t\xe9 "privileges" (texte ou collection)')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Boolean"),(0,a.kt)("td",i({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"True si l'ex\xe9cution est r\xe9ussie")))),(0,a.kt)("h4",i({},{id:"description-8"}),"Description"),(0,a.kt)("admonition",i({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"This function does nothing and always returns ",(0,a.kt)("strong",{parentName:"p"},"False")," with remote client and stored procedure sessions.")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".setPrivileges()")," function associates the privilege(s) and/or role(s) defined in the parameter to the session and returns ",(0,a.kt)("strong",{parentName:"p"},"True")," if the execution was successful."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"privilege"),", passez une cha\xeene contenant un nom de privil\xe8ge (ou plusieurs noms de privil\xe8ges s\xe9par\xe9s par des virgules).")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"privileges"),", passez une collection de cha\xeenes contenant des noms de privil\xe8ges.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"settings"),", passez un objet contenant les propri\xe9t\xe9s suivantes :"))),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"privileges"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Text ou Collection"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("li",null,"String containing a privilege name, or"),(0,a.kt)("li",null,"Collection of strings containing privilege names"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"roles"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Text ou Collection"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),(0,a.kt)("li",null,"String containing a role, or"),(0,a.kt)("li",null,"Collection of strings containing roles"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"userName"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Nom d'utilisateur \xe0 associer \xe0 la session (optionnel)")))),(0,a.kt)("admonition",i({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"Privileges and roles are defined in ",(0,a.kt)("a",i({parentName:"p"},{href:"/docs/fr/next/ORDA/privileges#rolesjson-file"}),(0,a.kt)("inlineCode",{parentName:"a"},"roles.json"))," file of the project. For more information, please refer to the ",(0,a.kt)("a",i({parentName:"p"},{href:"/docs/fr/next/ORDA/privileges"}),(0,a.kt)("strong",{parentName:"a"},"Privileges"))," section.")),(0,a.kt)("p",null,"If the ",(0,a.kt)("inlineCode",{parentName:"p"},"privileges")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"roles")," property contains a name that is not declared in the ",(0,a.kt)("a",i({parentName:"p"},{href:"/docs/fr/next/ORDA/privileges#rolesjson-file"}),(0,a.kt)("inlineCode",{parentName:"a"},"roles.json"))," file, it is ignored."),(0,a.kt)("p",null,"Par d\xe9faut lorsqu'aucun privil\xe8ge ou r\xf4le n'est associ\xe9 \xe0 la session, la session est une ",(0,a.kt)("a",i({parentName:"p"},{href:"#isguest"}),"session Guest"),"."),(0,a.kt)("p",null,"The ",(0,a.kt)("a",i({parentName:"p"},{href:"#username"}),(0,a.kt)("inlineCode",{parentName:"a"},"userName"))," property is available at session object level (read-only)."),(0,a.kt)("h4",i({},{id:"exemple-6"}),"Exemple"),(0,a.kt)("p",null,"Dans une m\xe9thode d'authentification personnalis\xe9e, vous assignez le privil\xe8ge \"WebAdmin\" \xe0 l'utilisateur :"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'var $userOK : Boolean\n\n... //Authenticate the user\n\nIf ($userOK) //The user has been approved\n  var $info : Object\n  $info:=New object()\n  $info.privileges:=New collection("WebAdmin")\n  Session.setPrivileges($info)\nEnd if\n\n')),(0,a.kt)("h2",i({},{id:"storage"}),".storage"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"20 R5"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Prise en charge des sessions utilisateurs distants et proc\xe9dures stock\xe9es")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"18 R6"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".storage")," : Object"),(0,a.kt)("h4",i({},{id:"description-9"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".storage")," property contains a shared object that can be used to store information available to all processes of the session."),(0,a.kt)("p",null,"Lorsqu'un objet ",(0,a.kt)("inlineCode",{parentName:"p"},"Session")," est cr\xe9\xe9, la propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},".storage")," est vide. Puisqu'il s'agit d'un objet partag\xe9, cette propri\xe9t\xe9 sera disponible dans l'objet ",(0,a.kt)("inlineCode",{parentName:"p"},"Storage")," du serveur."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Tout comme l'objet ",(0,a.kt)("inlineCode",{parentName:"p"},"Storage")," du serveur, la propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},".storage")," est toujours \"single\" : l'ajout d'un objet partag\xe9 ou d'une collection partag\xe9e \xe0 ",(0,a.kt)("inlineCode",{parentName:"p"},".storage")," ne cr\xe9e pas de groupe partag\xe9.")),(0,a.kt)("p",null,"Cette propri\xe9t\xe9 est elle-m\xeame en ",(0,a.kt)("strong",{parentName:"p"},"lecture seulement")," mais elle retourne un objet en lecture-\xe9criture."),(0,a.kt)(r.Z,{mdxType:"Tabs"},(0,a.kt)(l.Z,{value:"Web session example",mdxType:"TabItem"},(0,a.kt)("p",null,"Vous voulez stocker l'adresse IP du client dans la propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},".storage"),". You can write in the ",(0,a.kt)("inlineCode",{parentName:"p"},"On Web Authentication")," database method:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'If (Session.storage.clientIP=Null) //first access\n    Use (Session.storage)\n        Session.storage.clientIP:=New shared object("value"; $clientIP)\n    End use\nEnd if\n'))),(0,a.kt)(l.Z,{value:"Remote session example",mdxType:"TabItem"},(0,a.kt)("p",null,"You want to share data between processes in the same session:"),(0,a.kt)("pre",null,(0,a.kt)("code",i({parentName:"pre"},{className:"language-4d"}),'Use (Session.storage)\n Session.storage.settings:=New shared object("property"; $value; "property2"; $value2)\nEnd use\n')))),(0,a.kt)("h2",i({},{id:"username"}),".userName"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Release"),(0,a.kt)("th",i({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"20 R5"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Prise en charge des sessions utilisateurs distants et proc\xe9dures stock\xe9es")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",i({parentName:"tr"},{align:null}),"18 R6"),(0,a.kt)("td",i({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".userName")," : Text"),(0,a.kt)("h4",i({},{id:"description-10"}),"Description"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".userName")," property contains the user name associated to the session. Vous pouvez vous en servir pour identifier l'utilisateur dans votre code."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Avec les sessions web, cette propri\xe9t\xe9 est une cha\xeene vide par d\xe9faut. It can be set using the ",(0,a.kt)("inlineCode",{parentName:"li"},"privileges")," property of the ",(0,a.kt)("a",i({parentName:"li"},{href:"#setprivileges"}),(0,a.kt)("inlineCode",{parentName:"a"},"setPrivileges()"))," function."),(0,a.kt)("li",{parentName:"ul"},"With remote and stored procedure sessions, this property returns the same user name as the ",(0,a.kt)("a",i({parentName:"li"},{href:"https://doc.4d.com/4dv20/help/command/en/page182.html"}),(0,a.kt)("inlineCode",{parentName:"a"},"Current user"))," command.")),(0,a.kt)("p",null,"Cette propri\xe9t\xe9 est en ",(0,a.kt)("strong",{parentName:"p"},"lecture seule"),"."))}N.isMDXComponent=!0}}]);