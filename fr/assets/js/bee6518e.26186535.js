"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[84330],{562433:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>p,default:()=>N,frontMatter:()=>o,metadata:()=>m,toc:()=>u});n(667294);var a=n(603905),r=n(793070),i=n(550551);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const o={id:"SessionClass",title:"Session"},p=void 0,m={unversionedId:"API/SessionClass",id:"API/SessionClass",title:"Session",description:"Session objects are returned by the Session command. These objects provide the developer with an interface allowing to manage the current user session and execute actions such as store contextual data, share information between session processes, launch session-related preemptive processes, or (web only) manage privileges.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/API/SessionClass.md",sourceDirName:"API",slug:"/API/SessionClass",permalink:"/docs/fr/next/API/SessionClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FSessionClass.md%20(current)&body=Please%20enter%20your%20comment%3A",tags:[],version:"current",frontMatter:{id:"SessionClass",title:"Session"},sidebar:"docs",previous:{title:"POP3Transporter",permalink:"/docs/fr/next/API/POP3TransporterClass"},next:{title:"Signal",permalink:"/docs/fr/next/API/SignalClass"}},d={},u=[{value:"Session types",id:"session-types",level:3},{value:"Sommaire",id:"sommaire",level:3},{value:"Session",id:"session",level:2},{value:"Description",id:"description",level:4},{value:"Web sessions",id:"web-sessions",level:4},{value:"Remote client sessions",id:"remote-client-sessions",level:4},{value:"Stored procedures session",id:"stored-procedures-session",level:4},{value:"Exemple",id:"exemple",level:4},{value:".clearPrivileges()",id:"clearprivileges",level:2},{value:"Description",id:"description-1",level:4},{value:"Exemple",id:"exemple-1",level:4},{value:".expirationDate",id:"expirationdate",level:2},{value:"Description",id:"description-2",level:4},{value:"Exemple",id:"exemple-2",level:4},{value:".hasPrivilege()",id:"hasprivilege",level:2},{value:"Description",id:"description-3",level:4},{value:"Exemple",id:"exemple-3",level:4},{value:".id",id:"id",level:2},{value:"Description",id:"description-4",level:4},{value:".idleTimeout",id:"idletimeout",level:2},{value:"Description",id:"description-5",level:4},{value:"Exemple",id:"exemple-4",level:4},{value:".info",id:"info",level:2},{value:"Description",id:"description-6",level:4},{value:".isGuest()",id:"isguest",level:2},{value:"Description",id:"description-7",level:4},{value:"Exemple",id:"exemple-5",level:4},{value:".setPrivileges()",id:"setprivileges",level:2},{value:"Description",id:"description-8",level:4},{value:"Exemple",id:"exemple-6",level:4},{value:".storage",id:"storage",level:2},{value:"Description",id:"description-9",level:4},{value:".userName",id:"username",level:2},{value:"Description",id:"description-10",level:4}],k={toc:u};function N(e){var{components:t}=e,n=s(e,["components"]);return(0,a.kt)("wrapper",l({},k,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Session objects are returned by the ",(0,a.kt)("a",l({parentName:"p"},{href:"#session"}),(0,a.kt)("inlineCode",{parentName:"a"},"Session"))," command. These objects provide the developer with an interface allowing to manage the current user session and execute actions such as store contextual data, share information between session processes, launch session-related preemptive processes, or (web only) manage ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/next/ORDA/privileges"}),"privileges"),"."),(0,a.kt)("h3",l({},{id:"session-types"}),"Session types"),(0,a.kt)("p",null,"Three types of sessions are supported by this class:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/next/WebServer/sessions"}),(0,a.kt)("strong",{parentName:"a"},"Web user sessions")),": Web user sessions are available when ",(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/next/WebServer/sessions#enabling-sessions"}),"scalable sessions are enabled in your project"),". They are used for Web and REST connections, and can be assigned privileges."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/next/Desktop/clientServer#remote-user-sessions"}),(0,a.kt)("strong",{parentName:"a"},"Remote client user sessions")),": In client/server applications, remote users have their own sessions managed on the server."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",l({parentName:"li"},{href:"https://doc.4d.com/4Dv20R5/4D/20-R5/4D-Server-and-the-4D-Language.300-6932726.en.html"}),(0,a.kt)("strong",{parentName:"a"},"Stored procedures session")),": All stored procedures executed on the server share the same virtual user session.")),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"The availability of properties and functions in the ",(0,a.kt)("inlineCode",{parentName:"p"},"Session")," object depend on the session type.")),(0,a.kt)("h3",l({},{id:"sommaire"}),"Sommaire"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null})))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#clearprivileges"}),(0,a.kt)("strong",{parentName:"a"},".clearPrivileges()")," : Boolean"),"\xa0","\xa0","\xa0","\xa0","removes all the privileges associated to the session and returns ",(0,a.kt)("strong",{parentName:"td"},"True")," if the execution was successful")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#expirationdate"}),(0,a.kt)("strong",{parentName:"a"},".expirationDate")," : Text"),"\xa0","\xa0","\xa0","\xa0","la date et l'heure d'expiration du cookie de session")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#hasprivilege"}),(0,a.kt)("strong",{parentName:"a"},".hasPrivilege"),"( ",(0,a.kt)("em",{parentName:"a"},"privilege")," : Text ) : Boolean"),"\xa0","\xa0","\xa0","\xa0","renvoie Vrai si le privil\xe8ge est associ\xe9 \xe0 la session, et Faux sinon")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#id"}),(0,a.kt)("strong",{parentName:"a"},".id")," : Text"),"\xa0","\xa0","\xa0","\xa0","the unique identifier (UUID) of the session on the server")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#idletimeout"}),(0,a.kt)("strong",{parentName:"a"},".idleTimeout")," : Integer"),"\xa0","\xa0","\xa0","\xa0","le d\xe9lai maximal d'inactivit\xe9 de session (en minutes), au-del\xe0 duquel la session est automatiquement ferm\xe9e par 4D")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#info"}),(0,a.kt)("strong",{parentName:"a"},".info")," : Object"),"\xa0","\xa0","\xa0","\xa0","describes the remote client or stored procedure session on the server")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#isguest"}),(0,a.kt)("strong",{parentName:"a"},".isGuest()")," : Boolean"),"\xa0","\xa0","\xa0","\xa0","retourne True si la session est une session invit\xe9 (c'est-\xe0-dire qu'elle n'a pas de privil\xe8ges)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#setprivileges"}),(0,a.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,a.kt)("em",{parentName:"a"},"privilege")," : Text ) : Boolean",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,a.kt)("em",{parentName:"a"},"privileges")," : Collection )",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,a.kt)("em",{parentName:"a"},"settings")," : Object ) : Boolean"),"\xa0","\xa0","\xa0","\xa0","associates the privilege(s) and/or role(s) defined in the parameter to the session and returns ",(0,a.kt)("strong",{parentName:"td"},"True")," if the execution was successful")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#storage"}),(0,a.kt)("strong",{parentName:"a"},".storage")," : Object"),"\xa0","\xa0","\xa0","\xa0","a shared object that can be used to store information available to all processes of the session")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("a",l({parentName:"td"},{href:"#username"}),(0,a.kt)("strong",{parentName:"a"},".userName")," : Text"),"\xa0","\xa0","\xa0","\xa0","le nom d'utilisateur associ\xe9 \xe0 la session")))),(0,a.kt)("h2",l({},{id:"session"}),"Session"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Version"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"v20 R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Support of remote client and stored procedure sessions")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Session")," : 4D.Session"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D.Session"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Objet session")))),(0,a.kt)("h4",l({},{id:"description"}),"Description"),(0,a.kt)("p",null,"La commande ",(0,a.kt)("inlineCode",{parentName:"p"},"Session")," returns the ",(0,a.kt)("inlineCode",{parentName:"p"},"Session")," object corresponding to the current user session."),(0,a.kt)("p",null,"Depending on the process from which the command is called, the current user session can be:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"a web session (when ",(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/next/WebServer/sessions#enabling-sessions"}),"scalable sessions are enabled"),"),"),(0,a.kt)("li",{parentName:"ul"},"a remote client session,"),(0,a.kt)("li",{parentName:"ul"},"the stored procedures session.")),(0,a.kt)("p",null,"For more information, see the ",(0,a.kt)("a",l({parentName:"p"},{href:"#session-types"}),"Session types")," paragraph."),(0,a.kt)("p",null,"If the command is called from a non supported context (single-user application, scalable sessions disabled...), it returns ",(0,a.kt)("em",{parentName:"p"},"Null"),"."),(0,a.kt)("h4",l({},{id:"web-sessions"}),"Web sessions"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"Session")," object of web sessions is available from any web process:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"M\xe9thodes base ",(0,a.kt)("inlineCode",{parentName:"li"},"On Web Authentication"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"On Web Connection"),", et ",(0,a.kt)("inlineCode",{parentName:"li"},"On REST Authentication"),","),(0,a.kt)("li",{parentName:"ul"},"le code trait\xe9 par les balises 4D dans les pages semi-dynamiques (4DTEXT, 4DHTML, 4DEVAL, 4DSCRIPT/, 4DCODE)"),(0,a.kt)("li",{parentName:"ul"},'project methods with the "Available through 4D tags and URLs (4DACTION...)" attribute and called through 4DACTION/ urls,'),(0,a.kt)("li",{parentName:"ul"},"M\xe9thodes base ",(0,a.kt)("a",l({parentName:"li"},{href:"https://developer.4d.com/go-mobile/docs/4d/on-mobile-app-authentication"}),(0,a.kt)("inlineCode",{parentName:"a"},"On Mobile App Authentication"))," et ",(0,a.kt)("a",l({parentName:"li"},{href:"https://developer.4d.com/go-mobile/docs/4d/on-mobile-app-action"}),(0,a.kt)("inlineCode",{parentName:"a"},"On Mobile App Action"))," pour les requ\xeates mobiles,"),(0,a.kt)("li",{parentName:"ul"},"ORDA functions ",(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/next/REST/classFunctions"}),"called with REST requests"),".")),(0,a.kt)("p",null,"For more information on web user sessions, please refer to the ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/next/WebServer/sessions"}),"Web Server Sessions")," section."),(0,a.kt)("h4",l({},{id:"remote-client-sessions"}),"Remote client sessions"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"Session")," object of remote client sessions is available from:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Project methods that have the ",(0,a.kt)("a",l({parentName:"li"},{href:"/docs/fr/next/Project/code-overview#execute-on-server"}),"Execute on Server"),' attribute (they are executed in the "twinned" process of the client process),'),(0,a.kt)("li",{parentName:"ul"},"Triggers,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"On Server Open Connection")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"On Server Shutdown Connection")," database methods.")),(0,a.kt)("p",null,"For more information on remote user sessions, please refer to the ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/next/Desktop/clientServer#remote-user-sessions"}),(0,a.kt)("strong",{parentName:"a"},"Remote client user sessions"))," paragraph."),(0,a.kt)("h4",l({},{id:"stored-procedures-session"}),"Stored procedures session"),(0,a.kt)("p",null,"All stored procedure processes share the same virtual user session. The ",(0,a.kt)("inlineCode",{parentName:"p"},"Session")," object of stored procedures is available from:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"methods called with the ",(0,a.kt)("a",l({parentName:"li"},{href:"https://doc.4d.com/4dv20/help/command/en/page373.html"}),(0,a.kt)("inlineCode",{parentName:"a"},"Execute on server"))," command,"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"On Server Startup"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"On Server Shutdown"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"On Backup Startup"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"On Backup Shutdown"),", and ",(0,a.kt)("inlineCode",{parentName:"li"},"On System event")," database methods")),(0,a.kt)("p",null,"For information on stored procedures virtual user session, please refer to the ",(0,a.kt)("a",l({parentName:"p"},{href:"XXX"}),"XXXX")," page."),(0,a.kt)("h4",l({},{id:"exemple"}),"Exemple"),(0,a.kt)("p",null,"Vous avez d\xe9fini la m\xe9thode ",(0,a.kt)("inlineCode",{parentName:"p"},"action_Session")," ayant l'attribut \"Disponible via Balises HTML et URLs 4D\". Vous appelez la m\xe9thode en saisissant l'URL suivant dans votre navigateur :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{}),"IP:port/4DACTION/action_Session\n")),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'  //action_Session method\n Case of\n    :(Session#Null)\n       If(Session.hasPrivilege("WebAdmin")) //calling the hasPrivilege function\n          WEB SEND TEXT("4DACTION --\x3e Session is WebAdmin")\n       Else\n          WEB SEND TEXT("4DACTION --\x3e Session is not WebAdmin")\n       End if\n    Else\n       WEB SEND TEXT("4DACTION --\x3e Session is null")\n End case\n')),(0,a.kt)("h2",l({},{id:"clearprivileges"}),".clearPrivileges()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Version"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".clearPrivileges()")," : Boolean"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"True if the execution is successful")))),(0,a.kt)("h4",l({},{id:"description-1"}),"Description"),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"Since privileges are only supported in web user sessions, this function does nothing and always returns ",(0,a.kt)("strong",{parentName:"p"},"False")," in other session types.")),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".clearPrivileges()")," removes all the privileges associated to the session and returns ",(0,a.kt)("strong",{parentName:"p"},"True")," if the execution was successful. En r\xe9sultat, la session devient automatiquement une session Guest."),(0,a.kt)("h4",l({},{id:"exemple-1"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"//Invalidate a session\nvar $isGuest : Boolean\nvar $isOK : Boolean\n\n$isOK:=Session.clearPrivileges()\n$isGuest:=Session.isGuest() //$isGuest is True\n")),(0,a.kt)("h2",l({},{id:"expirationdate"}),".expirationDate"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Version"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".expirationDate")," : Text"),(0,a.kt)("h4",l({},{id:"description-2"}),"Description"),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"This property is only available with web user sessions.")),(0,a.kt)("p",null,"La propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},".expirationDate")," contient la date et l'heure d'expiration du cookie de session. La valeur est exprim\xe9e sous forme de texte au format ISO 8601 : ",(0,a.kt)("inlineCode",{parentName:"p"},"YYYY-MM-DDTHH:MM:SS.mmmZ"),"."),(0,a.kt)("p",null,"Cette propri\xe9t\xe9 est en ",(0,a.kt)("strong",{parentName:"p"},"lecture seule"),". Elle est automatiquement recalcul\xe9e si la valeur de la propri\xe9t\xe9 ",(0,a.kt)("a",l({parentName:"p"},{href:"#idletimeout"}),(0,a.kt)("inlineCode",{parentName:"a"},".idleTimeout"))," est modifi\xe9e."),(0,a.kt)("h4",l({},{id:"exemple-2"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $expiration : Text\n$expiration:=Session.expirationDate //ex : "2021-11-05T17:10:42Z"\n')),(0,a.kt)("h2",l({},{id:"hasprivilege"}),".hasPrivilege()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Version"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".hasPrivilege"),"( ",(0,a.kt)("em",{parentName:"p"},"privilege")," : Text ) : Boolean"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"privilege"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nom du privil\xe8ge \xe0 v\xe9rifier")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Vrai si la session dispose du ",(0,a.kt)("em",{parentName:"td"},"privilege"),", sinon Faux")))),(0,a.kt)("h4",l({},{id:"description-3"}),"Description"),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"Since privileges are only supported in web user sessions, this function does nothing and always returns ",(0,a.kt)("strong",{parentName:"p"},"False")," in other session types.")),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".hasPrivilege()")," renvoie Vrai si le privil\xe8ge est associ\xe9 \xe0 la session, et Faux sinon."),(0,a.kt)("h4",l({},{id:"exemple-3"}),"Exemple"),(0,a.kt)("p",null,'Vous voulez v\xe9rifier si le privil\xe8ge "WebAdmin" est associ\xe9 \xe0 la session :'),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'If (Session.hasPrivilege("WebAdmin"))\n    //Acc\xe8s accord\xe9, ne rien faire\nElse\n    //Afficher une page d\'authentification\n\nEnd if\n')),(0,a.kt)("h2",l({},{id:"id"}),".id"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Version"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"v20 R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".id")," : Text"),(0,a.kt)("h4",l({},{id:"description-4"}),"Description"),(0,a.kt)("p",null,"La propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},".id")," contient the unique identifier (UUID) of the session on the server. This unique string is automatically assigned by the server for each session and allows you to identify its processes. "),(0,a.kt)("h2",l({},{id:"idletimeout"}),".idleTimeout"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Version"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".idleTimeout")," : Integer"),(0,a.kt)("h4",l({},{id:"description-5"}),"Description"),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"This property is only available with web user sessions.")),(0,a.kt)("p",null,"La propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},".idleTimeout")," contient le d\xe9lai maximal d'inactivit\xe9 de session (en minutes), au-del\xe0 duquel la session est automatiquement ferm\xe9e par 4D."),(0,a.kt)("p",null,"Si cette propri\xe9t\xe9 n'est pas d\xe9finie, sa valeur par d\xe9faut est 60 (1h)."),(0,a.kt)("p",null,"Lorsque cette propri\xe9t\xe9 est modifi\xe9e, la propri\xe9t\xe9 ",(0,a.kt)("a",l({parentName:"p"},{href:"#expirationdate"}),(0,a.kt)("inlineCode",{parentName:"a"},".expirationDate"))," est mise \xe0 jour en cons\xe9quence."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"La valeur ne peut pas \xeatre < 60 ; si une valeur inf\xe9rieure est d\xe9finie, le timeout est \xe9lev\xe9 \xe0 60.")),(0,a.kt)("p",null,"Cette propri\xe9t\xe9 est en ",(0,a.kt)("strong",{parentName:"p"},"lecture-\xe9criture"),"."),(0,a.kt)("h4",l({},{id:"exemple-4"}),"Exemple"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"If (Session.isGuest())\n        // Une session Guest se ferme apr\xe8s 60 minutes d'inactivit\xe9.\n    Session.idleTimeout:=60\nElse\n        //Les autres sessions se ferment apr\xe8s 120 minutes d'inactivit\xe9.\n    Session.idleTimeout:=120\nEnd if\n\n")),(0,a.kt)("h2",l({},{id:"info"}),".info"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Version"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"v20 R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".info")," : Object"),(0,a.kt)("h4",l({},{id:"description-6"}),"Description"),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"This property is only available with remote client and stored procedure sessions.")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".info")," property describes the remote client or stored procedure session on the server."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".info")," object is the same object as the one returned by the ",(0,a.kt)("a",l({parentName:"p"},{href:"https://doc.4d.com/4dv20/help/command/en/page1495.html"}),(0,a.kt)("inlineCode",{parentName:"a"},"Get process activity"))," command for remote client and stored procedure sessions."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},".info")," object contains the following properties:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"type"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),'Session type: "remote" or "storedProcedure"')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"userName"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"4D user name (same value as ",(0,a.kt)("a",l({parentName:"td"},{href:"#username"}),(0,a.kt)("inlineCode",{parentName:"a"},".userName")),")")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"machineName"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Remote sessions: name of the remote machine. Stored procedures session: name of the server machine")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"systemUserName"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Remote sessions: name of the system session opened on the remote machine.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"IPAddress"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"IP address of the remote machine")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"hostType"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),'Host type: "windows" or "mac"')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"creationDateTime"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Date ISO 8601"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Date and time of session creation")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"state"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),'Session state: "active", "postponed", "sleeping"')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"ID"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Session UUID (same value as ",(0,a.kt)("a",l({parentName:"td"},{href:"#id"}),(0,a.kt)("inlineCode",{parentName:"a"},".id")),")")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"persistentID"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Session's persistent ID")))),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"Since ",(0,a.kt)("inlineCode",{parentName:"p"},".info")," is a computed property, it is recommended to call it once and then to store it in a local variable if you want to do some processing on its properties.")),(0,a.kt)("h2",l({},{id:"isguest"}),".isGuest()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Version"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".isGuest()")," : Boolean"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Vrai s'il s'agit d'une session Guest, sinon Faux")))),(0,a.kt)("h4",l({},{id:"description-7"}),"Description"),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"This function always returns ",(0,a.kt)("strong",{parentName:"p"},"True")," with remote client and stored procedure sessions.")),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".isGuest()")," retourne True si la session est une session invit\xe9 (c'est-\xe0-dire qu'elle n'a pas de privil\xe8ges)."),(0,a.kt)("h4",l({},{id:"exemple-5"}),"Exemple"),(0,a.kt)("p",null,"Dans la m\xe9thode base ",(0,a.kt)("inlineCode",{parentName:"p"},"On Web Connection")," :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"If (Session.isGuest())\n    //Faire quelque chose pour l'utilisateur invit\xe9\nEnd if\n")),(0,a.kt)("h2",l({},{id:"setprivileges"}),".setPrivileges()"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Version"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"v19 R8"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),'Prise en charge de la propri\xe9t\xe9 "roles" dans settings')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,a.kt)("em",{parentName:"p"},"privilege")," : Text ) : Boolean",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,a.kt)("em",{parentName:"p"},"privileges")," : Collection )",(0,a.kt)("br",null),(0,a.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,a.kt)("em",{parentName:"p"},"settings")," : Object ) : Boolean"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Param\xe8tres"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:"center"})),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"privilege"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nom de privil\xe8ge")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"privileges"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Collection de noms de privil\xe8ges")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"settings"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),'Objet contenant une propri\xe9t\xe9 "privileges" (texte ou collection)')),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"R\xe9sultat"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,a.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"True if the execution is successful")))),(0,a.kt)("h4",l({},{id:"description-8"}),"Description"),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"Since privileges are only supported in web user sessions, this function does nothing and always returns ",(0,a.kt)("strong",{parentName:"p"},"False")," in other session types.")),(0,a.kt)("p",null,"La fonction ",(0,a.kt)("inlineCode",{parentName:"p"},".setPrivileges()")," associates the privilege(s) and/or role(s) defined in the parameter to the session and returns ",(0,a.kt)("strong",{parentName:"p"},"True")," if the execution was successful."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"privilege"),", passez une cha\xeene contenant un nom de privil\xe8ge (ou plusieurs noms de privil\xe8ges s\xe9par\xe9s par des virgules).")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"privileges"),", passez une collection de cha\xeenes contenant des noms de privil\xe8ges.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Dans le param\xe8tre ",(0,a.kt)("em",{parentName:"p"},"settings"),", passez un objet contenant les propri\xe9t\xe9s suivantes :"))),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Propri\xe9t\xe9"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Type"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"privileges"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text ou Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("li",null,"Cha\xeene contenant un nom de privil\xe8ge, ou"),(0,a.kt)("li",null,"Collection de cha\xeenes contenant des noms de privil\xe8ges"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"roles"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text ou Collection"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),(0,a.kt)("li",null,"Cha\xeene contenant un nom de r\xf4le, ou"),(0,a.kt)("li",null,"Collection de cha\xeenes contenant des noms de roles"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"userName"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Nom d'utilisateur \xe0 associer \xe0 la session (optionnel)")))),(0,a.kt)("admonition",l({},{type:"note"}),(0,a.kt)("p",{parentName:"admonition"},"Les privil\xe8ges et les r\xf4les sont d\xe9finis dans le fichier ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/next/ORDA/privileges#rolesjson-file"}),(0,a.kt)("inlineCode",{parentName:"a"},"roles.json"))," du projet. Pour plus d'informations, veuillez vous reporter \xe0 la section ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/next/ORDA/privileges"}),(0,a.kt)("strong",{parentName:"a"},"Privileges"))," .")),(0,a.kt)("p",null,"Si la propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},"privileges")," ou ",(0,a.kt)("inlineCode",{parentName:"p"},"roles")," contient un nom qui n'est pas d\xe9clar\xe9 dans le fichier ",(0,a.kt)("a",l({parentName:"p"},{href:"/docs/fr/next/ORDA/privileges#rolesjson-file"}),(0,a.kt)("inlineCode",{parentName:"a"},"roles.json"))," , elle est ignor\xe9e."),(0,a.kt)("p",null,"Par d\xe9faut lorsqu'aucun privil\xe8ge ou r\xf4le n'est associ\xe9 \xe0 la session, la session est une ",(0,a.kt)("a",l({parentName:"p"},{href:"#isguest"}),"session Guest"),"."),(0,a.kt)("p",null,"La propri\xe9t\xe9 ",(0,a.kt)("a",l({parentName:"p"},{href:"#username"}),(0,a.kt)("inlineCode",{parentName:"a"},"userName"))," est accessible au niveau de l'objet session (lecture seulement)."),(0,a.kt)("h4",l({},{id:"exemple-6"}),"Exemple"),(0,a.kt)("p",null,"Dans une m\xe9thode d'authentification personnalis\xe9e, vous assignez le privil\xe8ge \"WebAdmin\" \xe0 l'utilisateur :"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"var $userOK : Boolean\n\n... //Authentifier l'utilisateur\n\nIf ($userOK) //L'utilisateur a \xe9t\xe9 approuv\xe9\n  var $info : Object\n  $info:=New object()\n  $info.privileges:=New collection(\"WebAdmin\")\n  Session.setPrivileges($info)\nEnd if\n\n")),(0,a.kt)("h2",l({},{id:"storage"}),".storage"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Version"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"v20 R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Support of remote client and stored procedure sessions")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".storage")," : Object"),(0,a.kt)("h4",l({},{id:"description-9"}),"Description"),(0,a.kt)("p",null,"La propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},".storage")," contient a shared object that can be used to store information available to all processes of the session."),(0,a.kt)("p",null,"Lorsqu'un objet ",(0,a.kt)("inlineCode",{parentName:"p"},"Session")," est cr\xe9\xe9, la propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},".storage")," est vide. Puisqu'il s'agit d'un objet partag\xe9, cette propri\xe9t\xe9 sera disponible dans l'objet ",(0,a.kt)("inlineCode",{parentName:"p"},"Storage")," du serveur."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Tout comme l'objet ",(0,a.kt)("inlineCode",{parentName:"p"},"Storage")," du serveur, la propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},".storage")," est toujours \"single\" : l'ajout d'un objet partag\xe9 ou d'une collection partag\xe9e \xe0 ",(0,a.kt)("inlineCode",{parentName:"p"},".storage")," ne cr\xe9e pas de groupe partag\xe9.")),(0,a.kt)("p",null,"Cette propri\xe9t\xe9 est elle-m\xeame en ",(0,a.kt)("strong",{parentName:"p"},"lecture seulement")," mais elle retourne un objet en lecture-\xe9criture."),(0,a.kt)(r.Z,{mdxType:"Tabs"},(0,a.kt)(i.Z,{value:"Web session example",mdxType:"TabItem"},(0,a.kt)("p",null,"You want to store the client IP in the ",(0,a.kt)("inlineCode",{parentName:"p"},".storage")," property. You can write in the ",(0,a.kt)("inlineCode",{parentName:"p"},"On Web Authentication")," database method:"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'If (Session.storage.clientIP=Null) //first access\n    Use (Session.storage)\n        Session.storage.clientIP:=New shared object("value"; $clientIP)\n    End use\nEnd if\n\n'))),(0,a.kt)(i.Z,{value:"Remote session example",mdxType:"TabItem"},(0,a.kt)("p",null,"You want to share data between processes in the same session:"),(0,a.kt)("pre",null,(0,a.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'Use (Session.storage)\n Session.storage.settings:=New shared object("property"; $value; "property2"; $value2)\nEnd use\n')))),(0,a.kt)("h2",l({},{id:"username"}),".userName"),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Historique"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Version"),(0,a.kt)("th",l({parentName:"tr"},{align:null}),"Modifications"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"v20 R5"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Support of remote client and stored procedure sessions")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,a.kt)("td",l({parentName:"tr"},{align:null}),"Ajout"))))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},".userName")," : Text"),(0,a.kt)("h4",l({},{id:"description-10"}),"Description"),(0,a.kt)("p",null,"La propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"p"},".userName")," contient le nom d'utilisateur associ\xe9 \xe0 la session. Vous pouvez vous en servir pour identifier l'utilisateur dans votre code."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"With web sessions, this property is an empty string by default. Elle peut \xeatre d\xe9finie via la propri\xe9t\xe9 ",(0,a.kt)("inlineCode",{parentName:"li"},"privileges")," de la fonction ",(0,a.kt)("a",l({parentName:"li"},{href:"#setprivileges"}),(0,a.kt)("inlineCode",{parentName:"a"},"setPrivileges()")),"."),(0,a.kt)("li",{parentName:"ul"},"With remote and stored procedure sessions, this property returns the same user name as the ",(0,a.kt)("a",l({parentName:"li"},{href:"https://doc.4d.com/4dv20/help/command/en/page182.html"}),(0,a.kt)("inlineCode",{parentName:"a"},"Current user"))," command.")),(0,a.kt)("p",null,"Cette propri\xe9t\xe9 est en ",(0,a.kt)("strong",{parentName:"p"},"lecture seule"),"."))}N.isMDXComponent=!0}}]);