"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[58404],{814903:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>a});var l=t(474848),o=t(28453);const s={id:"new-collection",title:"New collection",slug:"/commands/new-collection",displayed_sidebar:"docs"},c=void 0,i={id:"commands-legacy/new-collection",title:"New collection",description:"New collection {( value {; value2 ; ... ; valueN} )} -> Function result",source:"@site/docs/commands-legacy/new-collection.md",sourceDirName:"commands-legacy",slug:"/commands/new-collection",permalink:"/docs/next/commands/new-collection",draft:!1,unlisted:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fnew-collection.md%20(current)&body=Please%20enter%20your%20comment%3A",tags:[],version:"current",frontMatter:{id:"new-collection",title:"New collection",slug:"/commands/new-collection",displayed_sidebar:"docs"},sidebar:"docs",previous:{title:"COLLECTION TO ARRAY",permalink:"/docs/next/commands/collection-to-array"},next:{title:"New shared collection",permalink:"/docs/next/commands/new-shared-collection"}},r={},a=[{value:"Description",id:"description",level:4},{value:"Example 1",id:"example-1",level:4},{value:"Example 2",id:"example-2",level:4},{value:"Example 3",id:"example-3",level:4},{value:"See also",id:"see-also",level:4}];function d(e){const n={a:"a",br:"br",code:"code",em:"em",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"New collection"})," {( ",(0,l.jsx)(n.em,{children:"value"})," {; ",(0,l.jsx)(n.em,{children:"value2"})," ; ... ; ",(0,l.jsx)(n.em,{children:"valueN"}),"} )} -> Function result"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Parameter"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"value"}),(0,l.jsx)(n.td,{children:"Number, Text, Date, Object, Collection, Pointer"}),(0,l.jsx)(n.td,{children:"\ud83e\udc52"}),(0,l.jsx)(n.td,{children:"Collection's value(s)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Function result"}),(0,l.jsx)(n.td,{children:"Collection"}),(0,l.jsx)(n.td,{children:"\ud83e\udc50"}),(0,l.jsx)(n.td,{children:"New collection"})]})]})]}),"\n",(0,l.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.strong,{children:"New collection"})," command creates a new empty or prefilled collection and returns its reference."]}),"\n",(0,l.jsxs)(n.p,{children:["If you do not pass any parameters, ",(0,l.jsx)(n.strong,{children:"New collection"})," creates an empty collection and returns its reference."]}),"\n",(0,l.jsxs)(n.p,{children:["You must assign the returned reference to a 4D variable declared with ",(0,l.jsx)(n.a,{href:"c-collection.md",children:"C_COLLECTION"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note:"})," Keep in mind that ",(0,l.jsx)(n.a,{href:"c-collection.md",children:"C_COLLECTION"})," declares a variable of the ",(0,l.jsx)(n.a,{href:"#",title:"Array of object property values",children:"Collection"})," type but does not create any collection."]}),"\n",(0,l.jsxs)(n.p,{children:["Optionally, you can prefill the new collection by passing one or several ",(0,l.jsx)(n.em,{children:"value(s)"})," as parameter(s)."]}),"\n",(0,l.jsx)(n.p,{children:"Otherwise, you can add or modify elements subsequently through object notation assignment. For example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-4d",children:'\xa0myCol[10]:="My new element"\n'})}),"\n",(0,l.jsxs)(n.p,{children:["If the new element index is beyond the last existing element of the collection, the collection is automatically resized and all new intermediary elements are assigned a ",(0,l.jsx)(n.strong,{children:"null"})," value."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note:"})," For more information on object notation, please refer to the ",(0,l.jsx)(n.em,{children:"Using object notation"})," section."]}),"\n",(0,l.jsx)(n.p,{children:"You can pass any number of values of any supported type (number, text, date, pointer, object, collection...). Unlike arrays, collections can mix data of different types."}),"\n",(0,l.jsx)(n.p,{children:"You must pay attention to the following conversion issues:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:['If you pass a pointer, it is kept "as is"; it is evaluated using the ',(0,l.jsx)(n.a,{href:"/docs/next/commands/json-stringify",children:"JSON Stringify"})," command"]}),"\n",(0,l.jsxs)(n.li,{children:['Dates are stored as "yyyy-mm-dd" dates or strings with the "YYYY-MM-DDTHH:mm:ss.SSSZ" format, according to the current "dates inside objects" database setting (see ',(0,l.jsx)(n.em,{children:"Compatibility page"}),"). When converting 4D dates into text prior to storing them in the collection, by default the program takes the local time zone into account. You can modify this behavior using the Dates inside objects selector of the ",(0,l.jsx)(n.a,{href:"/docs/next/commands/set-database-parameter",children:"SET DATABASE PARAMETER"})," command."]}),"\n",(0,l.jsx)(n.li,{children:"If you pass a time, it is stored as a number of milliseconds (Real)."}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"example-1",children:"Example 1"}),"\n",(0,l.jsx)(n.p,{children:"You want to create a new empty collection and assign it to a 4D collection variable:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-4d",children:"\xa0var $myCol : Collection\n\xa0$myCol:=New collection\n\xa0\xa0//$myCol=[]\n"})}),"\n",(0,l.jsx)(n.h4,{id:"example-2",children:"Example 2"}),"\n",(0,l.jsx)(n.p,{children:"You want to create a prefilled collection:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-4d",children:'\xa0var $filledColl : Collection\n\xa0$filledColl:=New collection(33;"mike";"november";->myPtr;Current date)\n\xa0\xa0//$filledColl=[33,"mike","november","->myPtr","2017-03-28T22:00:00.000Z"]\n'})}),"\n",(0,l.jsx)(n.h4,{id:"example-3",children:"Example 3"}),"\n",(0,l.jsx)(n.p,{children:"You create a new collection and then add a new element:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-4d",children:'\xa0var $coll : Collection\n\xa0$coll:=New collection("a";"b";"c")\n\xa0\xa0//$coll=["a","b","c"]\n\xa0$coll[9]:="z"\xa0//add a 10th element with value "z"\n\xa0$vcolSize:=$coll.length\xa0//10\n\xa0\xa0//$coll=["a","b","c",null,null,null,null,null,null,"z"]\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note:"})," This example requires that object notation is activated in the database (see ",(0,l.jsx)(n.em,{children:"Object Notation"})," paragraph)."]}),"\n",(0,l.jsx)(n.h4,{id:"see-also",children:"See also"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"c-collection.md",children:"C_COLLECTION"}),(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.a,{href:"/docs/next/commands/new-shared-collection",children:"New shared collection"}),(0,l.jsx)(n.br,{}),"\n",(0,l.jsx)(n.a,{href:"/docs/next/commands/type",children:"Type"})]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>i});var l=t(296540);const o={},s=l.createContext(o);function c(e){const n=l.useContext(s);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),l.createElement(s.Provider,{value:n},e.children)}}}]);