---
id: markers
title: マーカー
---

These properties let you specify the precise location of markers on the vertical ruler of a **table form**. マーカーは主に出力フォームで使用されます。 マーカーはリストされる情報を制御し、ヘッダーやブレーク、詳細、フッターを設定します。 各エリア内に配置されたオブジェクトは、対応する場所に表示や印刷されます。

フォームが出力フォームとして使用されるときは、画面用であれ印刷用であれ、マーカー設定が考慮されて各エリアが指定された場所に表示/印刷されます。 また、サブフォームエリア内のリストフォームとしてフォームが使用される場合も出力マーカーは有効です。 ただし、フォームが入力フォームとして使用される場合、マーカー設定は無視されます。

これらのエリアに配置されたオブジェクトに割り当てられたメソッドは、適切なイベントが有効にされていれば、エリアが表示/印刷されるときに実行されます。 For example, a object method placed in the Header area is executed when the `On Header` event takes place.

***

## フォームブレーク

フォームブレークエリアはレコードリストの下に一回だけ表示あるいは印刷されます。

ブレークエリアは詳細マーカー (D) とブレークマーカー (B0) の間です。 There can be [several Break areas](#additional-areas) in your report.

ブレークエリアの大きさは変更することができます。 レコードデータではない情報 (説明や日付、時刻など) のほか、線やその他のグラフィック要素を表示するためにブレークエリアを使用できます。 印刷レポートでは、小計などのサマリ計算をおこなって印刷するために使用できます。

#### JSON 文法

| 名称          | データタイプ                        | とりうる値                                                                          |
| ----------- | ----------------------------- | ------------------------------------------------------------------------------ |
| markerBreak | integer \| integer collection | ブレークマーカーの位置 (ピクセル単位)、またはブレークマーカー位置のコレクションを指定します。<br/>最小値: 0 |

***

## フォーム詳細

フォーム詳細エリアは、レポート中のレコード毎に画面に表示されたり印刷されたりします。 詳細エリアはヘッダーマーカー (H) と詳細マーカー (D) の間です。

詳細エリアの大きさは変更することができます。 詳細エリアに配置したオブジェクトはレコード毎に表示または印刷されます。 主にフィールドや変数を配置して、各レコードの情報を表示/印刷しますが、他のオブジェクトを配置することもできます。

#### JSON 文法

| 名称         | データタイプ  | とりうる値             |
| ---------- | ------- | ----------------- |
| markerBody | integer | 詳細マーカーの位置。 最小値: 0 |

***

## フォームフッター

フォームフッターエリアは、画面ではレコードリストの下の表示されます。 印刷レポートの場合は、各ページの一番下に印刷されます。 フッターエリアはブレークマーカー (B0) とフッターマーカー (F) の間です。

フッターエリアの大きさは変更することができます。

フッターエリアを使用して画像、ページ番号、日付、また各ページの下部に配置したいテキストを何でも印刷できます。 通常、画面表示用の出力フォームでは、フッターエリアに検索や並べ替え、印刷などをおこなうためのボタンを配置します。 すべてのアクティブオブジェクトを配置できます。

#### JSON 文法

| 名称           | データタイプ  | とりうる値  |
| ------------ | ------- | ------ |
| markerFooter | integer | 最小値: 0 |

***

## フォームヘッダー

フォームヘッダーエリアは画面の一番上に表示され、また印刷時には各ページの一番上に印刷されます。 ヘッダーエリアはフォームの一番上からヘッダーマーカー (H) までの間です。

ヘッダーエリアの大きさは変更することができます。 ヘッダーエリアには列のタイトル、フォームの説明、その他の情報、会社ロゴなどの画像を配置します。

You can also place and use active objects in the Header area of output forms displayed as subforms, in the records display window or using the `DISPLAY SELECTION` and `MODIFY SELECTION` commands. 以下のようなアクティブオブジェクトを配置できます:

- ボタン、ピクチャーボタン
- コンボボックス、ドロップダウンリスト、ピクチャーポップアップメニュー
- 階層リスト、リストボックス
- ラジオボタン、チェックボックス、3Dチェックボックス
- 進捗インジケーター、ルーラー、ステッパー、スピナー

Standard actions such as `Add Subrecord`, `Cancel` (lists displayed using `DISPLAY SELECTION` and `MODIFY SELECTION`) or `Automatic splitter` can be assigned to the inserted buttons. The following events apply to the active objects you insert in the Header area: `On Load`, `On Clicked`, `On Header`, `On Printing Footer`, `On Double Clicked`, `On Drop`, `On Drag Over`, `On Unload`. Keep in mind that the form method is called with the `On Header` event after calling the object methods of the area.

The form can contains [additional header areas](#additional-areas) to be associated with additional breaks. レベル1ヘッダーは、最初のソートフィールドによりグループ化されたレコードが印刷される直前に印刷されます。

#### JSON 文法

| 名称           | データタイプ                        | とりうる値                                                                           |
| ------------ | ----------------------------- | ------------------------------------------------------------------------------- |
| markerHeader | integer \| integer collection | ヘッダーマーカーの位置 (ピクセル単位)、またはヘッダーマーカー位置のコレクションを指定します。 <br/>最小値: 0 |

## 追加マーカーの作成

レポート用に追加のブレークエリアやヘッダーエリアを作成できます。 これらの追加されたエリアを使用して、小計などの計算結果をレポートに印刷したり、その他の情報を効果的に表示することができます。

Additional areas are defined when you use a collection of positions in the [Form Break](#form-break) and [Form Header](#form-header) properties.

> In the 4D Form editor, you create additional control lines by holding down the **Alt** key while clicking the appropriate control marker.

フォームは常に、ヘッダー、詳細、ブレーク (レベル0)、およびフッターエリアを持った状態で作成されます。

ブレークレベル0 は、レポート対象の全レコードが印刷された後に実行されます。 追加のブレークマーカーはそれぞれ "ブレークレベル1"、"ブレークレベル2" などと呼ばれます。

レベル1のブレークは一番目のソートフィールドでグループ化されたレコードが印刷された後に発生します。

| ラベル | 説明       | 実行タイミング         |
| --- | -------- | --------------- |
| B1  | ブレークレベル1 | 一番目のソートフィールド印刷後 |
| B2  | ブレークレベル2 | 二番目のソートフィールド印刷後 |
| B3  | ブレークレベル3 | 三番目のソートフィールド印刷後 |

追加のヘッダーはブレークに関連付けられます。 レベル1ヘッダーは、最初のソートフィールドによりグループ化されたレコードが印刷される直前に印刷されます。

| ラベル | 説明       | 実行タイミング         |
| --- | -------- | --------------- |
| H1  | ヘッダーレベル1 | 一番目のソートフィールド印刷後 |
| H2  | ヘッダーレベル2 | 二番目のソートフィールド印刷後 |
| H3  | ヘッダーレベル3 | 三番目のソートフィールド印刷後 |

If you use the `Subtotal` function to initiate Break processing, you should create a Break area for every level of Break that will be generated by the sort order, minus one. ブレークエリアに何も印刷する必要がない場合、マーカーを移動してその高さを 0 にします。 ブレークエリアの数よりも多いフィールド数でソートすると、印刷時に最後のブレークエリアが繰り返されます。
