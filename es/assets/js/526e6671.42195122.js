"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[63555],{498744:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>p,default:()=>c,frontMatter:()=>s,metadata:()=>d,toc:()=>u});a(667294);var n=a(603905),l=a(793070),i=a(550551);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}const s={id:"SessionClass",title:"Session"},p=void 0,d={unversionedId:"API/SessionClass",id:"API/SessionClass",title:"Session",description:"Los objetos de sesi\xf3n son devueltos por el comando Session. Estos objetos ofrecen al desarrollador una interfaz que permite gestionar la sesi\xf3n de usuario actual y ejecutar acciones como almacenar datos contextuales, compartir informaci\xf3n entre procesos de sesi\xf3n, lanzar procesos preferentes relacionados con la sesi\xf3n o (s\xf3lo web) gestionar privilegios.",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/API/SessionClass.md",sourceDirName:"API",slug:"/API/SessionClass",permalink:"/docs/es/next/API/SessionClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FSessionClass.md%20(current)&body=Please%20enter%20your%20comment%3A",tags:[],version:"current",frontMatter:{id:"SessionClass",title:"Session"},sidebar:"docs",previous:{title:"POP3Transporter",permalink:"/docs/es/next/API/POP3TransporterClass"},next:{title:"Signal",permalink:"/docs/es/next/API/SignalClass"}},m={},u=[{value:"Tipos de sesiones",id:"tipos-de-sesiones",level:3},{value:"Resumen",id:"resumen",level:3},{value:"Session",id:"session",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:4},{value:"Sesiones web",id:"sesiones-web",level:4},{value:"Sesiones de cliente remoto",id:"sesiones-de-cliente-remoto",level:4},{value:"Sesi\xf3n de procedimientos almacenados",id:"sesi\xf3n-de-procedimientos-almacenados",level:4},{value:"Ejemplo",id:"ejemplo",level:4},{value:".clearPrivileges()",id:"clearprivileges",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-1",level:4},{value:"Ejemplo",id:"ejemplo-1",level:4},{value:".expirationDate",id:"expirationdate",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-2",level:4},{value:"Ejemplo",id:"ejemplo-2",level:4},{value:".getPrivileges()",id:"getprivileges",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-3",level:4},{value:"Ejemplo",id:"ejemplo-3",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n",level:4},{value:".hasPrivilege()",id:"hasprivilege",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-4",level:4},{value:"Ejemplo",id:"ejemplo-4",level:4},{value:".id",id:"id",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-5",level:4},{value:".idleTimeout",id:"idletimeout",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-6",level:4},{value:"Ejemplo",id:"ejemplo-5",level:4},{value:".info",id:"info",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-7",level:4},{value:".isGuest()",id:"isguest",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-8",level:4},{value:"Ejemplo",id:"ejemplo-6",level:4},{value:".setPrivileges()",id:"setprivileges",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-9",level:4},{value:"Ejemplo",id:"ejemplo-7",level:4},{value:"Ver tambi\xe9n",id:"ver-tambi\xe9n-1",level:4},{value:".storage",id:"storage",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-10",level:4},{value:".userName",id:"username",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-11",level:4}],k={toc:u};function c(e){var{components:t}=e,a=o(e,["components"]);return(0,n.kt)("wrapper",r({},k,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Los objetos de sesi\xf3n son devueltos por el comando ",(0,n.kt)("a",r({parentName:"p"},{href:"#session"}),(0,n.kt)("inlineCode",{parentName:"a"},"Session")),". Estos objetos ofrecen al desarrollador una interfaz que permite gestionar la sesi\xf3n de usuario actual y ejecutar acciones como almacenar datos contextuales, compartir informaci\xf3n entre procesos de sesi\xf3n, lanzar procesos preferentes relacionados con la sesi\xf3n o (s\xf3lo web) gestionar ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/es/next/ORDA/privileges"}),"privilegios"),"."),(0,n.kt)("h3",r({},{id:"tipos-de-sesiones"}),"Tipos de sesiones"),(0,n.kt)("p",null,"Esta clase admite tres tipos de sesiones:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"/docs/es/next/WebServer/sessions"}),(0,n.kt)("strong",{parentName:"a"},"Sesiones usuario web")),": las sesiones usuario web est\xe1n disponibles cuando ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/es/next/WebServer/sessions#enabling-sessions"}),"las sesiones escalables est\xe1n activas en su proyecto"),". Se utilizan para conexiones Web y REST, y se les pueden asignar privilegios."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"/docs/es/next/Desktop/clientServer#remote-user-sessions"}),"Sesiones usuario cliente remoto","*","*"),": en las aplicaciones cliente/servidor, los usuarios remotos tienen sus propias sesiones gestionadas en el servidor."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",r({parentName:"li"},{href:"https://doc.4d.com/4Dv20R5/4D/20-R5/4D-Server-and-the-4D-Language.300-6932726.en.html"}),(0,n.kt)("strong",{parentName:"a"},"Sesi\xf3n de procedimientos almacenados")),": todos los procedimientos almacenados ejecutados en el servidor comparten la misma sesi\xf3n usuario virtual.")),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"La disponibilidad de las propiedades y funciones del objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," depende del tipo de sesi\xf3n.")),(0,n.kt)("h3",r({},{id:"resumen"}),"Resumen"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#clearprivileges"}),(0,n.kt)("strong",{parentName:"a"},".clearPrivileges()")," : Boolean"),(0,n.kt)("br",null),"elimina todos los privilegios asociados a la sesi\xf3n y devuelve ",(0,n.kt)("strong",{parentName:"td"},"True")," si la ejecuci\xf3n se ha realizado correctamente")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#expirationdate"}),(0,n.kt)("strong",{parentName:"a"},".expirationDate")," : Text"),(0,n.kt)("br",null),"la fecha y hora de expiraci\xf3n de la cookie de sesi\xf3n")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#getprivileges"}),(0,n.kt)("strong",{parentName:"a"},".getPrivileges"),"() : Collection"),(0,n.kt)("br",null),"devuelve una colecci\xf3n de todos los nombres de privilegios asociados a la sesi\xf3n")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#hasprivilege"}),(0,n.kt)("strong",{parentName:"a"},".hasPrivilege"),"( ",(0,n.kt)("em",{parentName:"a"},"privilege")," : Text ) : Boolean"),(0,n.kt)("br",null),"devuelve True si ",(0,n.kt)("em",{parentName:"td"},"privilege")," est\xe1 asociado a la sesi\xf3n, y False en caso contrario")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#id"}),(0,n.kt)("strong",{parentName:"a"},".id")," : Text"),(0,n.kt)("br",null),"el identificador \xfanico (UUID) de la sesi\xf3n en el servidor")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#idletimeout"}),(0,n.kt)("strong",{parentName:"a"},".idleTimeout")," : Integer"),(0,n.kt)("br",null),"el tiempo de inactividad de la sesi\xf3n (en minutos), despu\xe9s del cual la sesi\xf3n es cerrada autom\xe1ticamente por 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#info"}),(0,n.kt)("strong",{parentName:"a"},".info")," : Object"),(0,n.kt)("br",null),"describe la sesi\xf3n del cliente remoto o del procedimiento almacenado en el servidor")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#isguest"}),(0,n.kt)("strong",{parentName:"a"},".isGuest()")," : Boolean"),(0,n.kt)("br",null),"devuelve True si la sesi\xf3n es una sesi\xf3n Guest (es decir, no tiene privilegios)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#setprivileges"}),(0,n.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"a"},"privilege")," : Text ) : Boolean",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"a"},"privileges")," : Collection )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"a"},"settings")," : Object ) : Boolean"),(0,n.kt)("br",null),"asocia a la sesi\xf3n los privilegios y/o roles definidos en el par\xe1metro y devuelve ",(0,n.kt)("strong",{parentName:"td"},"True")," si la ejecuci\xf3n se ha realizado correctamente")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#storage"}),(0,n.kt)("strong",{parentName:"a"},".storage")," : Object"),(0,n.kt)("br",null),"un objeto compartido que puede utilizarse para almacenar informaci\xf3n disponible para todos los procesos de la sesi\xf3n")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#username"}),(0,n.kt)("strong",{parentName:"a"},".userName")," : Text"),(0,n.kt)("br",null),"el nombre de usuario asociado a la sesi\xf3n")))),(0,n.kt)("h2",r({},{id:"session"}),"Session"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Soporte de cliente remoto y sesiones de procedimientos almacenados")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Session")," : 4D.Session"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.Session"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objeto Session")))),(0,n.kt)("h4",r({},{id:"descripci\xf3n"}),"Descripci\xf3n"),(0,n.kt)("p",null,"El comando ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," devuelve el objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," correspondiente a la sesi\xf3n usuario actual."),(0,n.kt)("p",null,"Dependiendo del proceso desde el que se llame al comando, la sesi\xf3n de usuario actual puede ser:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"una sesi\xf3n web (cuando las ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/es/next/WebServer/sessions#enabling-sessions"}),"sesiones escalables est\xe1n activadas"),"),"),(0,n.kt)("li",{parentName:"ul"},"una sesi\xf3n de cliente remoto,"),(0,n.kt)("li",{parentName:"ul"},"la sesi\xf3n de procedimientos almacenados.")),(0,n.kt)("p",null,"Para m\xe1s informaci\xf3n, consulte el p\xe1rrafo ",(0,n.kt)("a",r({parentName:"p"},{href:"#tipos-de-sesi%C3%B3n"}),"Tipos de sesi\xf3n"),"."),(0,n.kt)("p",null,"Si el comando se llama desde un contexto no soportado (aplicaci\xf3n monousuario, sesiones escalables desactivadas...), devuelve ",(0,n.kt)("em",{parentName:"p"},"Null"),"."),(0,n.kt)("h4",r({},{id:"sesiones-web"}),"Sesiones web"),(0,n.kt)("p",null,"El objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," de las sesiones web est\xe1 disponible desde cualquier proceso web:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"M\xe9todos base ",(0,n.kt)("inlineCode",{parentName:"li"},"On Web Authentication"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"On Web Connection")," y ",(0,n.kt)("inlineCode",{parentName:"li"},"On REST Authentication"),","),(0,n.kt)("li",{parentName:"ul"},"c\xf3digo procesado a trav\xe9s de las etiquetas 4D en las p\xe1ginas semidin\xe1micas (4DTEXT, 4DHTML, 4DEVAL, 4DSCRIPT/, 4DCODE)"),(0,n.kt)("li",{parentName:"ul"},'los m\xe9todos proyecto con el atributo "Available through 4D tags and URLs (4DACTION...)" y llamados a trav\xe9s de 4DACTION/ urls,'),(0,n.kt)("li",{parentName:"ul"},"m\xe9todos base ",(0,n.kt)("a",r({parentName:"li"},{href:"https://developer.4d.com/go-mobile/docs/4d/on-mobile-app-authentication"}),(0,n.kt)("inlineCode",{parentName:"a"},"On Mobile App Authentication"))," y ",(0,n.kt)("a",r({parentName:"li"},{href:"https://developer.4d.com/go-mobile/docs/4d/on-mobile-app-action"}),(0,n.kt)("inlineCode",{parentName:"a"},"On Mobile App Action"))," para peticiones m\xf3viles,"),(0,n.kt)("li",{parentName:"ul"},"Funciones ORDA ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/es/next/REST/classFunctions"}),"llamadas con peticiones REST"),".")),(0,n.kt)("p",null,"Para m\xe1s informaci\xf3n sobre las sesiones usuario web, consulte la secci\xf3n ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/es/next/WebServer/sessions"}),"Sesiones web"),"."),(0,n.kt)("h4",r({},{id:"sesiones-de-cliente-remoto"}),"Sesiones de cliente remoto"),(0,n.kt)("p",null,"El objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," de las sesiones cliente remotas est\xe1 disponible desde:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"M\xe9todos proyecto que tienen el atributo ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/es/next/Project/code-overview#execute-on-server"}),"Ejecutar en el Servidor"),' (se ejecutan en el proceso "twinned" del proceso cliente),'),(0,n.kt)("li",{parentName:"ul"},"Triggers,"),(0,n.kt)("li",{parentName:"ul"},"Los m\xe9todos base ",(0,n.kt)("inlineCode",{parentName:"li"},"On Server Open Connection")," y ",(0,n.kt)("inlineCode",{parentName:"li"},"On Server Shutdown Connection")," de la base de datos.")),(0,n.kt)("p",null,"Para m\xe1s informaci\xf3n sobre las sesiones usuario remoto, por favor consulte el p\xe1rrafo ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/es/next/Desktop/clientServer#remote-user-sessions"}),(0,n.kt)("strong",{parentName:"a"},"Sesiones usuario cliente remoto")),"."),(0,n.kt)("h4",r({},{id:"sesi\xf3n-de-procedimientos-almacenados"}),"Sesi\xf3n de procedimientos almacenados"),(0,n.kt)("p",null,"Todos los procesos de procedimientos almacenados comparten la misma sesi\xf3n virtual de usuario. El objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," de los procedimientos almacenados est\xe1 disponible desde:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"m\xe9todos llamados con el comando ",(0,n.kt)("a",r({parentName:"li"},{href:"https://doc.4d.com/4dv20/help/command/en/page373.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"Execute on server")),","),(0,n.kt)("li",{parentName:"ul"},"Los m\xe9todos base ",(0,n.kt)("inlineCode",{parentName:"li"},"On Server Startup"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"On Server Shutdown"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"On Backup Startup"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"On Backup Shutdown")," y ",(0,n.kt)("inlineCode",{parentName:"li"},"On System event"))),(0,n.kt)("p",null,"Para obtener informaci\xf3n sobre la sesi\xf3n de usuario virtual de los procedimientos almacenados, consulte la p\xe1gina ",(0,n.kt)("a",r({parentName:"p"},{href:"https://doc.4d.com/4Dv20R5/4D/20-R5/4D-Server-and-the-4D-Language.300-6932726.en.html"}),"4D Server y lenguaje 4D"),"."),(0,n.kt)("h4",r({},{id:"ejemplo"}),"Ejemplo"),(0,n.kt)("p",null,"Ha definido el m\xe9todo ",(0,n.kt)("inlineCode",{parentName:"p"},"action_Session"),' con el atributo "Disponible a trav\xe9s de etiquetas 4D y URLs". Se llama al m\xe9todo introduciendo la siguiente URL en el navegador:'),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{}),"IP:port/4DACTION/action_Session\n")),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'  //m\xe9todo action_Session\n Case of\n    :(Session#Null)\n       If(Session.hasPrivilege("WebAdmin")) //llamando a la funci\xf3n hasPrivilege\n          WEB SEND TEXT("4DACTION --\x3e Session is WebAdmin")\n       Else\n          WEB SEND TEXT("4DACTION --\x3e Session is not WebAdmin")\n       End if\n    Else\n       WEB SEND TEXT("4DACTION --\x3e Session is null")\n End case\n')),(0,n.kt)("h2",r({},{id:"clearprivileges"}),".clearPrivileges()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".clearPrivileges()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True si la ejecuci\xf3n se ha realizado correctamente")))),(0,n.kt)("h4",r({},{id:"descripci\xf3n-1"}),"Descripci\xf3n"),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Esta funci\xf3n no hace nada y siempre devuelve ",(0,n.kt)("strong",{parentName:"p"},"False")," con las sesiones de clientes remotos y de los procedimientos almacenados.")),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".clearPrivileges()")," elimina todos los privilegios asociados a la sesi\xf3n y devuelve ",(0,n.kt)("strong",{parentName:"p"},"True")," si la ejecuci\xf3n se ha realizado correctamente. Como resultado, la sesi\xf3n se convierte autom\xe1ticamente en una sesi\xf3n de invitado."),(0,n.kt)("h4",r({},{id:"ejemplo-1"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"//Invalidar una sesi\xf3n usuario web\nvar $isGuest : Boolean\nvar $isOK : Boolean\n\n$isOK:=Session.clearPrivileges()\n$isGuest:=Session.isGuest() //$isGuest es True\n")),(0,n.kt)("h2",r({},{id:"expirationdate"}),".expirationDate"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".expirationDate")," : Text"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-2"}),"Descripci\xf3n"),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Esta propiedad s\xf3lo est\xe1 disponible con sesiones de usuario web.")),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".expirationDate")," contiene la fecha y hora de expiraci\xf3n de la cookie de sesi\xf3n. El valor se expresa como texto en el formato ISO 8601: ",(0,n.kt)("inlineCode",{parentName:"p"},"YYYY-MM-DDTHH:MM:SS.mmmZ"),"."),(0,n.kt)("p",null,"Esta propiedad es de ",(0,n.kt)("strong",{parentName:"p"},"solo lectura"),". Se recalcula autom\xe1ticamente si se modifica el valor de la propiedad ",(0,n.kt)("a",r({parentName:"p"},{href:"#idletimeout"}),(0,n.kt)("inlineCode",{parentName:"a"},".idleTimeout")),"."),(0,n.kt)("h4",r({},{id:"ejemplo-2"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $expiration : Text\n$expiration:=Session.expirationDate //eg "2021-11-05T17:10:42Z"\n')),(0,n.kt)("h2",r({},{id:"getprivileges"}),".getPrivileges()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".getPrivileges"),"() : Collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Colecci\xf3n de nombres de privilegios (cadenas)")))),(0,n.kt)("h4",r({},{id:"descripci\xf3n-3"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".getPrivileges()")," devuelve una colecci\xf3n de todos los nombres de privilegios asociados a la sesi\xf3n."),(0,n.kt)("p",null,'Con sesiones de cliente remoto y procedimiento almacenado, esta funci\xf3n devuelve una colecci\xf3n que s\xf3lo contiene "WebAdmin".'),(0,n.kt)("admonition",r({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"Los privilegios se asignan a una Sesi\xf3n utilizando la funci\xf3n ",(0,n.kt)("a",r({parentName:"p"},{href:"#setprivileges"}),(0,n.kt)("inlineCode",{parentName:"a"},"setPrivileges()")),".")),(0,n.kt)("h4",r({},{id:"ejemplo-3"}),"Ejemplo"),(0,n.kt)("p",null,"Se ha definido el siguiente archivo ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/es/next/ORDA/privileges#rolesjson-file"}),(0,n.kt)("inlineCode",{parentName:"a"},"roles.json")),":"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-json"}),'{\n   "privileges":[\n      {\n         "privilege":"simple",\n         "includes":[\n\n         ]\n      },\n      {\n         "privilege":"medium",\n         "includes":[\n            "simple"\n         ]\n      }\n   ],\n   "roles":[\n      {\n         "role":"Medium",\n         "privileges":[\n            "medium"\n         ]\n      }\n   ],\n   "permissions":{\n      "allowed":[\n\n      ]\n   }\n}\n')),(0,n.kt)("p",null,"El rol de sesi\xf3n se asigna en una funci\xf3n datastore ",(0,n.kt)("inlineCode",{parentName:"p"},"authentify()"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"  //Clase Datastore\n\nexposed Function authentify($role : Text) : Text\n    Session.clearPrivileges()\n    Session.setPrivileges({roles: $role})\n")),(0,n.kt)("p",null,"Asumiendo que la funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},"authentify()"),' es llamada con el rol "Medium":'),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $privileges : Collection\n$privileges := Session.getPrivileges()\n//$privileges: ["simple","medium"]\n')),(0,n.kt)("h4",r({},{id:"ver-tambi\xe9n"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#setprivileges"}),".setPrivileges()"),(0,n.kt)("br",null),"\n",(0,n.kt)("a",r({parentName:"p"},{href:"https://blog.4d.com/permissions-inspect-the-privileges-in-the-session-for-an-easy-debugging"}),"Permissions \u2013 Inspect the privileges in the session for an easy debugging (blog post)")),(0,n.kt)("h2",r({},{id:"hasprivilege"}),".hasPrivilege()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".hasPrivilege"),"( ",(0,n.kt)("em",{parentName:"p"},"privilege")," : Text ) : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"privilege"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nombre del privilegio a verificar")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True si la sesi\xf3n tiene ",(0,n.kt)("em",{parentName:"td"},"privilege"),", False en caso contrario")))),(0,n.kt)("h4",r({},{id:"descripci\xf3n-4"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".hasPrivilege()")," devuelve True si ",(0,n.kt)("em",{parentName:"p"},"privilege")," est\xe1 asociado a la sesi\xf3n, y False en caso contrario."),(0,n.kt)("p",null,"Con sesiones de cliente remoto y de procedimientos almacenados, esta funci\xf3n siempre devuelve True, sea cual sea el ",(0,n.kt)("em",{parentName:"p"},"privilege"),"."),(0,n.kt)("h4",r({},{id:"ejemplo-4"}),"Ejemplo"),(0,n.kt)("p",null,'Quiere comprobar si el privilegio "WebAdmin" est\xe1 asociado a la sesi\xf3n usuario web:'),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'If (Session.hasPrivilege("WebAdmin"))\n    //Acceso concedido, no hacer nada\nElse\n    //Mostrar una p\xe1gina de autenticaci\xf3n\n\nEnd if\n')),(0,n.kt)("h2",r({},{id:"id"}),".id"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".id")," : Text"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-5"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".id")," contiene el identificador \xfanico (UUID) de la sesi\xf3n en el servidor. Esta cadena \xfanica es asignada autom\xe1ticamente por el servidor para cada sesi\xf3n y permite identificar sus procesos."),(0,n.kt)("h2",r({},{id:"idletimeout"}),".idleTimeout"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".idleTimeout")," : Integer"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-6"}),"Descripci\xf3n"),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Esta propiedad s\xf3lo est\xe1 disponible con sesiones de usuario web.")),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".idleTimeout")," contiene el tiempo de inactividad de la sesi\xf3n (en minutos), despu\xe9s del cual la sesi\xf3n es cerrada autom\xe1ticamente por 4D."),(0,n.kt)("p",null,"Si no se define esta propiedad, el valor por defecto es 60 (1h)."),(0,n.kt)("p",null,"Cuando se define esta propiedad, la propiedad ",(0,n.kt)("a",r({parentName:"p"},{href:"#expirationdate"}),(0,n.kt)("inlineCode",{parentName:"a"},"expirationDate"))," se actualiza en consecuencia."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"El valor no puede ser inferior a 60: si se define un valor inferior, el tiempo de espera se eleva hasta 60.")),(0,n.kt)("p",null,"Esta propiedad est\xe1 en ",(0,n.kt)("strong",{parentName:"p"},"lectura escritura"),"."),(0,n.kt)("h4",r({},{id:"ejemplo-5"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"If (Session.isGuest())\n        // Una sesi\xf3n de invitado se cerrar\xe1 tras 60 minutos de inactividad\n    Session.idleTimeout:=60\nElse\n        // Otras sesiones se cerrar\xe1n tras 120 minutos de inactividad\n    Session.idleTimeout:=120\nEnd if\n\n")),(0,n.kt)("h2",r({},{id:"info"}),".info"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".info")," : Object"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-7"}),"Descripci\xf3n"),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Esta propiedad s\xf3lo est\xe1 disponible con sesiones de cliente remoto y procedimientos almacenados.")),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".info")," describe la sesi\xf3n del cliente remoto o del procedimiento almacenado en el servidor."),(0,n.kt)("p",null,"El objeto ",(0,n.kt)("inlineCode",{parentName:"p"},".info")," es el mismo objeto que el devuelto por el comando ",(0,n.kt)("a",r({parentName:"p"},{href:"https://doc.4d.com/4dv20/help/command/en/page1495.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"Get process activity"))," para sesiones cliente remotas y procedimientos almacenados."),(0,n.kt)("p",null,"El objeto ",(0,n.kt)("inlineCode",{parentName:"p"},".info")," contiene las siguientes propiedades:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Tipo de sesi\xf3n: "remote" o "storedProcedure"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"userName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nombre de usuario 4D (mismo valor que ",(0,n.kt)("a",r({parentName:"td"},{href:"#username"}),(0,n.kt)("inlineCode",{parentName:"a"},".userName")),")")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"machineName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Sesiones remotas: nombre de la m\xe1quina remota. Sesi\xf3n de procedimientos almacenados: nombre del equipo servidor")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"systemUserName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Sesiones remotas: nombre de la sesi\xf3n del sistema abierta en la m\xe1quina remota.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"IPAddress"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Direcci\xf3n IP de la m\xe1quina remota")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"hostType"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Tipo de host: "windows" o "mac"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"creationDateTime"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Date ISO 8601"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Fecha y hora de creaci\xf3n de la sesi\xf3n")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"state"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Estado de la sesi\xf3n: "active", "postponed", "sleeping"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"UUID de sesi\xf3n (el mismo valor que ",(0,n.kt)("a",r({parentName:"td"},{href:"#id"}),(0,n.kt)("inlineCode",{parentName:"a"},".id")),")")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"persistentID"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"ID persistente de la sesi\xf3n")))),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Dado que ",(0,n.kt)("inlineCode",{parentName:"p"},".info")," es una propiedad calculada, se recomienda llamarla una vez y luego almacenarla en una variable local si se desea realizar alg\xfan procesamiento sobre sus propiedades.")),(0,n.kt)("h2",r({},{id:"isguest"}),".isGuest()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".isGuest()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True si la sesi\xf3n es una sesi\xf3n Guest, False en caso contrario")))),(0,n.kt)("h4",r({},{id:"descripci\xf3n-8"}),"Descripci\xf3n"),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Esta funci\xf3n siempre devuelve ",(0,n.kt)("strong",{parentName:"p"},"False")," con sesiones de cliente remoto y procedimientos almacenados.")),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".isGuest()")," devuelve True si la sesi\xf3n es una sesi\xf3n Guest (es decir, no tiene privilegios)."),(0,n.kt)("h4",r({},{id:"ejemplo-6"}),"Ejemplo"),(0,n.kt)("p",null,"En el m\xe9todo base ",(0,n.kt)("inlineCode",{parentName:"p"},"On Web Connection"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"If (Session.isGuest())\n    //Hacer algo para el usuario invitado\nEnd if\n")),(0,n.kt)("h2",r({},{id:"setprivileges"}),".setPrivileges()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"19 R8"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Compatibilidad con la propiedad "roles" en Settings')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"p"},"privilege")," : Text ) : Boolean",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"p"},"privileges")," : Collection )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object ) : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"privilege"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nombre del privilegio")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"privileges"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Colecci\xf3n de nombres de privilegios")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"settings"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Objeto con una propiedad "privilegios" (cadena o colecci\xf3n)')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True si la ejecuci\xf3n se ha realizado correctamente")))),(0,n.kt)("h4",r({},{id:"descripci\xf3n-9"}),"Descripci\xf3n"),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Esta funci\xf3n no hace nada y siempre devuelve ",(0,n.kt)("strong",{parentName:"p"},"False")," con las sesiones de clientes remotos y de los procedimientos almacenados.")),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".setPrivileges()")," asocia a la sesi\xf3n los privilegios y/o roles definidos en el par\xe1metro y devuelve ",(0,n.kt)("strong",{parentName:"p"},"True")," si la ejecuci\xf3n se ha realizado correctamente."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"En el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"privilege"),", pase una cadena que contenga un nombre de privilegio (o varios nombres de privilegio separados por comas).")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"En el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"privileges"),", pase una colecci\xf3n de cadenas que contengan nombres de privilegios.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"En el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"settings"),", pase un objeto que contenga las siguientes propiedades:"))),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"privileges"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text o Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("li",null,"Cadena que contiene un nombre de privilegio, o"),(0,n.kt)("li",null,"Colecci\xf3n de cadenas que contienen nombres de privilegios"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"roles"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text o Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("li",null,"Cadena que contiene un rol, o"),(0,n.kt)("li",null,"Colecci\xf3n de cadenas que contienen roles"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"userName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nombre de usuario para asociar a la sesi\xf3n (opcional)")))),(0,n.kt)("admonition",r({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Los privilegios y los roles se definen en el archivo ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/es/next/ORDA/privileges#rolesjson-file"}),(0,n.kt)("inlineCode",{parentName:"a"},"roles.json"))," del proyecto. Para m\xe1s informaci\xf3n, consulte la secci\xf3n ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/es/next/ORDA/privileges"}),(0,n.kt)("strong",{parentName:"a"},"Privilegios")),".")),(0,n.kt)("p",null,"Si la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},"privileges")," o ",(0,n.kt)("inlineCode",{parentName:"p"},"roles")," contiene un nombre que no est\xe1 declarado en el archivo ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/es/next/ORDA/privileges#rolesjson-file"}),(0,n.kt)("inlineCode",{parentName:"a"},"roles.json")),", se ignora."),(0,n.kt)("p",null,"Por defecto, cuando no hay ning\xfan privilegio o rol asociado a la sesi\xf3n, la sesi\xf3n es una ",(0,n.kt)("a",r({parentName:"p"},{href:"#isguest"}),"sesi\xf3n de invitado"),"."),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("a",r({parentName:"p"},{href:"#username"}),(0,n.kt)("inlineCode",{parentName:"a"},"userName"))," est\xe1 disponible a nivel de objeto de sesi\xf3n (s\xf3lo lectura)."),(0,n.kt)("h4",r({},{id:"ejemplo-7"}),"Ejemplo"),(0,n.kt)("p",null,'En un m\xe9todo de autenticaci\xf3n personalizado, se establece el privilegio "WebAdmin" para el usuario:'),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $userOK : Boolean\n\n... //Autenticar al usuario\n\nIf ($userOK) //El usuario ha sido aprobado\n  var $info : Object\n  $info:=New object()\n  $info.privileges:=New collection("WebAdmin")\n  Session.setPrivileges($info)\nEnd if\n\n')),(0,n.kt)("h4",r({},{id:"ver-tambi\xe9n-1"}),"Ver tambi\xe9n"),(0,n.kt)("p",null,(0,n.kt)("a",r({parentName:"p"},{href:"#getprivileges"}),".getPrivileges()")),(0,n.kt)("h2",r({},{id:"storage"}),".storage"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Soporte de cliente remoto y sesiones de procedimientos almacenados")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".storage")," : Object"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-10"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".storage")," contiene un objeto compartido que puede utilizarse para almacenar informaci\xf3n disponible para todos los procesos de la sesi\xf3n."),(0,n.kt)("p",null,"Cuando se crea un objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Session"),", la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".storage")," est\xe1 vac\xeda. Al ser un objeto compartido, esta propiedad estar\xe1 disponible en el objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Storage")," del servidor."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Al igual que el objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Storage")," del servidor, la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".storage"),' es siempre "single": a\xf1adir un objeto compartido o una colecci\xf3n compartida a ',(0,n.kt)("inlineCode",{parentName:"p"},".storage")," no crea un grupo compartido.")),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"s\xf3lo lectura")," en s\xed misma pero devuelve un objeto de lectura-escritura."),(0,n.kt)(l.Z,{mdxType:"Tabs"},(0,n.kt)(i.Z,{value:"Web session example",mdxType:"TabItem"},(0,n.kt)("p",null,"Desea almacenar la IP del cliente en la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".storage"),". Puede escribir en el m\xe9todo base ",(0,n.kt)("inlineCode",{parentName:"p"},"On Web Authentication"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'If (Session.storage.clientIP=Null) //first access\n    Use (Session.storage)\n        Session.storage.clientIP:=New shared object("value"; $clientIP)\n    End use\nEnd if\n'))),(0,n.kt)(i.Z,{value:"Remote session example",mdxType:"TabItem"},(0,n.kt)("p",null,"Desea compartir datos entre procesos de la misma sesi\xf3n:"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'Use (Session.storage)\n Session.storage.settings:=New shared object("property"; $value; "property2"; $value2)\nEnd use\n')))),(0,n.kt)("h2",r({},{id:"username"}),".userName"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Historia"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Lanzamiento"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"20 R5"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Soporte de cliente remoto y sesiones de procedimientos almacenados")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".userName")," : Text"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-11"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".userName")," contiene el nombre de usuario asociado a la sesi\xf3n. Puede utilizarlo para identificar al usuario dentro de su c\xf3digo."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Con las sesiones web, esta propiedad es una cadena vac\xeda por defecto. Puede definirse mediante la propiedad ",(0,n.kt)("inlineCode",{parentName:"li"},"privileges")," de la funci\xf3n ",(0,n.kt)("a",r({parentName:"li"},{href:"#setprivileges"}),(0,n.kt)("inlineCode",{parentName:"a"},"setPrivileges()")),"."),(0,n.kt)("li",{parentName:"ul"},"Con sesiones remotas y de procedimientos almacenados, esta propiedad devuelve el mismo nombre de usuario que el comando ",(0,n.kt)("a",r({parentName:"li"},{href:"https://doc.4d.com/4dv20/help/command/en/page182.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"Current userl")),".")),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"solo lectura"),"."))}c.isMDXComponent=!0}}]);