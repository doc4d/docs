"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[63555],{498744:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>p,default:()=>c,frontMatter:()=>o,metadata:()=>d,toc:()=>u});a(667294);var n=a(603905),r=a(793070),i=a(550551);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const o={id:"SessionClass",title:"Session"},p=void 0,d={unversionedId:"API/SessionClass",id:"API/SessionClass",title:"Session",description:"Session objects are returned by the Session command. These objects provide the developer with an interface allowing to manage the current user session and execute actions such as store contextual data, share information between session processes, launch session-related preemptive processes, or (web only) manage privileges.",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/API/SessionClass.md",sourceDirName:"API",slug:"/API/SessionClass",permalink:"/docs/es/next/API/SessionClass",draft:!1,editUrl:"https://github.com/4d/docs/issues/new?title=Comment%20on%20API%2FSessionClass.md%20(current)&body=Please%20enter%20your%20comment%3A",tags:[],version:"current",frontMatter:{id:"SessionClass",title:"Session"},sidebar:"docs",previous:{title:"POP3Transporter",permalink:"/docs/es/next/API/POP3TransporterClass"},next:{title:"Signal",permalink:"/docs/es/next/API/SignalClass"}},m={},u=[{value:"Session types",id:"session-types",level:3},{value:"Resumen",id:"resumen",level:3},{value:"Session",id:"session",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:4},{value:"Web sessions",id:"web-sessions",level:4},{value:"Remote client sessions",id:"remote-client-sessions",level:4},{value:"Stored procedures session",id:"stored-procedures-session",level:4},{value:"Ejemplo",id:"ejemplo",level:4},{value:".clearPrivileges()",id:"clearprivileges",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-1",level:4},{value:"Ejemplo",id:"ejemplo-1",level:4},{value:".expirationDate",id:"expirationdate",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-2",level:4},{value:"Ejemplo",id:"ejemplo-2",level:4},{value:".hasPrivilege()",id:"hasprivilege",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-3",level:4},{value:"Ejemplo",id:"ejemplo-3",level:4},{value:".id",id:"id",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-4",level:4},{value:".idleTimeout",id:"idletimeout",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-5",level:4},{value:"Ejemplo",id:"ejemplo-4",level:4},{value:".info",id:"info",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-6",level:4},{value:".isGuest()",id:"isguest",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-7",level:4},{value:"Ejemplo",id:"ejemplo-5",level:4},{value:".setPrivileges()",id:"setprivileges",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-8",level:4},{value:"Ejemplo",id:"ejemplo-6",level:4},{value:".storage",id:"storage",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-9",level:4},{value:".userName",id:"username",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-10",level:4}],k={toc:u};function c(e){var{components:t}=e,a=s(e,["components"]);return(0,n.kt)("wrapper",l({},k,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Session objects are returned by the ",(0,n.kt)("a",l({parentName:"p"},{href:"#session"}),(0,n.kt)("inlineCode",{parentName:"a"},"Session"))," command. These objects provide the developer with an interface allowing to manage the current user session and execute actions such as store contextual data, share information between session processes, launch session-related preemptive processes, or (web only) manage ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/next/ORDA/privileges"}),"privileges"),"."),(0,n.kt)("h3",l({},{id:"session-types"}),"Session types"),(0,n.kt)("p",null,"Three types of sessions are supported by this class:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/next/WebServer/sessions"}),(0,n.kt)("strong",{parentName:"a"},"Web user sessions")),": Web user sessions are available when ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/next/WebServer/sessions#enabling-sessions"}),"scalable sessions are enabled in your project"),". They are used for Web and REST connections, and can be assigned privileges."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/next/Desktop/clientServer#remote-user-sessions"}),(0,n.kt)("strong",{parentName:"a"},"Remote client user sessions")),": In client/server applications, remote users have their own sessions managed on the server."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",l({parentName:"li"},{href:"https://doc.4d.com/4Dv20R5/4D/20-R5/4D-Server-and-the-4D-Language.300-6932726.en.html"}),(0,n.kt)("strong",{parentName:"a"},"Stored procedures session")),": All stored procedures executed on the server share the same virtual user session.")),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"The availability of properties and functions in the ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," object depend on the session type.")),(0,n.kt)("h3",l({},{id:"resumen"}),"Resumen"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#clearprivileges"}),(0,n.kt)("strong",{parentName:"a"},".clearPrivileges()")," : Boolean"),"\xa0","\xa0","\xa0","\xa0","removes all the privileges associated to the session and returns ",(0,n.kt)("strong",{parentName:"td"},"True")," if the execution was successful")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#expirationdate"}),(0,n.kt)("strong",{parentName:"a"},".expirationDate")," : Text"),"\xa0","\xa0","\xa0","\xa0","la fecha y la hora de expiraci\xf3n de la cookie de sesi\xf3n")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#hasprivilege"}),(0,n.kt)("strong",{parentName:"a"},".hasPrivilege"),"( ",(0,n.kt)("em",{parentName:"a"},"privilege")," : Text ) : Boolean"),"\xa0","\xa0","\xa0","\xa0","devuelve True si el privilegio est\xe1 asociado a la sesi\xf3n, y False en caso contrario")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#id"}),(0,n.kt)("strong",{parentName:"a"},".id")," : Text"),"\xa0","\xa0","\xa0","\xa0","the unique identifier (UUID) of the session on the server")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#idletimeout"}),(0,n.kt)("strong",{parentName:"a"},".idleTimeout")," : Integer"),"\xa0","\xa0","\xa0","\xa0","el tiempo de inactividad de la sesi\xf3n (en minutos), despu\xe9s del cual la sesi\xf3n es cerrada autom\xe1ticamente por 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#info"}),(0,n.kt)("strong",{parentName:"a"},".info")," : Object"),"\xa0","\xa0","\xa0","\xa0","describes the remote client or stored procedure session on the server")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#isguest"}),(0,n.kt)("strong",{parentName:"a"},".isGuest()")," : Boolean"),"\xa0","\xa0","\xa0","\xa0","devuelve True si la sesi\xf3n es una sesi\xf3n de invitado (es decir, no tiene privilegios)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#setprivileges"}),(0,n.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"a"},"privilege")," : Text ) : Boolean",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"a"},"privileges")," : Collection )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"a"},"settings")," : Object ) : Boolean"),"\xa0","\xa0","\xa0","\xa0","associates the privilege(s) and/or role(s) defined in the parameter to the session and returns ",(0,n.kt)("strong",{parentName:"td"},"True")," if the execution was successful")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#storage"}),(0,n.kt)("strong",{parentName:"a"},".storage")," : Object"),"\xa0","\xa0","\xa0","\xa0","a shared object that can be used to store information available to all processes of the session")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("a",l({parentName:"td"},{href:"#username"}),(0,n.kt)("strong",{parentName:"a"},".userName")," : Text"),"\xa0","\xa0","\xa0","\xa0","el nombre de usuario asociado a la sesi\xf3n")))),(0,n.kt)("h2",l({},{id:"session"}),"Session"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"v20 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Support of remote client and stored procedure sessions")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Session")," : 4D.Session"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D.Session"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Objeto Session")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n"}),"Descripci\xf3n"),(0,n.kt)("p",null,"El comando ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," returns the ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," object corresponding to the current user session."),(0,n.kt)("p",null,"Depending on the process from which the command is called, the current user session can be:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"a web session (when ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/next/WebServer/sessions#enabling-sessions"}),"scalable sessions are enabled"),"),"),(0,n.kt)("li",{parentName:"ul"},"a remote client session,"),(0,n.kt)("li",{parentName:"ul"},"the stored procedures session.")),(0,n.kt)("p",null,"For more information, see the ",(0,n.kt)("a",l({parentName:"p"},{href:"#session-types"}),"Session types")," paragraph."),(0,n.kt)("p",null,"If the command is called from a non supported context (single-user application, scalable sessions disabled...), it returns ",(0,n.kt)("em",{parentName:"p"},"Null"),"."),(0,n.kt)("h4",l({},{id:"web-sessions"}),"Web sessions"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," object of web sessions is available from any web process:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"M\xe9todos base ",(0,n.kt)("inlineCode",{parentName:"li"},"On Web Authentication"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"On Web Connection"),", y ",(0,n.kt)("inlineCode",{parentName:"li"},"On REST Authentication"),","),(0,n.kt)("li",{parentName:"ul"},"c\xf3digo procesado a trav\xe9s de las etiquetas 4D en las p\xe1ginas semidin\xe1micas (4DTEXT, 4DHTML, 4DEVAL, 4DSCRIPT/, 4DCODE)"),(0,n.kt)("li",{parentName:"ul"},'los m\xe9todos proyecto con el atributo "Available through 4D tags and URLs (4DACTION...)" y llamados a trav\xe9s de 4DACTION/ urls,'),(0,n.kt)("li",{parentName:"ul"},"M\xe9todos base ",(0,n.kt)("a",l({parentName:"li"},{href:"https://developer.4d.com/go-mobile/docs/4d/on-mobile-app-authentication"}),(0,n.kt)("inlineCode",{parentName:"a"},"On Mobile App Authentication"))," y ",(0,n.kt)("a",l({parentName:"li"},{href:"https://developer.4d.com/go-mobile/docs/4d/on-mobile-app-action"}),(0,n.kt)("inlineCode",{parentName:"a"},"On Mobile App Action"))," para las peticiones m\xf3viles,"),(0,n.kt)("li",{parentName:"ul"},"ORDA functions ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/next/REST/classFunctions"}),"called with REST requests"),".")),(0,n.kt)("p",null,"For more information on web user sessions, please refer to the ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/next/WebServer/sessions"}),"Web Server Sessions")," section."),(0,n.kt)("h4",l({},{id:"remote-client-sessions"}),"Remote client sessions"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," object of remote client sessions is available from:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Project methods that have the ",(0,n.kt)("a",l({parentName:"li"},{href:"/docs/es/next/Project/code-overview#execute-on-server"}),"Execute on Server"),' attribute (they are executed in the "twinned" process of the client process),'),(0,n.kt)("li",{parentName:"ul"},"Triggers,"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"On Server Open Connection")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"On Server Shutdown Connection")," database methods.")),(0,n.kt)("p",null,"For more information on remote user sessions, please refer to the ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/next/Desktop/clientServer#remote-user-sessions"}),(0,n.kt)("strong",{parentName:"a"},"Remote client user sessions"))," paragraph."),(0,n.kt)("h4",l({},{id:"stored-procedures-session"}),"Stored procedures session"),(0,n.kt)("p",null,"All stored procedure processes share the same virtual user session. The ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," object of stored procedures is available from:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"methods called with the ",(0,n.kt)("a",l({parentName:"li"},{href:"https://doc.4d.com/4dv20/help/command/en/page373.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"Execute on server"))," command,"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"On Server Startup"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"On Server Shutdown"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"On Backup Startup"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"On Backup Shutdown"),", and ",(0,n.kt)("inlineCode",{parentName:"li"},"On System event")," database methods")),(0,n.kt)("p",null,"For information on stored procedures virtual user session, please refer to the ",(0,n.kt)("a",l({parentName:"p"},{href:"XXX"}),"XXXX")," page."),(0,n.kt)("h4",l({},{id:"ejemplo"}),"Ejemplo"),(0,n.kt)("p",null,"Ha definido el m\xe9todo ",(0,n.kt)("inlineCode",{parentName:"p"},"action_Session"),' con el atributo "Available through 4D tags and URLs". Se llama al m\xe9todo introduciendo la siguiente URL en el navegador:'),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{}),"IP:port/4DACTION/action_Session\n")),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'  //action_Session method\n Case of\n    :(Session#Null)\n       If(Session.hasPrivilege("WebAdmin")) //calling the hasPrivilege function\n          WEB SEND TEXT("4DACTION --\x3e Session is WebAdmin")\n       Else\n          WEB SEND TEXT("4DACTION --\x3e Session is not WebAdmin")\n       End if\n    Else\n       WEB SEND TEXT("4DACTION --\x3e Session is null")\n End case\n')),(0,n.kt)("h2",l({},{id:"clearprivileges"}),".clearPrivileges()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".clearPrivileges()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True if the execution is successful")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-1"}),"Descripci\xf3n"),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Since privileges are only supported in web user sessions, this function does nothing and always returns ",(0,n.kt)("strong",{parentName:"p"},"False")," in other session types.")),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".clearPrivileges()")," removes all the privileges associated to the session and returns ",(0,n.kt)("strong",{parentName:"p"},"True")," if the execution was successful. Como resultado, la sesi\xf3n se convierte autom\xe1ticamente en una sesi\xf3n de invitado."),(0,n.kt)("h4",l({},{id:"ejemplo-1"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"//Invalidate a session\nvar $isGuest : Boolean\nvar $isOK : Boolean\n\n$isOK:=Session.clearPrivileges()\n$isGuest:=Session.isGuest() //$isGuest is True\n")),(0,n.kt)("h2",l({},{id:"expirationdate"}),".expirationDate"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".expirationDate")," : Text"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-2"}),"Descripci\xf3n"),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"This property is only available with web user sessions.")),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".expirationDate")," contiene la fecha y la hora de expiraci\xf3n de la cookie de sesi\xf3n. ."),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"de s\xf3lo lectura"),". Se vuelve a calcular autom\xe1ticamente si se modifica el valor de la propiedad ",(0,n.kt)("a",l({parentName:"p"},{href:"#idletimeout"}),(0,n.kt)("inlineCode",{parentName:"a"},".idleTimeout")),"."),(0,n.kt)("h4",l({},{id:"ejemplo-2"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $expiration : Text\n$expiration:=Session.expirationDate //eg "2021-11-05T17:10:42Z"\n')),(0,n.kt)("h2",l({},{id:"hasprivilege"}),".hasPrivilege()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".hasPrivilege"),"( ",(0,n.kt)("em",{parentName:"p"},"privilege")," : Text ) : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"privilege"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre del privilegio a verificar")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si la sesi\xf3n tiene ",(0,n.kt)("em",{parentName:"td"},"privilege"),", False en caso contrario")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-3"}),"Descripci\xf3n"),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Since privileges are only supported in web user sessions, this function does nothing and always returns ",(0,n.kt)("strong",{parentName:"p"},"False")," in other session types.")),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".hasPrivilege()")," devuelve True si el privilegio est\xe1 asociado a la sesi\xf3n, y False en caso contrario."),(0,n.kt)("h4",l({},{id:"ejemplo-3"}),"Ejemplo"),(0,n.kt)("p",null,'Quiere comprobar si el privilegio "WebAdmin" est\xe1 asociado a la sesi\xf3n:'),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'If (Session.hasPrivilege("WebAdmin"))\n    //El acceso est\xe1 concedido, no haga nada\nElse\n    //Mostrar una p\xe1gina de autenticaci\xf3n\n\nEnd if\n')),(0,n.kt)("h2",l({},{id:"id"}),".id"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"v20 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".id")," : Text"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-4"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".id")," contiene the unique identifier (UUID) of the session on the server. This unique string is automatically assigned by the server for each session and allows you to identify its processes. "),(0,n.kt)("h2",l({},{id:"idletimeout"}),".idleTimeout"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".idleTimeout")," : Integer"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-5"}),"Descripci\xf3n"),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"This property is only available with web user sessions.")),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".idleTimeout")," contiene el tiempo de inactividad de la sesi\xf3n (en minutos), despu\xe9s del cual la sesi\xf3n es cerrada autom\xe1ticamente por 4D."),(0,n.kt)("p",null,"Si no se define esta propiedad, el valor por defecto es 60 (1h)."),(0,n.kt)("p",null,"Cuando se define esta propiedad, la propiedad ",(0,n.kt)("a",l({parentName:"p"},{href:"#expirationdate"}),(0,n.kt)("inlineCode",{parentName:"a"},".expirationDate"))," se actualiza en consecuencia."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"El valor no puede ser inferior a 60: si se define un valor inferior, el tiempo de espera se eleva hasta 60.")),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"de s\xf3lo escritura"),"."),(0,n.kt)("h4",l({},{id:"ejemplo-4"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"If (Session.isGuest())\n        // Una sesi\xf3n de invitado se cerrar\xe1 tras 60 minutos de inactividad\n    Session.idleTimeout:=60\nElse\n        // Las dem\xe1s sesiones se cerrar\xe1n tras 120 minutos de inactividad\n    Session.idleTimeout:=120\nEnd if\n\n")),(0,n.kt)("h2",l({},{id:"info"}),".info"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"v20 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".info")," : Object"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-6"}),"Descripci\xf3n"),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"This property is only available with remote client and stored procedure sessions.")),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".info")," property describes the remote client or stored procedure session on the server."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".info")," object is the same object as the one returned by the ",(0,n.kt)("a",l({parentName:"p"},{href:"https://doc.4d.com/4dv20/help/command/en/page1495.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"Get process activity"))," command for remote client and stored procedure sessions."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".info")," object contains the following properties:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"type"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Session type: "remote" or "storedProcedure"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"userName"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"4D user name (same value as ",(0,n.kt)("a",l({parentName:"td"},{href:"#username"}),(0,n.kt)("inlineCode",{parentName:"a"},".userName")),")")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"machineName"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Remote sessions: name of the remote machine. Stored procedures session: name of the server machine")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"systemUserName"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Remote sessions: name of the system session opened on the remote machine.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"IPAddress"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"IP address of the remote machine")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"hostType"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Host type: "windows" or "mac"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"creationDateTime"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Date ISO 8601"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Date and time of session creation")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"state"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Session state: "active", "postponed", "sleeping"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"ID"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Session UUID (same value as ",(0,n.kt)("a",l({parentName:"td"},{href:"#id"}),(0,n.kt)("inlineCode",{parentName:"a"},".id")),")")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"persistentID"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Session's persistent ID")))),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Since ",(0,n.kt)("inlineCode",{parentName:"p"},".info")," is a computed property, it is recommended to call it once and then to store it in a local variable if you want to do some processing on its properties.")),(0,n.kt)("h2",l({},{id:"isguest"}),".isGuest()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".isGuest()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True si la sesi\xf3n es una sesi\xf3n Guest, False en caso contrario")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-7"}),"Descripci\xf3n"),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"This function always returns ",(0,n.kt)("strong",{parentName:"p"},"True")," with remote client and stored procedure sessions.")),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".isGuest()")," devuelve True si la sesi\xf3n es una sesi\xf3n de invitado (es decir, no tiene privilegios)."),(0,n.kt)("h4",l({},{id:"ejemplo-5"}),"Ejemplo"),(0,n.kt)("p",null,"En el m\xe9todo base ",(0,n.kt)("inlineCode",{parentName:"p"},"On Web Connection"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),"If (Session.isGuest())\n    //Hacer algo para el usuario invitado\nEnd if\n")),(0,n.kt)("h2",l({},{id:"setprivileges"}),".setPrivileges()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"v19 R8"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Compatibilidad con la propiedad "roles" en Settings')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"p"},"privilege")," : Text ) : Boolean",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"p"},"privileges")," : Collection )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object ) : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:"center"})),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"privilege"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre del privilegio")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"privileges"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Colecci\xf3n de nombres de privilegios")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"settings"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),'Objeto con una propiedad "privilegios" (cadena o colecci\xf3n)')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",l({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"True if the execution is successful")))),(0,n.kt)("h4",l({},{id:"descripci\xf3n-8"}),"Descripci\xf3n"),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Since privileges are only supported in web user sessions, this function does nothing and always returns ",(0,n.kt)("strong",{parentName:"p"},"False")," in other session types.")),(0,n.kt)("p",null,"La funci\xf3n ",(0,n.kt)("inlineCode",{parentName:"p"},".setPrivileges()")," associates the privilege(s) and/or role(s) defined in the parameter to the session and returns ",(0,n.kt)("strong",{parentName:"p"},"True")," if the execution was successful."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"En el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"privilege"),", pase una cadena que contenga un nombre de privilegio (o varios nombres de privilegio separados por comas).")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"En el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"privileges"),", pase una colecci\xf3n de cadenas que contengan nombres de privilegios.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"En el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"settings"),", pase un objeto que contenga las siguientes propiedades:"))),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Tipo"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"privileges"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text o Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("li",null,"Cadena que contiene un nombre de privilegio, o"),(0,n.kt)("li",null,"Colecci\xf3n de cadenas que contienen nombres de privilegios"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"roles"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text o Collection"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),(0,n.kt)("li",null,"Cadena que contiene un nombre de rol, o"),(0,n.kt)("li",null,"Colecci\xf3n de cadenas que contienen nombres de roles"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"userName"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Nombre de usuario para asociar a la sesi\xf3n (opcional)")))),(0,n.kt)("admonition",l({},{type:"note"}),(0,n.kt)("p",{parentName:"admonition"},"Los privilegios y los roles se definen en el archivo ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/next/ORDA/privileges#rolesjson-file"}),(0,n.kt)("inlineCode",{parentName:"a"},"roles.json"))," del proyecto. Para m\xe1s informaci\xf3n, consulte la secci\xf3n ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/next/ORDA/privileges"}),(0,n.kt)("strong",{parentName:"a"},"Privilegios")),".")),(0,n.kt)("p",null,"Si la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},"privileges")," o ",(0,n.kt)("inlineCode",{parentName:"p"},"roles")," contiene un nombre que no est\xe1 declarado en el archivo ",(0,n.kt)("a",l({parentName:"p"},{href:"/docs/es/next/ORDA/privileges#rolesjson-file"}),(0,n.kt)("inlineCode",{parentName:"a"},"roles.json")),", se ignora."),(0,n.kt)("p",null,"Por defecto, cuando no hay ning\xfan privilegio o rol asociado a la sesi\xf3n, la sesi\xf3n es una ",(0,n.kt)("a",l({parentName:"p"},{href:"#isguest"}),"sesi\xf3n invitado"),"."),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("a",l({parentName:"p"},{href:"#username"}),(0,n.kt)("inlineCode",{parentName:"a"},"userName"))," est\xe1 disponible a nivel de objeto de sesi\xf3n (s\xf3lo lectura)."),(0,n.kt)("h4",l({},{id:"ejemplo-6"}),"Ejemplo"),(0,n.kt)("p",null,'En un m\xe9todo de autenticaci\xf3n personalizado, se establece el privilegio "WebAdmin" para el usuario:'),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'var $userOK : Boolean\n\n... //Autenticar al usuario\n\nIf ($userOK) //El usuario ha sido aprobado\n  var $info : Object\n  $info:=New object()\n  $info.privileges:=New collection("WebAdmin")\n  Session.setPrivileges($info)\nEnd if\n\n')),(0,n.kt)("h2",l({},{id:"storage"}),".storage"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"v20 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Support of remote client and stored procedure sessions")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".storage")," : Object"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-9"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".storage")," contiene a shared object that can be used to store information available to all processes of the session."),(0,n.kt)("p",null,"Cuando se crea un objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Session"),", la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".storage")," est\xe1 vac\xeda. Al ser un objeto compartido, esta propiedad estar\xe1 disponible en el objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Storage")," del servidor."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Al igual que el objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Storage")," del servidor, la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".storage"),' es siempre "\xfanica": a\xf1adir un objeto compartido o una colecci\xf3n compartida a ',(0,n.kt)("inlineCode",{parentName:"p"},".storage")," no crea un grupo compartido.")),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"s\xf3lo lectura")," en s\xed misma pero devuelve un objeto de lectura-escritura."),(0,n.kt)(r.Z,{mdxType:"Tabs"},(0,n.kt)(i.Z,{value:"Web session example",mdxType:"TabItem"},(0,n.kt)("p",null,"You want to store the client IP in the ",(0,n.kt)("inlineCode",{parentName:"p"},".storage")," property. You can write in the ",(0,n.kt)("inlineCode",{parentName:"p"},"On Web Authentication")," database method:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'If (Session.storage.clientIP=Null) //first access\n    Use (Session.storage)\n        Session.storage.clientIP:=New shared object("value"; $clientIP)\n    End use\nEnd if\n\n'))),(0,n.kt)(i.Z,{value:"Remote session example",mdxType:"TabItem"},(0,n.kt)("p",null,"You want to share data between processes in the same session:"),(0,n.kt)("pre",null,(0,n.kt)("code",l({parentName:"pre"},{className:"language-4d"}),'Use (Session.storage)\n Session.storage.settings:=New shared object("property"; $value; "property2"; $value2)\nEnd use\n')))),(0,n.kt)("h2",l({},{id:"username"}),".userName"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",l({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"v20 R5"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"Support of remote client and stored procedure sessions")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",l({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",l({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".userName")," : Text"),(0,n.kt)("h4",l({},{id:"descripci\xf3n-10"}),"Descripci\xf3n"),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".userName")," contiene el nombre de usuario asociado a la sesi\xf3n. Puede utilizarlo para identificar al usuario dentro de su c\xf3digo."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"With web sessions, this property is an empty string by default. Se puede establecer mediante la propiedad ",(0,n.kt)("inlineCode",{parentName:"li"},"privileges")," de la funci\xf3n ",(0,n.kt)("a",l({parentName:"li"},{href:"#setprivileges"}),(0,n.kt)("inlineCode",{parentName:"a"},"setPrivileges()")),"."),(0,n.kt)("li",{parentName:"ul"},"With remote and stored procedure sessions, this property returns the same user name as the ",(0,n.kt)("a",l({parentName:"li"},{href:"https://doc.4d.com/4dv20/help/command/en/page182.html"}),(0,n.kt)("inlineCode",{parentName:"a"},"Current user"))," command.")),(0,n.kt)("p",null,"Esta propiedad es",(0,n.kt)("strong",{parentName:"p"},"de s\xf3lo lectura"),"."))}c.isMDXComponent=!0}}]);