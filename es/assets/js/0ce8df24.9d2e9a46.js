"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[45521],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>c});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=p(a),c=r,k=u["".concat(o,".").concat(c)]||u[c]||m[c]||l;return a?n.createElement(k,i(i({ref:t},d),{},{components:a})):n.createElement(k,i({ref:t},d))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=u;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<l;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},86876:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>d});a(67294);var n=a(3905);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r.apply(this,arguments)}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const i={id:"SessionClass",title:"Session"},s=void 0,o={unversionedId:"API/SessionClass",id:"version-19/API/SessionClass",title:"Session",description:"Los objetos Session son devueltos por el comando Session cuando se habilitan las sesiones escalables en su proyecto. El objeto Session es creado y mantenido autom\xe1ticamente por el servidor web 4D para controlar la sesi\xf3n de un cliente web (por ejemplo, un navegador). Este objeto proporciona al desarrollador web una interfaz para la sesi\xf3n de usuario, permitiendo gestionar privilegios, almacenar datos contextuales, compartir informaci\xf3n entre procesos y lanzar procesos preventivos relacionados con la sesi\xf3n.",source:"@site/i18n/es/docusaurus-plugin-content-docs/version-19/API/SessionClass.md",sourceDirName:"API",slug:"/API/SessionClass",permalink:"/docs/es/19/API/SessionClass",draft:!1,tags:[],version:"19",frontMatter:{id:"SessionClass",title:"Session"},sidebar:"docs",previous:{title:"POP3Transporter",permalink:"/docs/es/19/API/POP3TransporterClass"},next:{title:"Signal",permalink:"/docs/es/19/API/SignalClass"}},p={},d=[{value:"Resumen",id:"resumen",level:3},{value:"Session",id:"session",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:4},{value:"Ejemplo",id:"ejemplo",level:4},{value:".clearPrivileges()",id:"clearprivileges",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-1",level:4},{value:"Ejemplo",id:"ejemplo-1",level:4},{value:".expirationDate",id:"expirationdate",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-2",level:4},{value:"Ejemplo",id:"ejemplo-2",level:4},{value:".hasPrivilege()",id:"hasprivilege",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-3",level:4},{value:"Ejemplo",id:"ejemplo-3",level:4},{value:".idleTimeout",id:"idletimeout",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-4",level:4},{value:"Ejemplo",id:"ejemplo-4",level:4},{value:".isGuest()",id:"isguest",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-5",level:4},{value:"Ejemplo",id:"ejemplo-5",level:4},{value:".setPrivileges()",id:"setprivileges",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-6",level:4},{value:"Ejemplo",id:"ejemplo-6",level:4},{value:".storage",id:"storage",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-7",level:4},{value:"Ejemplo",id:"ejemplo-7",level:4},{value:".userName",id:"username",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n-8",level:4}],m={toc:d};function u(e){var{components:t}=e,a=l(e,["components"]);return(0,n.kt)("wrapper",r({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Los objetos Session son devueltos por el comando ",(0,n.kt)("a",r({parentName:"p"},{href:"#session"}),(0,n.kt)("inlineCode",{parentName:"a"},"Session"))," cuando ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/es/19/WebServer/sessions#enabling-sessions"}),"se habilitan las sesiones escalables en su proyecto"),". El objeto Session es creado y mantenido autom\xe1ticamente por el servidor web 4D para controlar la sesi\xf3n de un cliente web (por ejemplo, un navegador). Este objeto proporciona al desarrollador web una interfaz para la sesi\xf3n de usuario, permitiendo gestionar privilegios, almacenar datos contextuales, compartir informaci\xf3n entre procesos y lanzar procesos preventivos relacionados con la sesi\xf3n."),(0,n.kt)("p",null,"Para obtener informaci\xf3n detallada sobre la implementaci\xf3n de la sesi\xf3n, consulte la secci\xf3n ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/es/19/WebServer/sessions"}),"Sesiones del servidor web"),"."),(0,n.kt)("h3",r({},{id:"resumen"}),"Resumen"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null})))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#clearprivileges"}),(0,n.kt)("strong",{parentName:"a"},".clearPrivileges()")),"\xa0","\xa0","\xa0","\xa0","removes all the privileges associated to the session")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#expirationdate"}),(0,n.kt)("strong",{parentName:"a"},".expirationDate")," : Text"),"\xa0","\xa0","\xa0","\xa0","the expiration date and time of the session cookie")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#hasprivilege"}),(0,n.kt)("strong",{parentName:"a"},".hasPrivilege"),"( ",(0,n.kt)("em",{parentName:"a"},"privilege")," : Text ) : Boolean"),"\xa0","\xa0","\xa0","\xa0","returns True if the privilege is associated to the session, and False otherwise")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#idletimeout"}),(0,n.kt)("strong",{parentName:"a"},".idleTimeout")," : Integer"),"\xa0","\xa0","\xa0","\xa0","the inactivity session timeout (in minutes), after which the session is automatically closed by 4D")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#isguest"}),(0,n.kt)("strong",{parentName:"a"},".isGuest()")," : Boolean"),"\xa0","\xa0","\xa0","\xa0","returns True if the session is a Guest session (i.e. it has no privileges)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#setprivileges"}),(0,n.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"a"},"privilege")," : Text )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"a"},"privileges")," : Collection )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"a"},"settings")," : Object )"),"\xa0","\xa0","\xa0","\xa0","associates the privilege(s) defined in the parameter to the session")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#storage"}),(0,n.kt)("strong",{parentName:"a"},".storage")," : Object"),"\xa0","\xa0","\xa0","\xa0","a shared object that can be used to store information available to all requests of the web client")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("a",r({parentName:"td"},{href:"#username"}),(0,n.kt)("strong",{parentName:"a"},".userName")," : Text"),"\xa0","\xa0","\xa0","\xa0","the user name associated to the session")))),(0,n.kt)("h2",r({},{id:"session"}),"Session"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Session")," : 4D.Session"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"4D.Session"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Objeto Session")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descripci\xf3n"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," command returns the ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," object corresponding to the current scalable user web session."),(0,n.kt)("p",null,"Este comando s\xf3lo funciona cuando ",(0,n.kt)("a",r({parentName:"p"},{href:"/docs/es/19/WebServer/sessions#enabling-sessions"}),"est\xe1n activadas las sesiones escalables"),". Devuelve ",(0,n.kt)("em",{parentName:"p"},"Null")," cuando las sesiones est\xe1n deshabilitadas o cuando se utilizan sesiones heredadas."),(0,n.kt)("p",null,"Cuando se habilitan las sesiones escalables, el objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Session")," est\xe1 disponible desde cualquier proceso web en los siguientes contextos:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"M\xe9todos base ",(0,n.kt)("inlineCode",{parentName:"li"},"On Web Authentication"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"On Web Connection"),", y ",(0,n.kt)("inlineCode",{parentName:"li"},"On REST Authentication"),","),(0,n.kt)("li",{parentName:"ul"},"Las ",(0,n.kt)("a",r({parentName:"li"},{href:"/docs/es/19/ORDA/ordaClasses"}),"funciones Data Model Class")," ORDA llamadas por las peticiones REST,"),(0,n.kt)("li",{parentName:"ul"},"c\xf3digo procesado a trav\xe9s de las etiquetas 4D en las p\xe1ginas semidin\xe1micas (4DTEXT, 4DHTML, 4DEVAL, 4DSCRIPT/, 4DCODE)"),(0,n.kt)("li",{parentName:"ul"},'los m\xe9todos proyecto con el atributo "Available through 4D tags and URLs (4DACTION...)" y llamados a trav\xe9s de 4DACTION/ urls.')),(0,n.kt)("h4",r({},{id:"ejemplo"}),"Ejemplo"),(0,n.kt)("p",null,"Ha definido el m\xe9todo ",(0,n.kt)("inlineCode",{parentName:"p"},"action_Session"),' con el atributo "Available through 4D tags and URLs". Se llama al m\xe9todo introduciendo la siguiente URL en el navegador:'),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{}),"IP:port/4DACTION/action_Session\n")),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'  //m\xe9todo action_Session\n Case of\n    :(Session#Null)\n       If(Session.hasPrivilege("WebAdmin")) //llamada de la funci\xf3n hasPrivilege\n          WEB SEND TEXT("4DACTION --\x3e Session is WebAdmin")\n       Else\n          WEB SEND TEXT("4DACTION --\x3e Session is not WebAdmin")\n       End if\n    Else\n       WEB SEND TEXT("4DACTION --\x3e Sesion is null")\n End case\n')),(0,n.kt)("h2",r({},{id:"clearprivileges"}),".clearPrivileges()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".clearPrivileges()")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:null})),(0,n.kt)("td",r({parentName:"tr"},{align:"center"})),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"No requiere ning\xfan par\xe1metro")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-1"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".clearPrivileges()")," function removes all the privileges associated to the session. Como resultado, la sesi\xf3n se convierte autom\xe1ticamente en una sesi\xf3n de invitado."),(0,n.kt)("h4",r({},{id:"ejemplo-1"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"//Invalidar una sesi\xf3n\nvar $isGuest : Boolean  \n\nSession.clearPrivileges()\n$isGuest:=Session.isGuest() //$isGuest es True\n")),(0,n.kt)("h2",r({},{id:"expirationdate"}),".expirationDate"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".expirationDate")," : Text"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-2"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".expirationDate")," property contains the expiration date and time of the session cookie. ."),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"de s\xf3lo lectura"),". Se vuelve a calcular autom\xe1ticamente si se modifica el valor de la propiedad ",(0,n.kt)("a",r({parentName:"p"},{href:"#idletimeout"}),(0,n.kt)("inlineCode",{parentName:"a"},".idleTimeout")),"."),(0,n.kt)("h4",r({},{id:"ejemplo-2"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $expiration : Text\n$expiration:=Session.expirationDate //eg "2021-11-05T17:10:42Z"\n')),(0,n.kt)("h2",r({},{id:"hasprivilege"}),".hasPrivilege()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".hasPrivilege"),"( ",(0,n.kt)("em",{parentName:"p"},"privilege")," : Text ) : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"privilege"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nombre del privilegio a verificar")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True si la sesi\xf3n tiene ",(0,n.kt)("em",{parentName:"td"},"privilege"),", False en caso contrario")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-3"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".hasPrivilege()")," function returns True if the privilege is associated to the session, and False otherwise."),(0,n.kt)("h4",r({},{id:"ejemplo-3"}),"Ejemplo"),(0,n.kt)("p",null,'Quiere comprobar si el privilegio "WebAdmin" est\xe1 asociado a la sesi\xf3n:'),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'If (Session.hasPrivilege("WebAdmin"))\n //Access is granted, do nothing\nElse\n //Display an authentication page\n\nEnd if\n')),(0,n.kt)("h2",r({},{id:"idletimeout"}),".idleTimeout"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".idleTimeout")," : Integer"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-4"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".idleTimeout")," property contains the inactivity session timeout (in minutes), after which the session is automatically closed by 4D."),(0,n.kt)("p",null,"Si no se define esta propiedad, el valor por defecto es 60 (1h)."),(0,n.kt)("p",null,"Cuando se define esta propiedad, la propiedad ",(0,n.kt)("a",r({parentName:"p"},{href:"#expirationdate"}),(0,n.kt)("inlineCode",{parentName:"a"},".expirationDate"))," se actualiza en consecuencia."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"El valor no puede ser inferior a 60: si se define un valor inferior, el tiempo de espera se eleva hasta 60.")),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"de s\xf3lo escritura"),"."),(0,n.kt)("h4",r({},{id:"ejemplo-4"}),"Ejemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"If (Session.isGuest())\n  // A Guest session will close after 60 minutes of inactivity\n Session.idleTimeout:=60\nElse\n  // Other sessions will close after 120 minutes of inactivity\n Session.idleTimeout:=120\nEnd if\n\n")),(0,n.kt)("h2",r({},{id:"isguest"}),".isGuest()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".isGuest()")," : Boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Result"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Boolean"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"<-"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"True si la sesi\xf3n es una sesi\xf3n Guest, False en caso contrario")))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-5"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".isGuest()")," function returns True if the session is a Guest session (i.e. it has no privileges)."),(0,n.kt)("h4",r({},{id:"ejemplo-5"}),"Ejemplo"),(0,n.kt)("p",null,"En el m\xe9todo base ",(0,n.kt)("inlineCode",{parentName:"p"},"On Web Connection"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),"If (Session.isGuest())\n //Do something for Guest user\nEnd if\n")),(0,n.kt)("h2",r({},{id:"setprivileges"}),".setPrivileges()"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"p"},"privilege")," : Text )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"p"},"privileges")," : Collection )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,n.kt)("em",{parentName:"p"},"settings")," : Object )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Par\xe1metros"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:"center"})),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"privilege"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nombre del privilegio")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"privileges"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Colecci\xf3n de nombres de privilegios")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"settings"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Object"),(0,n.kt)("td",r({parentName:"tr"},{align:"center"}),"->"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),'Objeto con una propiedad "privilegios" (cadena o colecci\xf3n)')))),(0,n.kt)("p",null,"|"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-6"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".setPrivileges()")," function associates the privilege(s) defined in the parameter to the session."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"En el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"privilege"),", pase una cadena que contenga un nombre de privilegio (o varios nombres de privilegio separados por comas).")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"En el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"privileges"),", pase una colecci\xf3n de cadenas que contengan nombres de privilegios.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"En el par\xe1metro ",(0,n.kt)("em",{parentName:"p"},"settings"),", pase un objeto que contenga las siguientes propiedades:"))),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Propiedad"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Type"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Descripci\xf3n"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"privileges"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text o Collection"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),(0,n.kt)("li",null,"Cadena que contiene un nombre de privilegio, o"),(0,n.kt)("li",null,"Colecci\xf3n de cadenas que contienen nombres de privilegios"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"userName"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Text"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"Nombre de usuario para asociar a la sesi\xf3n (opcional)")))),(0,n.kt)("p",null,"Si la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},"privileges")," contiene un nombre de privilegio no v\xe1lido, se ignora."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},'En la implementaci\xf3n actual, s\xf3lo est\xe1 disponible el privilegio "WebAdmin".')),(0,n.kt)("p",null,"Por defecto, cuando no se asocia ning\xfan privilegio a la sesi\xf3n, \xe9sta es una ",(0,n.kt)("a",r({parentName:"p"},{href:"#isguest"}),"sesi\xf3n invitado"),"."),(0,n.kt)("p",null,"La propiedad ",(0,n.kt)("a",r({parentName:"p"},{href:"#username"}),(0,n.kt)("inlineCode",{parentName:"a"},"userName"))," est\xe1 disponible a nivel de objeto de sesi\xf3n (s\xf3lo lectura)."),(0,n.kt)("h4",r({},{id:"ejemplo-6"}),"Ejemplo"),(0,n.kt)("p",null,'En un m\xe9todo de autenticaci\xf3n personalizado, se establece el privilegio "WebAdmin" para el usuario:'),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'var $userOK : Boolean\n\n... //Autenticar al usuario\n\nIf ($userOK) //El usuario ha sido aprobado\n  var $info : Object\n  $info:=New object()\n  $info.privileges:=New collection("WebAdmin")\n  Session.setPrivileges($info)\nEnd if\n\n')),(0,n.kt)("h2",r({},{id:"storage"}),".storage"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".storage")," : Object"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-7"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".storage")," property contains a shared object that can be used to store information available to all requests of the web client."),(0,n.kt)("p",null,"Cuando se crea un objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Session"),", la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".storage")," est\xe1 vac\xeda. Al ser un objeto compartido, esta propiedad estar\xe1 disponible en el objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Storage")," del servidor."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Al igual que el objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Storage")," del servidor, la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".storage"),' es siempre "\xfanica": a\xf1adir un objeto compartido o una colecci\xf3n compartida a ',(0,n.kt)("inlineCode",{parentName:"p"},".storage")," no crea un grupo compartido.")),(0,n.kt)("p",null,"Esta propiedad es ",(0,n.kt)("strong",{parentName:"p"},"s\xf3lo lectura")," en s\xed misma pero devuelve un objeto de lectura-escritura."),(0,n.kt)("h4",r({},{id:"ejemplo-7"}),"Ejemplo"),(0,n.kt)("p",null,"Se desea almacenar la IP del cliente en la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},".storage"),". Puede escribir en el m\xe9todo de base de datos ",(0,n.kt)("inlineCode",{parentName:"p"},"On Web Authentication"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",r({parentName:"pre"},{className:"language-4d"}),'If (Session.storage.clientIP=Null) //first access\n    Use (Session.storage)\n        Session.storage.clientIP:=New shared object("value"; $clientIP)\n    End use\nEnd if\n\n')),(0,n.kt)("h2",r({},{id:"username"}),".userName"),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Hist\xf3rico"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Versi\xf3n"),(0,n.kt)("th",r({parentName:"tr"},{align:null}),"Modificaciones"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",r({parentName:"tr"},{align:null}),"v18 R6"),(0,n.kt)("td",r({parentName:"tr"},{align:null}),"A\xf1adidos"))))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},".userName")," : Text"),(0,n.kt)("h4",r({},{id:"descripci\xf3n-8"}),"Descripci\xf3n"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},".userName")," property contains the user name associated to the session. Puede utilizarlo para identificar al usuario dentro de su c\xf3digo."),(0,n.kt)("p",null,"Esta propiedad es una cadena vac\xeda por defecto. Se puede establecer mediante la propiedad ",(0,n.kt)("inlineCode",{parentName:"p"},"privileges")," de la funci\xf3n ",(0,n.kt)("a",r({parentName:"p"},{href:"#setprivileges"}),(0,n.kt)("inlineCode",{parentName:"a"},"setPrivileges()")),"."),(0,n.kt)("p",null,"Esta propiedad es",(0,n.kt)("strong",{parentName:"p"},"de s\xf3lo lectura"),"."))}u.isMDXComponent=!0}}]);